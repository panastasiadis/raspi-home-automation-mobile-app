{"version":3,"sources":["utils/Common.js","utils/CordovaGlobals.js","utils/Config.js","components/Login.js","utils/PrivateRoute.js","utils/PublicRoute.js","utils/MQTT.js","utils/SensorSpecific.js","components/AlertMessage.js","components/Sensors/LightBulbCard.js","components/Sensors/LightIntensityCard.js","components/Sensors/TemperatureHumidityCard.js","components/Sensors/MotionDetectorCard.js","components/Sensors/HeatCard.js","components/Sensors/Sensor.js","components/NoContentPage.js","components/Sensors/Sensors.js","components/DialogFilterBy.js","components/Actions/common/DeleteActionDialog.js","components/Actions/TimerActions/TimerActionAccordionDetails.js","components/Actions/SensorBasedActions/SensorBasedAccordionDetails.js","components/Actions/LocationBasedActions/LocationActionAccordionDetails.js","components/Actions/ActionCard.js","components/Actions/common/SelectSensorMenu.js","components/Actions/common/SelectCommandMenu.js","components/Actions/TimerActions/SelectRepeatMenu.js","components/Actions/TimerActions/TimerActionDialog.js","components/Actions/SensorBasedActions/SelectComparedQuantityMenu.js","components/Actions/SensorBasedActions/SelectMeasurementTypeMenu.js","components/Actions/SensorBasedActions/SelectSensorOptionsMenu.js","components/Actions/SensorBasedActions/SensorBasedActionDialog.js","utils/Location.js","components/Actions/LocationBasedActions/SelectRadiusMenu.js","components/Actions/LocationBasedActions/LocationBasedActionDialog.js","components/Actions/LocationBasedActions/EnableLocationServicesDialog.js","components/Actions/ActionsSpeedDial.js","components/Actions/Actions.js","components/MenuBar.js","components/Dashboard.js","components/FetcherMQTT.js","assets/brightness.svg","assets/lightbulb-open2.svg","assets/lightbulb-closed2.svg","assets/heater-on.svg","assets/heater-off.svg","assets/thermometer.svg","assets/humidity.svg","assets/average.svg","assets/not-found.svg","assets/home-automation4.svg","assets/home-automation.svg","assets/home-automation3.svg","assets/home-location.svg","assets/motion.svg","assets/no-motion.svg","App.js","reportWebVitals.js","theme/theme.js","index.js"],"names":["getToken","sessionStorage","getItem","removeUserSession","removeItem","setUserSession","token","user","setItem","JSON","stringify","FILE_PATH","document","addEventListener","window","cordova","file","applicationDirectory","backendApiUrl","Copyright","Typography","variant","color","align","Date","getFullYear","useStyles","makeStyles","theme","root","height","image","backgroundImage","backgroundRepeat","backgroundColor","palette","type","grey","backgroundSize","backgroundPosition","paper","margin","spacing","display","flexDirection","alignItems","avatar","secondary","main","form","width","marginTop","submit","SignInSide","props","classes","username","useFormInput","password","useState","error","setError","setLoading","Grid","container","component","className","CssBaseline","item","xs","sm","md","Paper","elevation","square","Avatar","noValidate","TextField","required","fullWidth","id","label","name","autoComplete","autoFocus","onChange","style","Button","onClick","axios","post","value","then","response","data","history","push","catch","console","log","alert","status","message","Box","mt","initialValue","setValue","e","target","PrivateRoute","Component","rest","render","to","pathname","state","from","location","PublicRoute","client","websocketUrl","clientId","Math","random","toString","substr","options","keepalive","protocolId","protocolVersion","clean","reconnectPeriod","connectTimeout","will","topic","payload","qos","retain","rejectUnauthorized","mqttService","getClient","mqtt","connect","subscribe","on","err","end","publishMessage","publish","granted","onMessage","callBack","packet","unsubscribe","closeConnection","undefined","extractMqttTopicInfo","mqttTopic","splitStr","split","room","deviceId","sensorName","relayLightBulb","relayHeat","motionDetector","temperatureHumidity","lightIntensity","SENSOR_TYPE","measurementOutputSensors","optionsOutputSensors","commandsByType","command","openObj","closeObj","description","commandOnFailure","getSensorOutputType","includes","Alert","AlertMessage","device","reason","severity","notificationMessage","alertMessage","open","setOpen","handleClose","event","useEffect","actionMessage","actionsByType","sensorType","actionCategory","roomName","Snackbar","onClose","autoHideDuration","anchorOrigin","vertical","horizontal","borderRadius","flexWrap","justifyContent","info","flexGrow","deviceInfoIndividual","paddingLeft","paddingRight","divContent","padding","imageLightOpen","imageLightClosed","currentState","onOff","textAlign","fontWeight","roomInfo","primary","circularProgress","marginLeft","OutlinedCard","relayState","setRelayState","switchValue","spinner","disabled","spinnerState","setSpinnerState","messageHandler","off","CircularProgress","Switch","ev","checked","progressBar","brightnessIcon","degrees","CircularProgressWithLabel","position","size","top","left","bottom","right","round","brightness","percentage","currBrightness","setCurrBrightness","React","luxStr","luxPercentage","parseFloat","imageTemperature","imageHumidity","imageAverage","tempHum","averageMeasurementsDiv","avgTemp","avgHum","isFetching","averageData","setAverageData","temperature","humidity","currTempHum","setCurrTempHum","displayedAvg","a","get","total","measurementBucket","temperaturesSum","humiditiesSum","measurementsCounter","length","fetchMeasurements","motionImage","noMotionImage","motionInfo","MotionCard","currMotionState","setCurrMotionState","motionStateRef","useRef","lastTimeDetection","setLastTimeDetection","motionState","current","toLocaleString","overflow","title","roomTitle","SensorGridItem","sensor","lg","pubTopic","commandTopic","divNoContent","NoContentPage","gutterBottom","displayItem","Sensors","sensors","filtered","filter","selected","justify","map","dialogPaper","emptyContentLabel","SimpleDialog","Dialog","aria-labelledby","DialogTitle","contents","List","ListItem","button","ListItemAvatar","ListItemText","SimpleDialogDemo","selectedValue","setSelectedValue","ListItemIcon","selectItem","ResponsiveDialog","IconButton","DialogContent","DialogContentText","DialogActions","delete","action","_id","updateActions","accordionContent","timeInfoIndividual","dateLabel","TimerActionContent","date","recurrenceMessage","whenDescription","whenSensorDescription","labelDynamicContent","marginRight","deviceInfo","breakpoints","down","comparisonType","quantity","measurementType","toLowerCase","measurementName","getMeasurementUnitsName","option","measurementSensorType","measurementRoomName","measurementSensorName","measurementDeviceId","radiusMeters","LocationActionContent","src","alt","radius","fontSize","typography","pxToRem","flexShrink","borderStyle","borderColor","headingCommand","heading","secondaryHeading","text","summary","deleteButton","ActionCard","expanded","setExpanded","details","recurrenceNumber","recurrenceTimeUnit","startTime","panel","commandDescription","registrationDate","Accordion","isExpanded","AccordionSummary","expandIcon","aria-controls","AccordionDetails","Divider","formControl","minWidth","maxWidth","menuItem","ControlledOpenSelect","selectedSensor","setSelectedSensor","filteredSensors","isCommandSensor","FormControl","InputLabel","Select","labelId","onOpen","selectSensor","MenuItem","CommandMenu","selectedCommand","setSelectedCommand","clearEntries","commandsArray","selectCommand","el","index","BootstrapInput","withStyles","input","background","border","transition","transitions","create","InputBase","CustomizedSelects","recurrence","setRecurrence","timeUnits","setTimeUnits","focused","htmlFor","selectRecurrence","selectTimeUnits","extendedIcon","fab","picker","cancelButton","TimerActionDialog","selectedDate","setSelectedDate","sensorRef","selectedRecurrence","setSelectedRecurrence","selectedTimeUnits","setSelectedTimeUnits","setClearedEntries","setStatus","loading","handleDateChange","closeDialog","disableBackdropClick","disableEscapeKeyDown","dividers","utils","DateFnsUtils","format","KeyboardButtonProps","now","timestamp","setQuantity","comparison","setComparison","selectComparison","selectQuantity","MeasurementTypesMenu","selectedType","setSelectedType","measurementTypes","getSensorOutputName","selectMeasurementType","SensorOptionsMenu","selectedOption","setSelectedOption","sensorOptions","sensorOutputName","getSensorOption","outputType","selectOption","wrapDiv","marginBottom","SensorBasedActionDialog","selectedWhenSensor","setSelectedWhenSensor","whenSensorRef","selectedCommandSensor","setSelectedCommandSensor","cmdSensorRef","selectedMeasurementType","setSelectedMeasurementType","selectedQuantity","setSelectedQuantity","selectedComparisonType","setSelectedComparisonType","selectedSensorOption","setSelectedSensorOption","clearWhenEntries","setClearedWhenEntries","clearCmdEntries","setClearedCmdEntries","whenSensorOutputMenu","cmdOnFail","onLocationServicesReady","callback","BackgroundGeolocation","configure","locationProvider","ACTIVITY_PROVIDER","desiredAccuracy","HIGH_ACCURACY","stationaryRadius","distanceFilter","notificationTitle","notificationText","debug","interval","fastestInterval","activitiesInterval","url","httpHeaders","postTemplate","lat","lon","startTask","taskKey","endTask","stationaryLocation","code","AUTHORIZED","setTimeout","confirm","showAppSettings","checkStatus","isRunning","locationServicesEnabled","authorization","start","removeAllListeners","paddingTop","setRadius","selectRadius","selectedRadius","setSelectedRadius","EnableLocationServices","servicesEnabled","setServicesEnabled","dialog","speedDial","OpenIconSpeedDial","selectedAction","setSelectedAction","SpeedDial","ariaLabel","icon","SpeedDialIcon","openIcon","SpeedDialAction","tooltipTitle","URL","MaterialUIPickers","actions","actionData","setActions","effectUpdate","setEffectUpdate","rerenderOnActionChange","fetchDevices","menuButton","ButtonAppBar","dialogItems","openDialog","setOpenDialog","AppBar","Toolbar","showAllSensors","rooms","categories","toolbar","toolbarIcon","mixins","appBar","zIndex","drawer","easing","sharp","duration","leavingScreen","appBarShift","enteringScreen","menuButtonHidden","drawerPaper","whiteSpace","drawerPaperClose","overflowX","appBarSpacer","content","paddingBottom","primaryAction","currentTab","hiMessage","behindBackground","withRouter","selectedItem","handleLogout","handleDrawerClose","handleAllButton","currentlyDisplayedItem","tab","Set","userStr","parse","getUser","clsx","edge","aria-label","Link","href","RouterLink","underline","Drawer","Container","pt","FetcherÎœQTT","setData","dataRef","infoObj","newData","find","newSensors","concat","actionInfo","App","authLoading","setAuthLoading","path","FetcherMQTT","Login","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","createMuiTheme","renderReactDom","ReactDOM","ThemeProvider","getElementById"],"mappings":"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","file":"static/js/main.6ae756da.chunk.js","sourcesContent":["// return the user data from the session storage\nexport const getUser = () => {\n  const userStr = sessionStorage.getItem(\"user\");\n  if (userStr) {\n    return JSON.parse(userStr);\n  } else {\n    return null;\n  }\n};\n\n// return the token from the session storage\nexport const getToken = () => {\n  return sessionStorage.getItem(\"token\") || null;\n};\n\n// remove the token and user from the session storage\nexport const removeUserSession = () => {\n  sessionStorage.removeItem(\"token\");\n  sessionStorage.removeItem(\"user\");\n};\n\n// set the token and user from the session storage\nexport const setUserSession = (token, user) => {\n  sessionStorage.setItem(\"token\", token);\n  sessionStorage.setItem(\"user\", JSON.stringify(user));\n};\n","let FILE_PATH = '';\n\ndocument.addEventListener('deviceready', () => {\n    FILE_PATH = `${window.cordova.file.applicationDirectory}www`;\n}, false);\n\nexport {FILE_PATH};","export const backendApiUrl = {\n  server: 'https://bilious-cow-5121.dataplicity.io/',\n  ws: 'bilious-cow-5121.dataplicity.io/ws',\n};","import React, { useState } from \"react\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Box from \"@material-ui/core/Box\";\nimport Grid from \"@material-ui/core/Grid\";\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport axios from \"axios\";\nimport { setUserSession } from \"../utils/Common\";\nimport {FILE_PATH} from '../utils/CordovaGlobals'\nimport { backendApiUrl } from \"../utils/Config\";\n\nfunction Copyright() {\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      {\"Copyright Â© \"}\n      {\"Home Automation \"}\n      {new Date().getFullYear()}\n      {\".\"}\n    </Typography>\n  );\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    height: \"100vh\",\n  },\n  image: {\n    backgroundImage: `url(${FILE_PATH}/static/media/home-automation3.2481b425.svg)`,\n    backgroundRepeat: \"no-repeat\",\n    backgroundColor:\n      theme.palette.type === \"light\"\n        ? theme.palette.grey[50]\n        : theme.palette.grey[900],\n    backgroundSize: \"cover\",\n    backgroundPosition: \"center\",\n  },\n  paper: {\n    margin: theme.spacing(8, 4),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: \"100%\", // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nexport default function SignInSide(props) {\n  const classes = useStyles();\n  const username = useFormInput(\"\");\n  const password = useFormInput(\"\");\n\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  // handle button click of login form\n  const handleLogin = () => {\n    setError(null);\n    setLoading(true);\n\n    axios\n      .post(backendApiUrl.server + \"api/users/signin\", {\n        username: username.value,\n        password: password.value,\n      })\n      .then((response) => {\n        setLoading(false);\n        setUserSession(response.data.token, response.data.user);\n        props.history.push(\"/dashboard\");\n      })\n      .catch((error) => {\n        console.log(error)\n        alert(error);\n        setLoading(false);\n        if (error.response) {\n          if (error.response.status === 401 || error.response.status === 400) {\n            setError(error.response.data.message);\n          }\n        } else setError(\"Something went wrong. Please try again later.\");\n      });\n  };\n\n  return (\n    <Grid container component=\"main\" className={classes.root}>\n      <CssBaseline />\n      <Grid item xs={false} sm={4} md={7} className={classes.image} />\n      <Grid item xs={12} sm={8} md={5} component={Paper} elevation={6} square>\n        <div className={classes.paper}>\n          <Avatar className={classes.avatar}>\n            <LockOutlinedIcon />\n          </Avatar>\n          <Typography component=\"h1\" variant=\"h5\">\n            Sign in\n          </Typography>\n          <form className={classes.form} noValidate>\n            <TextField\n              variant=\"filled\"\n              color=\"secondary\"\n              margin=\"normal\"\n              required\n              fullWidth\n              id=\"username\"\n              label=\"Username\"\n              name=\"username\"\n              autoComplete=\"username\"\n              autoFocus\n              onChange={username.onChange}\n            />\n            <TextField\n              variant=\"filled\"\n              color=\"secondary\"\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"password\"\n              label=\"Password\"\n              type=\"password\"\n              id=\"password\"\n              autoComplete=\"current-password\"\n              onChange={password.onChange}\n            />\n            {error && (\n              <>\n                <small style={{ color: \"red\" }}>{error}</small>\n                <br />\n              </>\n            )}\n            <Button\n              type=\"button\"\n              fullWidth\n              variant=\"contained\"\n              color=\"primary\"\n              className={classes.submit}\n              onClick={handleLogin}\n            >\n              Sign In\n            </Button>\n            <Box mt={5}>\n              <Copyright />\n            </Box>\n          </form>\n        </div>\n      </Grid>\n    </Grid>\n  );\n}\n\nconst useFormInput = (initialValue) => {\n  const [value, setValue] = useState(initialValue);\n\n  const handleChange = (e) => {\n    setValue(e.target.value);\n  };\n  return {\n    value,\n    onChange: handleChange,\n  };\n};\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { getToken } from './Common';\n \n// handle the private routes\nfunction PrivateRoute({ component: Component, ...rest }) {\n  return (\n    <Route\n      {...rest}\n      render={(props) => getToken() ? <Component {...props} /> : <Redirect to={{ pathname: '/', state: { from: props.location } }} />}\n    />\n  )\n}\n \nexport default PrivateRoute;","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { getToken } from \"./Common\";\n\n// handle the public routes\nfunction PublicRoute({ component: Component, ...rest }) {\n  return (\n    <Route\n      {...rest}\n      render={(props) =>\n        !getToken() ? (\n          <Component {...props} />\n        ) : (\n          <Redirect to={{ pathname: \"/dashboard\" }} />\n        )\n      }\n    />\n  );\n}\n\nexport default PublicRoute;\n","import mqtt from \"mqtt\";\nimport { backendApiUrl } from \"./Config\";\n\nconst websocketUrl = \"wss://\" + backendApiUrl.ws;\nconst clientId = \"mqttjs_brower_\" + Math.random().toString(16).substr(2, 4);\nlet client;\n\nvar options = {\n  keepalive: 30,\n  clientId: clientId,\n  protocolId: \"MQTT\",\n  protocolVersion: 4,\n  clean: true,\n  reconnectPeriod: 1000,\n  connectTimeout: 30 * 1000,\n  will: {\n    topic: \"WillMsg\",\n    payload: \"Connection Closed abnormally..!\",\n    qos: 0,\n    retain: false,\n  },\n  rejectUnauthorized: false,\n};\n\nconst initClient = (errorHandler) => {\n  client = mqtt.connect(websocketUrl, options);\n\n  client.subscribe(\"browser\");\n\n  client.on(\"error\", (err) => {\n    console.log(`Connection to ${websocketUrl} failed`, err);\n    client.end();\n  });\n\n  client.on(\"close\", () => {\n    console.log(clientId + \" disconnected\");\n  });\n  return client;\n};\n\nconst getClient = () => {\n  if (!client) {\n    initClient();\n  }\n  return client;\n}\n\nconst onMessage = (client, callBack) => {\n  client.on(\"message\", (topic, message, packet) => {\n    console.log(message.toString(), topic);\n    \n    callBack(client, topic, message);\n  });\n};\n\nconst publishMessage = (client, topic, message) => {\n  client.publish(topic, message);\n}\n\nconst subscribe = (client, topic) => {\n  const callBack = (err, granted) => {\n    if (err) {\n      console.log(\"Subscription request failed\");\n    }\n  };\n  return client.subscribe(topic, callBack);\n};\n\nconst unsubscribe = (client, topic) => {\n  client.unsubscribe(topic);\n};\n\nconst closeConnection = (client) => {\n  client.end();\n  client = undefined;\n};\n\nconst extractMqttTopicInfo = (mqttTopic) => {\n  const splitStr = mqttTopic.split(\"/\");\n\n  const [room, deviceId, type, sensorName] = splitStr;\n\n  return {\n    room,\n    deviceId,\n    type,\n    sensorName,\n  };\n};\n\nconst mqttService = {\n  getClient,\n  publishMessage,\n  subscribe,\n  onMessage,\n  unsubscribe,\n  closeConnection,\n  extractMqttTopicInfo\n};\n\nexport default mqttService;\n\n","const relayLightBulb = {\n  type: 'Lightbulb',\n  openCommand: 'ON',\n  closeCommand: 'OFF',\n  openCommandDescription: 'Turn the lights on',\n  closeCommandDescription: 'Turn the lights off',\n  openAction: 'Turning the lights on!',\n  closeAction: 'Turning the lights off!',\n};\n\nconst relayHeat = {\n  type: 'Heat',\n  openCommand: 'ON',\n  closeCommand: 'OFF',\n  openCommandDescription: 'Turn the heat on',\n  closeCommandDescription: 'Turn the heat off',\n  openAction: 'Turning the heat on!',\n  closeAction: 'Turning the heat off!',\n};\nconst motionDetector = {\n  type: 'Motion-Detector',\n  unit: 'Detection status',\n  detection: 'Motion detected',\n  noDetection: 'No motion detected',\n};\n\nconst temperatureHumidity = {\n  type: 'Temperature-Humidity',\n  temperatureMeasAndUnit: 'Temperature (Celcius)',\n  temperatureUnit: 'Celcius',\n  humidityMeasAndUnit: 'Humidity (%)',\n  humidityUnit: '%',\n};\n\nconst lightIntensity = {\n  type: 'Light-Intensity',\n  measAndUnit: 'Light Intensity (%)',\n  unit: '%',\n};\n\nexport const SENSOR_TYPE = {\n  RELAY_LIGHTBULB: relayLightBulb.type,\n  RELAY_HEAT: relayHeat.type,\n  TEMPERATURE_HUMIDITY: temperatureHumidity.type,\n  LIGHT_INTENSITY: lightIntensity.type,\n  MOTION_DETECTOR: motionDetector.type,\n};\n\nconst measurementOutputSensors = [\n  lightIntensity.type,\n  temperatureHumidity.type,\n];\nconst optionsOutputSensors = [\n  relayLightBulb.type,\n  relayHeat.type,\n  motionDetector.type,\n];\n\nexport const actionsByType = (type, command) => {\n  switch (type) {\n    case relayLightBulb.type:\n      switch (command) {\n        case relayLightBulb.openCommand:\n          return relayLightBulb.openAction;\n        case relayLightBulb.closeCommand:\n          return relayLightBulb.closeAction;\n        default:\n          break;\n      }\n      break;\n    case relayHeat.type:\n      switch (command) {\n        case relayHeat.openCommand:\n          return relayHeat.openAction;\n        case relayHeat.closeCommand:\n          return relayHeat.closeAction;\n        default:\n          break;\n      }\n      break;\n    default:\n      break;\n  }\n};\n\nexport const commandsByType = (type, command) => {\n  let openObj, closeObj;\n  switch (type) {\n    case SENSOR_TYPE.RELAY_LIGHTBULB:\n      openObj = {\n        command: relayLightBulb.openCommand,\n        description: relayLightBulb.openCommandDescription,\n        commandOnFailure: relayLightBulb.closeCommand,\n      };\n      closeObj = {\n        command: relayLightBulb.closeCommand,\n        description: relayLightBulb.closeCommandDescription,\n        commandOnFailure: relayLightBulb.openCommand,\n      };\n\n      switch (command) {\n        case relayLightBulb.openCommand:\n          return openObj;\n        case relayLightBulb.closeCommand:\n          return closeObj;\n        default:\n          return [openObj, closeObj];\n      }\n    case SENSOR_TYPE.RELAY_HEAT:\n      openObj = {\n        command: relayHeat.openCommand,\n        description: relayHeat.openCommandDescription,\n        commandOnFailure: relayHeat.closeCommand,\n      };\n      closeObj = {\n        command: relayHeat.closeCommand,\n        description: relayHeat.closeCommandDescription,\n        commandOnFailure: relayHeat.openCommand,\n      };\n\n      switch (command) {\n        case relayHeat.openCommand:\n          return openObj;\n        case relayHeat.closeCommand:\n          return closeObj;\n        default:\n          return [openObj, closeObj];\n      }\n    default:\n      break;\n  }\n};\n\nexport const getSensorOutputName = (type) => {\n  switch (type) {\n    case temperatureHumidity.type:\n      return [\n        temperatureHumidity.temperatureMeasAndUnit,\n        temperatureHumidity.humidityMeasAndUnit,\n      ];\n    case lightIntensity.type:\n      return [lightIntensity.measAndUnit];\n    case motionDetector.type:\n      return [motionDetector.unit];\n    default:\n      break;\n  }\n};\n\nexport const getMeasurementUnitsName = (measurementName) => {\n  switch (measurementName) {\n    case temperatureHumidity.temperatureMeasAndUnit:\n      return temperatureHumidity.temperatureUnit;\n    case temperatureHumidity.humidityMeasAndUnit:\n      return temperatureHumidity.humidityUnit;\n    case lightIntensity.measAndUnit:\n      return lightIntensity.unit;\n    default:\n      break;\n  }\n};\n\nexport const getSensorOption = (sensorOutputName) => {\n  switch (sensorOutputName) {\n    case motionDetector.unit:\n      return [motionDetector.detection, motionDetector.noDetection];\n    default:\n      break;\n  }\n};\n\nexport const getSensorOutputType = (type) => {\n  if (measurementOutputSensors.includes(type)) {\n    return 'measurement';\n  } else if (optionsOutputSensors.includes(type)) {\n    return 'options';\n  }\n};\n","import React, { useEffect, useState } from 'react';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { actionsByType } from '../utils/SensorSpecific';\n\nfunction Alert(props) {\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n    '& > * + *': {\n      marginTop: theme.spacing(2),\n    },\n  },\n}));\n\nexport default function AlertMessage(props) {\n  const classes = useStyles();\n\n  const [open, setOpen] = useState(props.alertMessage ? true : false);\n\n  const handleClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n    setOpen(false);\n  };\n  // console.log(props.alertMessage);\n\n  useEffect(() => {\n    setOpen(props.alertMessage ? true : false);\n  }, [props]);\n\n  let device;\n  let reason;\n  if (props.alertMessage) {\n    device = props.alertMessage.device;\n    reason = props.alertMessage.reason;\n  }\n\n  let severity;\n  if (reason === 'connected') {\n    severity = 'success';\n  } else if (reason === 'disconnected') {\n    severity = 'error';\n  } else if (reason === 'action') {\n    severity = 'info';\n  }\n\n  let notificationMessage;\n  if (reason === 'action') {\n    const actionMessage = actionsByType(\n      props.alertMessage.sensorType,\n      props.alertMessage.command\n    );\n    notificationMessage = `${props.alertMessage.actionCategory}: ${actionMessage} (${props.alertMessage.sensorType} | ${props.alertMessage.roomName})`;\n  } else {\n    notificationMessage = `${device} was ${reason}`;\n  }\n\n  return (\n    <div className={classes.root}>\n      <Snackbar\n        open={open}\n        onClose={handleClose}\n        autoHideDuration={6000}\n        anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\n      >\n        <Alert severity={severity} onClose={handleClose}>\n          {notificationMessage}\n        </Alert>\n      </Snackbar>\n    </div>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Switch from \"@material-ui/core/Switch\";\nimport mqttService from \"../../utils/MQTT\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport {FILE_PATH} from \"../../utils/CordovaGlobals\";\n\nimport RouterIcon from \"@material-ui/icons/Router\";\nimport RoomIcon from \"@material-ui/icons/Room\";\nimport BlurCircularIcon from \"@material-ui/icons/BlurCircular\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    // width: \"100%\",\n    backgroundColor: \"white\",\n    borderRadius: \"10px\",\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    // flexDirection: \"column\",\n  },\n  info: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    flexGrow: 1,\n    flexDirection: \"column\",\n    justifyContent: \"space-around\",\n    borderRadius: \"10px\",\n    // backgroundColor: theme.palette.secondary.main,\n    // border:`2px solid ${theme.palette.secondary.main}`,\n    margin: theme.spacing(1),\n  },\n  deviceInfoIndividual: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    margin: theme.spacing(1),\n    color: theme.palette.secondary.main,\n  },\n  divContent: {\n    display: \"flex\",\n    alignItems: \"center\",\n    flexDirection: \"column\",\n    padding: theme.spacing(2),\n  },\n  imageLightOpen: {\n    margin: theme.spacing(1),\n    padding: theme.spacing(1),\n    backgroundImage: `url(${FILE_PATH}/static/media/lightbulb-open2.d67991f2.svg)`,\n    backgroundPosition: \"center\",\n    backgroundSize: \"contain\",\n    backgroundRepeat: \"no-repeat\",\n    width: 70,\n    height: 70,\n  },\n  imageLightClosed: {\n    margin: theme.spacing(1),\n    padding: theme.spacing(1),\n    backgroundImage: `url(${FILE_PATH}/static/media/lightbulb-closed2.909d2ca0.svg)`,\n    backgroundPosition: \"center\",\n    backgroundSize: \"contain\",\n    backgroundRepeat: \"no-repeat\",\n    width: 70,\n    height: 70,\n  },\n  currentState: {\n    display: \"flex\",\n    alignItems: \"center\",\n    padding: theme.spacing(1),\n  },\n  onOff: {\n    textAlign: \"center\",\n    backgroundColor: theme.palette.secondary.main,\n    margin: theme.spacing(1),\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    color: \"white\",\n    borderRadius: \"20px\",\n    fontWeight: \"bold\",\n  },\n  roomInfo: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.primary.main,\n    color: \"white\",\n    borderRadius: \"10px\",\n  },\n  circularProgress: {\n    display: \"inline\",\n    \"& > * + *\": {\n      marginLeft: theme.spacing(2),\n    },\n  },\n}));\n\nexport default function OutlinedCard(props) {\n  const classes = useStyles();\n  const [relayState, setRelayState] = useState(\"Loading...\");\n  const switchValue = relayState === \"ON\" ? true : false;\n  const [spinnerState, setSpinnerState] = useState({\n    spinner: false,\n    disabled: true,\n  });\n\n  const onChangeHandler = (ev) => {\n    const client = mqttService.getClient();\n    console.log(client, props.command);\n    if (ev.target.checked) {\n      mqttService.publishMessage(client, props.command, \"ON\");\n    } else {\n      mqttService.publishMessage(client, props.command, \"OFF\");\n    }\n\n    setSpinnerState({ spinner: true, disabled: true });\n  };\n\n  useEffect(() => {\n    const client = mqttService.getClient();\n\n    const messageHandler = (topic, payload, packet) => {\n      console.log(payload.toString(), topic);\n      if (topic === props.topic) {\n        setRelayState(payload.toString());\n        setSpinnerState({ spinner: false, disabled: false });\n      }\n    };\n\n    client.on(\"message\", messageHandler);\n\n    return () => {\n      console.log(\"unmounting relay\");\n      client.off(\"message\", messageHandler);\n    };\n  }, [props.topic]);\n  return (\n    <div className={classes.root}>\n      <div className={classes.divContent}>\n        {relayState === \"ON\" ? (\n          <div className={classes.imageLightOpen} />\n        ) : (\n          <div className={classes.imageLightClosed} />\n        )}\n        <div className={classes.currentState}>\n          <Typography variant=\"body1\">{\"Current state \"}</Typography>\n          <Typography className={classes.onOff} variant=\"subtitle2\">\n            {relayState}\n          </Typography>\n        </div>\n\n        {spinnerState.spinner === true ? (\n          <div className={classes.circularProgress}>\n            <CircularProgress />\n          </div>\n        ) : null}\n        <Switch\n          onChange={onChangeHandler}\n          checked={switchValue}\n          disabled={spinnerState.disabled}\n        />\n      </div>\n      <div className={classes.info}>\n        <div className={classes.roomInfo}>\n          <RoomIcon />\n          <Typography variant=\"h5\">{props.roomName}</Typography>\n        </div>\n        <div className={classes.deviceInfoIndividual}>\n          <BlurCircularIcon />\n          <Typography variant=\"subtitle1\">{props.name}</Typography>\n        </div>\n        <div className={classes.deviceInfoIndividual}>\n          <RouterIcon />\n          <Typography variant=\"subtitle1\">{props.device}</Typography>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\n\nimport Box from \"@material-ui/core/Box\";\n\nimport RouterIcon from \"@material-ui/icons/Router\";\nimport RoomIcon from \"@material-ui/icons/Room\";\nimport BlurCircularIcon from \"@material-ui/icons/BlurCircular\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport {FILE_PATH} from \"../../utils/CordovaGlobals\";\nimport mqttService from \"../../utils/MQTT\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    // width: \"100%\",\n    backgroundColor: \"white\",\n    borderRadius: \"10px\",\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    // flexDirection: \"column\",\n  },\n  info: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    flexGrow: 1,\n    flexDirection: \"column\",\n    justifyContent: \"space-around\",\n    borderRadius: \"10px\",\n    // backgroundColor: theme.palette.secondary.main,\n    // border:`2px solid ${theme.palette.secondary.main}`,\n    margin: theme.spacing(1),\n  },\n  deviceInfoIndividual: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    margin: theme.spacing(1),\n    color: theme.palette.secondary.main,\n  },\n  divContent: {\n    display: \"flex\",\n    alignItems: \"center\",\n    flexDirection: \"column\",\n    padding: theme.spacing(2),\n  },\n  roomInfo: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.primary.main,\n    color: \"white\",\n    // borderStyle: \"solid\",\n    // borderColor: theme.palette.secondar.main,\n    borderRadius: \"10px\",\n  },\n  progressBar: {\n    textAlign: \"center\",\n    // padding: theme.spacing(1),\n    width: \"100%\",\n  },\n  brightnessIcon: {\n    margin: theme.spacing(1),\n    padding: theme.spacing(1),\n    backgroundImage: `url(${FILE_PATH}/static/media/brightness.f2162df0.svg)`,\n    backgroundPosition: \"center\",\n    backgroundSize: \"contain\",\n    backgroundRepeat: \"no-repeat\",\n    width: 30,\n    height: 30,\n  },\n  degrees: {\n    textAlign: \"center\",\n    backgroundColor: theme.palette.secondary.main,\n    paddingLeft: theme.spacing(1),\n    paddingRight: theme.spacing(1),\n    color: \"white\",\n    borderRadius: \"20px\",\n    fontWeight: \"bold\",\n  },\n}));\n\nfunction CircularProgressWithLabel(props) {\n  const classes = useStyles();\n\n  let value = props.value;\n  if (props.value > 100) {\n    value = 100;\n  }\n  return (\n    <Box position=\"relative\" display=\"inline-flex\">\n      <CircularProgress variant=\"determinate\" value={value} size={100} />\n      <Box\n        top={0}\n        left={0}\n        bottom={0}\n        right={0}\n        position=\"absolute\"\n        display=\"flex\"\n        alignItems=\"center\"\n        justifyContent=\"center\"\n      >\n        <div className={classes.divContent}>\n          <div className={classes.brightnessIcon} />\n          <Typography\n            variant=\"body2\"\n            component=\"div\"\n            color=\"textSecondary\"\n          >{`${Math.round(value)}%`}</Typography>\n        </div>\n      </Box>\n    </Box>\n  );\n}\n\n\nexport default function OutlinedCard(props) {\n  const classes = useStyles();\n\n  const [currBrightness, setCurrBrightness] = useState({\n    brightness: \"Loading...\",\n    percentage: 0,\n  });\n\n  React.useEffect(() => {\n    const client = mqttService.getClient();\n\n    const messageHandler = (topic, payload, packet) => {\n      console.log(payload.toString(), topic);\n      if (topic === props.topic) {\n        const luxStr = payload.toString();\n        const luxPercentage = parseFloat(luxStr);\n        setCurrBrightness({ brightness: luxStr, percentage: luxPercentage });\n      }\n    };\n\n    client.on(\"message\", messageHandler);\n\n    return () => {\n      console.log(\"unmounting light intensity\");\n      client.off(\"message\", messageHandler);\n    };\n  }, [props.topic]);\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.divContent}>\n        <div className={classes.progressBar}>\n          <CircularProgressWithLabel value={currBrightness.percentage} />\n        </div>\n        <Typography className={classes.degrees}>\n          {`${currBrightness.brightness} lux`}\n        </Typography>\n      </div>\n      <div className={classes.info}>\n        <div className={classes.roomInfo}>\n          <RoomIcon />\n          <Typography variant=\"h5\">{props.roomName}</Typography>\n        </div>\n        <div className={classes.deviceInfoIndividual}>\n          <BlurCircularIcon />\n          <Typography variant=\"subtitle1\">{props.sensorName}</Typography>\n        </div>\n        <div className={classes.deviceInfoIndividual}>\n          <RouterIcon />\n          <Typography variant=\"subtitle1\">{props.device}</Typography>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport RouterIcon from \"@material-ui/icons/Router\";\nimport RoomIcon from \"@material-ui/icons/Room\";\nimport BlurCircularIcon from \"@material-ui/icons/BlurCircular\";\n\nimport {FILE_PATH} from \"../../utils/CordovaGlobals\";\nimport mqttService from \"../../utils/MQTT\";\nimport { backendApiUrl } from \"../../utils/Config\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    // flexGrow: 1,\n    backgroundColor: \"white\",\n    borderRadius: \"10px\",\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    // flexDirection: \"column\",\n  },\n  degrees: {\n    textAlign: \"center\",\n    backgroundColor: theme.palette.secondary.main,\n    paddingLeft: theme.spacing(1),\n    paddingRight: theme.spacing(1),\n    color: \"white\",\n    borderRadius: \"20px\",\n    fontWeight: \"bold\",\n  },\n  imageTemperature: {\n    margin: theme.spacing(1),\n    padding: theme.spacing(1),\n    backgroundImage: `url(${FILE_PATH}/static/media/thermometer.26bec6cd.svg)`,\n    backgroundPosition: \"center\",\n    backgroundSize: \"contain\",\n    backgroundRepeat: \"no-repeat\",\n    width: 50,\n    height: 50,\n  },\n  imageHumidity: {\n    margin: theme.spacing(1),\n    padding: theme.spacing(1),\n    backgroundImage: `url(${FILE_PATH}/static/media/humidity.41d15f93.svg)`,\n    backgroundPosition: \"center\",\n    backgroundSize: \"contain\",\n    backgroundRepeat: \"no-repeat\",\n    width: 50,\n    height: 50,\n  },\n  imageAverage: {\n    margin: theme.spacing(1),\n    padding: theme.spacing(1),\n    backgroundImage: `url(${FILE_PATH}/static/media/average.9152ffbf.svg)`,\n    backgroundPosition: \"center\",\n    backgroundSize: \"contain\",\n    backgroundRepeat: \"no-repeat\",\n    width: 50,\n    height: 50,\n  },\n  divContent: {\n    display: \"flex\",\n    alignItems: \"center\",\n    flexDirection: \"column\",\n    padding: theme.spacing(1),\n  },\n  info: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    flexGrow: 1,\n    flexDirection: \"column\",\n    justifyContent: \"space-around\",\n    borderRadius: \"10px\",\n    margin: theme.spacing(1),\n  },\n  deviceInfoIndividual: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    margin: theme.spacing(1),\n    color: theme.palette.secondary.main,\n    borderRadius: \"10px\",\n  },\n  roomInfo: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.primary.main,\n    color: \"white\",\n\n    borderRadius: \"10px\",\n  },\n  tempHum: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    justifyContent: \"center\",\n  },\n  averageMeasurementsDiv: {\n    // flexGrow: 1,\n    display: \"flex\",\n    alignItems: \"center\",\n    flexDirection: \"column\",\n    // justifyContent: \"space-around\",\n    backgroundColor: theme.palette.secondary.main,\n    padding: theme.spacing(1),\n    borderRadius: \"10px\",\n    margin: theme.spacing(1),\n    color: \"white\",\n    // flexWrap: \"wrap\",\n  },\n}));\n\nexport default function OutlinedCard(props) {\n  const classes = useStyles();\n\n  const [averageData, setAverageData] = useState({\n    avgTemp: null,\n    avgHum: null,\n    isFetching: false,\n  });\n\n  const [currTempHum, setCurrTempHum] = useState({\n    temperature: \"Loading...\",\n    humidity: \"Loading...\",\n  });\n\n  let displayedAvg = \"No Samples yet\";\n\n  if (averageData.avgTemp !== null) {\n    displayedAvg = `${Math.round(averageData.avgTemp)}\\u00B0C /\n    ${Math.round(averageData.avgHum)}%`;\n  }\n\n  useEffect(() => {\n    const fetchMeasurements = async () => {\n      try {\n        setAverageData({ avgTemp: null, avgHum: null, isFetching: true });\n        const response = await axios.get(\n          `${backendApiUrl.server}api/measurements/${props.sensorName}`\n        );\n\n        let avgTemp = 0;\n        let avgHum = 0;\n        let total = 0;\n        for (const measurementBucket of response.data) {\n          avgTemp += measurementBucket.temperaturesSum;\n          avgHum += measurementBucket.humiditiesSum;\n          total += measurementBucket.measurementsCounter;\n        }\n        console.log(response.data);\n        if (response.data.length !== 0) {\n          avgTemp = avgTemp / total;\n          avgHum = avgHum / total;\n          setAverageData({\n            avgTemp: avgTemp,\n            avgHum: avgHum,\n            isFetching: false,\n          });\n        }\n      } catch (error) {\n        console.log(error);\n        setAverageData({ avgTemp: null, avgHum: null, isFetching: false });\n      }\n    };\n\n    fetchMeasurements();\n\n    const client = mqttService.getClient();\n\n    const messageHandler = (topic, payload, packet) => {\n      console.log(payload.toString(), topic);\n      if (topic === props.topic) {\n        const splitStr = payload.toString().split(\"-\");\n        setCurrTempHum({ temperature: splitStr[0], humidity: splitStr[1] });\n      }\n    };\n\n    client.on(\"message\", messageHandler);\n\n    return () => {\n      console.log(\"unmounting temp-hum\");\n      client.off(\"message\", messageHandler);\n    };\n  }, [props.topic, props.sensorName]);\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.averageMeasurementsDiv}>\n        <Typography variant=\"subtitle1\">{\"Average\"}</Typography>\n        <div className={classes.imageAverage} />\n        <Typography className={classes.degrees}>{displayedAvg}</Typography>\n      </div>\n      <div className={classes.tempHum}>\n        <div className={classes.divContent}>\n          <Typography variant=\"subtitle1\">Temperature</Typography>\n          <div className={classes.imageTemperature} />\n          <Typography className={classes.degrees}>\n            {`${currTempHum.temperature} \\u00B0C`}\n            <br />\n          </Typography>\n        </div>\n        <div className={classes.divContent}>\n          <Typography variant=\"subtitle1\">Humidity</Typography>\n          <div className={classes.imageHumidity} />\n          <Typography className={classes.degrees}>\n            {currTempHum.humidity} %\n            <br />\n          </Typography>\n        </div>\n      </div>\n\n      <div className={classes.info}>\n        <div className={classes.roomInfo}>\n          <RoomIcon />\n          <Typography variant=\"h5\">{props.roomName}</Typography>\n        </div>\n        <div className={classes.deviceInfoIndividual}>\n          <BlurCircularIcon />\n          <Typography variant=\"subtitle1\">{props.sensorName}</Typography>\n        </div>\n        <div className={classes.deviceInfoIndividual}>\n          <RouterIcon />\n          <Typography variant=\"subtitle1\">{props.device}</Typography>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { useEffect, useState, useRef } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport axios from 'axios';\n\nimport RouterIcon from '@material-ui/icons/Router';\nimport RoomIcon from '@material-ui/icons/Room';\nimport BlurCircularIcon from '@material-ui/icons/BlurCircular';\n\nimport mqttService from '../../utils/MQTT';\nimport {FILE_PATH} from \"../../utils/CordovaGlobals\";\nimport { backendApiUrl } from '../../utils/Config';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    // width: \"100%\",\n    backgroundColor: 'white',\n    borderRadius: '10px',\n    display: 'flex',\n    flexWrap: 'wrap',\n    alignItems: 'center',\n    justifyContent: 'center',\n    // flexDirection: \"column\",\n  },\n  info: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    flexGrow: 1,\n    flexDirection: 'column',\n    justifyContent: 'space-around',\n    borderRadius: '10px',\n    margin: theme.spacing(1),\n  },\n  deviceInfoIndividual: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    margin: theme.spacing(1),\n    color: theme.palette.secondary.main,\n  },\n  divContent: {\n    display: 'flex',\n    alignItems: 'center',\n    flexDirection: 'column',\n    padding: theme.spacing(2),\n  },\n  motionImage: {\n    margin: theme.spacing(1),\n    padding: theme.spacing(1),\n    backgroundImage: `url(${FILE_PATH}/static/media/motion.8d3d8610.svg)`,\n    backgroundPosition: 'center',\n    backgroundSize: 'contain',\n    backgroundRepeat: 'no-repeat',\n    width: 70,\n    height: 70,\n  },\n  noMotionImage: {\n    margin: theme.spacing(1),\n    padding: theme.spacing(1),\n    backgroundImage: `url(${FILE_PATH}/static/media/no-motion.de1b03d8.svg)`,\n    backgroundPosition: 'center',\n    backgroundSize: 'contain',\n    backgroundRepeat: 'no-repeat',\n    width: 70,\n    height: 70,\n  },\n  currentState: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: theme.spacing(1),\n  },\n  motionInfo: {\n    textAlign: 'center',\n    backgroundColor: theme.palette.secondary.main,\n    padding: theme.spacing(1),\n    color: 'white',\n    borderRadius: '20px',\n    fontWeight: 'bold',\n  },\n  roomInfo: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.primary.main,\n    color: 'white',\n    borderRadius: '10px',\n  },\n}));\n\nexport default function MotionCard(props) {\n  const classes = useStyles();\n  const [currMotionState, setCurrMotionState] = useState('Loading...');\n  const motionStateRef = useRef(currMotionState);\n  const [lastTimeDetection, setLastTimeDetection] = useState(\n    'No detection yet'\n  );\n  useEffect(() => {\n    const fetchMeasurements = async () => {\n      try {\n        setLastTimeDetection('Fetching...');\n        const response = await axios.get(\n          `${backendApiUrl.server}api/measurements/${props.sensorName}`\n        );\n\n        if (response.data.length !== 0) {\n          setLastTimeDetection(new Date(response.data[0]));\n        }\n      } catch (error) {\n        console.log(error);\n        setLastTimeDetection('No detection yet');\n      }\n    };\n\n    fetchMeasurements();\n\n    const client = mqttService.getClient();\n\n    const messageHandler = (topic, payload, packet) => {\n      console.log(payload.toString(), topic);\n\n      if (topic === props.topic) {\n        const motionState = payload.toString();\n        if (\n          motionStateRef.current === 'Motion detected' &&\n          motionState === 'No motion detected'\n        ) {\n          fetchMeasurements();\n        }\n        motionStateRef.current = motionState;\n        setCurrMotionState(motionState);\n      }\n    };\n\n    client.on('message', messageHandler);\n\n    return () => {\n      console.log('unmounting motion detector');\n      client.off('message', messageHandler);\n    };\n  }, [props.topic, props.sensorName]);\n  console.log(currMotionState);\n  return (\n    <div className={classes.root}>\n      <div className={classes.divContent}>\n        {currMotionState === 'Motion detected' ? (\n          <div className={classes.motionImage} />\n        ) : (\n          <div className={classes.noMotionImage} />\n        )}\n        <div className={classes.currentState}>\n          <Typography className={classes.motionInfo} variant=\"subtitle2\">\n            {currMotionState}\n          </Typography>\n        </div>\n        <div className={classes.currentState}>\n          <Typography variant=\"body2\" color=\"textSecondary\">{`Last detection: ${\n            lastTimeDetection.toLocaleString()\n              ? lastTimeDetection.toLocaleString()\n              : lastTimeDetection\n          }`}</Typography>\n        </div>\n      </div>\n      <div className={classes.info}>\n        <div className={classes.roomInfo}>\n          <RoomIcon />\n          <Typography variant=\"h5\">{props.roomName}</Typography>\n        </div>\n        <div className={classes.deviceInfoIndividual}>\n          <BlurCircularIcon />\n          <Typography variant=\"subtitle1\">{props.sensorName}</Typography>\n        </div>\n        <div className={classes.deviceInfoIndividual}>\n          <RouterIcon />\n          <Typography variant=\"subtitle1\">{props.device}</Typography>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Switch from \"@material-ui/core/Switch\";\nimport mqttService from \"../../utils/MQTT\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport {FILE_PATH} from \"../../utils/CordovaGlobals\";\n\nimport RouterIcon from \"@material-ui/icons/Router\";\nimport RoomIcon from \"@material-ui/icons/Room\";\nimport BlurCircularIcon from \"@material-ui/icons/BlurCircular\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    // width: \"100%\",\n    backgroundColor: \"white\",\n    borderRadius: \"10px\",\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    // flexDirection: \"column\",\n  },\n  info: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    flexGrow: 1,\n    flexDirection: \"column\",\n    justifyContent: \"space-around\",\n    borderRadius: \"10px\",\n    // backgroundColor: theme.palette.secondary.main,\n    // border:`2px solid ${theme.palette.secondary.main}`,\n    margin: theme.spacing(1),\n  },\n  deviceInfoIndividual: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    margin: theme.spacing(1),\n    color: theme.palette.secondary.main,\n  },\n  divContent: {\n    display: \"flex\",\n    alignItems: \"center\",\n    flexDirection: \"column\",\n    padding: theme.spacing(2),\n  },\n  imageLightOpen: {\n    margin: theme.spacing(1),\n    padding: theme.spacing(1),\n    backgroundImage: `url(${FILE_PATH}/static/media/heater-on.688f2856.svg)`,\n    backgroundPosition: \"center\",\n    backgroundSize: \"contain\",\n    backgroundRepeat: \"no-repeat\",\n    width: 70,\n    height: 70,\n  },\n  imageLightClosed: {\n    margin: theme.spacing(1),\n    padding: theme.spacing(1),\n    backgroundImage: `url(${FILE_PATH}/static/media/heater-off.7c821918.svg)`,\n    backgroundPosition: \"center\",\n    backgroundSize: \"contain\",\n    backgroundRepeat: \"no-repeat\",\n    width: 70,\n    height: 70,\n  },\n  currentState: {\n    display: \"flex\",\n    alignItems: \"center\",\n    padding: theme.spacing(1),\n  },\n  onOff: {\n    textAlign: \"center\",\n    backgroundColor: theme.palette.secondary.main,\n    margin: theme.spacing(1),\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    color: \"white\",\n    borderRadius: \"20px\",\n    fontWeight: \"bold\",\n  },\n  roomInfo: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.primary.main,\n    color: \"white\",\n    borderRadius: \"10px\",\n  },\n  circularProgress: {\n    display: \"inline\",\n    \"& > * + *\": {\n      marginLeft: theme.spacing(2),\n    },\n  },\n}));\n\nexport default function OutlinedCard(props) {\n  const classes = useStyles();\n  const [relayState, setRelayState] = useState(\"Loading...\");\n  const switchValue = relayState === \"ON\" ? true : false;\n  const [spinnerState, setSpinnerState] = useState({\n    spinner: false,\n    disabled: true,\n  });\n\n  const onChangeHandler = (ev) => {\n    const client = mqttService.getClient();\n    console.log(client, props.command);\n    if (ev.target.checked) {\n      mqttService.publishMessage(client, props.command, \"ON\");\n    } else {\n      mqttService.publishMessage(client, props.command, \"OFF\");\n    }\n\n    setSpinnerState({ spinner: true, disabled: true });\n  };\n\n  useEffect(() => {\n    const client = mqttService.getClient();\n\n    const messageHandler = (topic, payload, packet) => {\n      console.log(payload.toString(), topic);\n      if (topic === props.topic) {\n        setRelayState(payload.toString());\n        setSpinnerState({ spinner: false, disabled: false });\n      }\n    };\n\n    client.on(\"message\", messageHandler);\n\n    return () => {\n      console.log(\"unmounting relay\");\n      client.off(\"message\", messageHandler);\n    };\n  }, [props.topic]);\n  return (\n    <div className={classes.root}>\n      <div className={classes.divContent}>\n        {relayState === \"ON\" ? (\n          <div className={classes.imageLightOpen} />\n        ) : (\n          <div className={classes.imageLightClosed} />\n        )}\n        <div className={classes.currentState}>\n          <Typography variant=\"subtitle1\">{\"Current state \"}</Typography>\n          <Typography className={classes.onOff} variant=\"subtitle2\">\n            {relayState}\n          </Typography>\n        </div>\n\n        {spinnerState.spinner === true ? (\n          <div className={classes.circularProgress}>\n            <CircularProgress />\n          </div>\n        ) : null}\n        <Switch\n          onChange={onChangeHandler}\n          checked={switchValue}\n          disabled={spinnerState.disabled}\n        />\n      </div>\n      <div className={classes.info}>\n        <div className={classes.roomInfo}>\n          <RoomIcon />\n          <Typography variant=\"h5\">{props.roomName}</Typography>\n        </div>\n        <div className={classes.deviceInfoIndividual}>\n          <BlurCircularIcon />\n          <Typography variant=\"subtitle1\">{props.name}</Typography>\n        </div>\n        <div className={classes.deviceInfoIndividual}>\n          <RouterIcon />\n          <Typography variant=\"subtitle1\">{props.device}</Typography>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport Grid from '@material-ui/core/Grid';\n\nimport Paper from '@material-ui/core/Paper';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Typography } from '@material-ui/core';\n\nimport RelayCard from './LightBulbCard';\nimport LightIntensityCard from './LightIntensityCard';\nimport TemperatureHumidityCard from './TemperatureHumidityCard';\nimport MotionDetectionCard from './MotionDetectorCard';\nimport HeatCard from './HeatCard';\nimport { SENSOR_TYPE } from '../../utils/SensorSpecific';\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    padding: theme.spacing(1),\n    display: 'flex',\n    overflow: 'auto',\n    flexDirection: 'column',\n    backgroundColor: theme.palette.secondary.main,\n    borderRadius: '10px',\n  },\n  title: {\n    backgroundColor: theme.palette.secondary.main,\n    color: 'white',\n    borderRadius: '10px',\n    paddingLeft: theme.spacing(1),\n    paddingRight: theme.spacing(1),\n    textAlign: 'center',\n  },\n  roomTitle: {\n    textAlign: 'center',\n    backgroundColor: theme.palette.primary.main,\n    color: 'white',\n    borderRadius: '10px',\n    paddingLeft: theme.spacing(1),\n    paddingRight: theme.spacing(1),\n    margin: theme.spacing(1),\n  },\n}));\n\nexport default function SensorGridItem(props) {\n  const classes = useStyles();\n  if (props.sensor.type === SENSOR_TYPE.MOTION_DETECTOR) {\n    return (\n      <Grid item xs={'auto'} md={'auto'} lg={'auto'}>\n        <Paper className={classes.paper} elevation={6}>\n          <Typography variant=\"h6\" className={classes.title}>\n            Motion Detector\n          </Typography>\n          <MotionDetectionCard\n            topic={props.sensor.pubTopic}\n            roomName={props.sensor.room}\n            device={props.sensor.deviceId}\n            sensorName={props.sensor.name}\n          />\n        </Paper>\n      </Grid>\n    );\n  } else if (props.sensor.type === SENSOR_TYPE.LIGHT_INTENSITY) {\n    return (\n      <Grid item xs={'auto'} md={'auto'} lg={'auto'}>\n        <Paper className={classes.paper} elevation={6}>\n          <Typography variant=\"h6\" className={classes.title}>\n            Room brightness\n          </Typography>\n          <LightIntensityCard\n            topic={props.sensor.pubTopic}\n            roomName={props.sensor.room}\n            device={props.sensor.deviceId}\n            sensorName={props.sensor.name}\n          />\n        </Paper>\n      </Grid>\n    );\n  } else if (props.sensor.type === SENSOR_TYPE.TEMPERATURE_HUMIDITY) {\n    return (\n      <Grid item xs={'auto'} md={'auto'} lg={'auto'}>\n        <Paper className={classes.paper} elevation={6}>\n          <Typography variant=\"h6\" className={classes.title}>\n            Temperature & Humidity\n          </Typography>\n          <TemperatureHumidityCard\n            topic={props.sensor.pubTopic}\n            roomName={props.sensor.room}\n            device={props.sensor.deviceId}\n            sensorName={props.sensor.name}\n          />\n        </Paper>\n      </Grid>\n    );\n  } else if (props.sensor.type === SENSOR_TYPE.RELAY_LIGHTBULB) {\n    return (\n      <Grid item xs={'auto'} md={'auto'} lg={'auto'}>\n        <Paper className={classes.paper} elevation={6}>\n          <Typography variant=\"h6\" className={classes.title}>\n            Lights\n          </Typography>\n          <RelayCard\n            roomName={props.sensor.room}\n            device={props.sensor.deviceId}\n            name={props.sensor.name}\n            command={props.sensor.commandTopic}\n            topic={props.sensor.pubTopic}\n          />\n        </Paper>\n      </Grid>\n    );\n  } else if (props.sensor.type === SENSOR_TYPE.RELAY_HEAT) {\n    return (\n      <Grid item xs={'auto'} md={'auto'} lg={'auto'}>\n        <Paper className={classes.paper} elevation={6}>\n          <Typography variant=\"h6\" className={classes.title}>\n            Heat\n          </Typography>\n          <HeatCard\n            roomName={props.sensor.room}\n            device={props.sensor.deviceId}\n            name={props.sensor.name}\n            command={props.sensor.commandTopic}\n            topic={props.sensor.pubTopic}\n          />\n        </Paper>\n      </Grid>\n    );\n  } else {\n    return null;\n  }\n}\n","import { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport {FILE_PATH} from '../utils/CordovaGlobals'\n\nconst useStyles = makeStyles((theme) => ({\n  image: {\n    margin: theme.spacing(1),\n    padding: theme.spacing(1),\n    backgroundImage: `url(${FILE_PATH}/static/media/not-found.cd5a9b2a.svg)`,\n    backgroundPosition: \"center\",\n    backgroundSize: \"contain\",\n    backgroundRepeat: \"no-repeat\",\n    width: \"80vh\",\n    height: \"50vh\",\n  },\n  divNoContent: {\n    margin: theme.spacing(1),\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  title: {\n    margin: theme.spacing(1),\n    padding: theme.spacing(1),\n    color: \"white\",\n    textAlign: \"center\"\n  },\n}));\n\nexport default function NoContentPage(props) {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.divNoContent}>\n      <Typography\n        variant=\"h3\"\n        component=\"h3\"\n        gutterBottom\n        className={classes.title}\n      >\n        {props.displayItem ? `No ${props.displayItem} Found` : `Nothing Found`}\n      </Typography>\n      <div className={classes.image} />\n    </div>\n  );\n}\n","import React from \"react\";\nimport Sensor from \"./Sensor\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport NoContentPage from \"../NoContentPage\";\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n    backgroundColor: theme.palette.secondary.main,\n  },\n}));\n\nexport default function Sensors(props) {\n  const classes = useStyles();\n\n  let sensors = props.sensors;\n  if (props.filtered === \"room\") {\n    sensors = props.sensors.filter((sensor) => sensor.room === props.selected);\n  } else if (props.filtered === \"sensor-type\") {\n    sensors = props.sensors.filter((sensor) => sensor.type === props.selected);\n  }\n\n  if (sensors.length === 0) {\n    return (\n      <Paper className={classes.paper} elevation={10}>\n        <NoContentPage displayItem={\"Devices\"} />\n      </Paper>\n    );\n  }\n\n  return (\n    <Grid container spacing={3} justify=\"center\">\n      {sensors.map((sensor) => {\n        return <Sensor sensor={sensor} key={sensor.name} />;\n      })}\n    </Grid>\n\n  );\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport MeetingRoomIcon from \"@material-ui/icons/MeetingRoom\";\nimport DeviceHubIcon from \"@material-ui/icons/DeviceHub\";\nimport Typography from \"@material-ui/core/Typography\";\nimport RoomIcon from \"@material-ui/icons/Room\";\nimport CategoryIcon from \"@material-ui/icons/Category\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    \"& > *\": {\n      margin: theme.spacing(1),\n    },\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  dialogPaper: {\n    // minWidth: \"50vh\",\n  },\n  emptyContentLabel: {\n    margin:36,\n  },\n}));\n\nexport function SimpleDialog(props) {\n  const classes = useStyles();\n  const { onClose, open } = props;\n\n  const handleClose = () => {\n    onClose(undefined);\n  };\n\n  const handleListItemClick = (value) => {\n    onClose(value);\n  };\n\n  return (\n    <div className={classes.root}>\n\n    <Dialog\n      classes={{ paper: classes.dialogPaper }}\n      onClose={handleClose}\n      aria-labelledby=\"simple-dialog-title\"\n      open={open}\n    >\n      <DialogTitle id=\"simple-dialog-title\">{props.name}</DialogTitle>\n      {props.contents.length !== 0 ? (\n        <List>\n          {props.contents.map((item) => {\n            return (\n              <ListItem\n                button\n                onClick={() => handleListItemClick(item)}\n                key={item}\n              >\n                <ListItemAvatar>\n                  <Avatar className={classes.avatar}>\n                    {props.type === \"room\" ? (\n                      <MeetingRoomIcon />\n                    ) : (\n                      <DeviceHubIcon />\n                    )}\n                  </Avatar>\n                </ListItemAvatar>\n                <ListItemText primary={item} />\n              </ListItem>\n            );\n          })}\n        </List>\n      ) : (\n        <Typography\n          variant=\"body1\"\n          color=\"secondary\"\n          align=\"center\"\n          className={classes.emptyContentLabel}\n        >\n          {\"No \"}\n          {props.name}\n          {\" found.\"}\n        </Typography>\n      )}\n    </Dialog>\n    </div>\n  );\n}\n\nexport default function SimpleDialogDemo(props) {\n  const [open, setOpen] = React.useState(false);\n  const [selectedValue, setSelectedValue] = React.useState(undefined);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = (value) => {\n    setOpen(false);\n    setSelectedValue(value);\n    if (value) {\n      props.selectItem({ selected: value, type: props.type });\n    }\n  };\n\n  return (\n    <div>\n      <ListItem button onClick={handleClickOpen}>\n        <ListItemIcon>\n          {props.type === \"room\" ? <RoomIcon color=\"primary\"/> : <CategoryIcon color=\"primary\"/>}\n        </ListItemIcon>\n        <ListItemText primary={props.name} />\n      </ListItem>\n      <SimpleDialog\n        name={props.name}\n        type={props.type}\n        contents={props.contents}\n        selectedValue={selectedValue}\n        open={open}\n        onClose={handleClose}\n      />\n    </div>\n  );\n}\n","import React, { useState } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport IconButton from '@material-ui/core/IconButton';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport axios from 'axios';\nimport { backendApiUrl } from '../../../utils/Config';\n\nexport default function ResponsiveDialog(props) {\n  const [open, setOpen] = React.useState(false);\n  const [error, setError] = useState(null);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n    setError(null);\n  };\n\n  const deleteAction = () => {\n    setError(null);\n\n    axios\n      .delete(`${backendApiUrl.server}api/actions/${props.action._id}`, {\n        data: props.action._id,\n      })\n      .then((response) => {\n        props.updateActions(\n          props.action._id.toString() + Math.random().toString(16).substr(2, 8)\n        );\n        setOpen(false);\n      })\n      .catch((error) => {\n        console.log(error.response);\n        if (error.response) {\n          if (error.response.status === 404) {\n            setError(error.response.data.message);\n          }\n        } else setError('Something went wrong. Please try again later.');\n      });\n  };\n\n  return (\n    <div>\n      <IconButton onClick={handleClickOpen} color=\"primary\">\n        <DeleteIcon />\n      </IconButton>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"responsive-dialog-title\"\n      >\n        <DialogTitle id=\"responsive-dialog-title\">{'Warning'}</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Are you sure you want to delete this action?\n          </DialogContentText>\n          {error && (\n            <>\n              <small style={{ color: 'red' }}>{error}</small>\n              <br />\n            </>\n          )}\n        </DialogContent>\n        <DialogActions>\n          <Button\n            variant=\"contained\"\n            autoFocus\n            onClick={handleClose}\n            color=\"primary\"\n          >\n            Cancel\n          </Button>\n          <Button\n            variant=\"contained\"\n            autoFocus\n            onClick={deleteAction}\n            color=\"primary\"\n          >\n            Delete\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport ScheduleIcon from '@material-ui/icons/Schedule';\nimport LoopIcon from '@material-ui/icons/Loop';\nconst useStyles = makeStyles((theme) => ({\n  accordionContent: {\n    backgroundColor: theme.palette.secondary.main,\n    color: 'white',\n    width: '100%',\n    display: 'flex',\n    flexWrap: 'wrap',\n    justifyContent: 'space-around',\n    borderRadius: '10px',\n  },\n  timeInfoIndividual: {\n    display: 'flex',\n    alignItems: 'center',\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    margin: theme.spacing(1),\n  },\n  dateLabel: {\n    marginLeft: theme.spacing(1),\n  },\n}));\n\nexport default function TimerActionContent(props) {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.accordionContent}>\n      <div className={classes.timeInfoIndividual}>\n        <ScheduleIcon />\n        <Typography className={classes.dateLabel} variant=\"subtitle1\">\n          {`Starting time: ${props.date.toLocaleString()}`}\n        </Typography>\n      </div>\n      <div className={classes.timeInfoIndividual}>\n        <LoopIcon />\n        <Typography className={classes.dateLabel} variant=\"subtitle1\">\n          {props.recurrenceMessage}\n        </Typography>\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport { getMeasurementUnitsName } from '../../../utils/SensorSpecific';\nimport RoomIcon from '@material-ui/icons/Room';\nimport RouterIcon from '@material-ui/icons/Router';\nimport BlurCircularIcon from '@material-ui/icons/BlurCircular';\n\nconst useStyles = makeStyles((theme) => ({\n  accordionContent: {\n    backgroundColor: theme.palette.secondary.main,\n    color: 'white',\n    width: '100%',\n    display: 'flex',\n    flexWrap: 'wrap',\n    justifyContent: 'space-around',\n    borderRadius: '10px',\n  },\n  whenDescription: {\n    display: 'flex',\n    alignItems: 'center',\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    margin: theme.spacing(1),\n    flexWrap: 'wrap',\n  },\n  whenSensorDescription: {\n    borderRadius: '10px',\n    backgroundColor: 'white',\n    // color: theme.palette.secondary.main,\n    display: 'flex',\n    alignItems: 'center',\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    margin: theme.spacing(1),\n    flexWrap: 'wrap',\n  },\n  labelDynamicContent: {\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1),\n    backgroundColor: theme.palette.primary.main,\n    paddingLeft: theme.spacing(1),\n    paddingRight: theme.spacing(1),\n    borderRadius: '10px',\n  },\n  deviceInfoIndividual: {\n    display: 'flex',\n    alignItems: 'center',\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    margin: theme.spacing(1),\n    // backgroundColor: theme.palette.secondary.main,\n    color: theme.palette.secondary.main,\n    // borderStyle: \"solid\",\n    // borderColor: theme.palette.secondar.main,\n    borderRadius: '10px',\n  },\n  roomInfo: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.primary.main,\n    color: 'white',\n\n    borderRadius: '10px',\n  },\n  deviceInfo: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    justifyContent: 'flex-start',\n    [theme.breakpoints.down('md')]: {\n      marginTop: theme.spacing(2),\n    },\n  },\n}));\n\nexport default function TimerActionContent(props) {\n  const classes = useStyles();\n\n  let message;\n  if (props.comparisonType && props.quantity) {\n    message = `When ${\n      props.measurementType\n    } is ${props.comparisonType.toLowerCase()} ${\n      props.quantity\n    } ${getMeasurementUnitsName(props.measurementType)}.`;\n  } else if (props.option) {\n    message = `When the value of ${props.measurementType} is \"${props.option}\".`;\n  }\n\n  return (\n    <div className={classes.accordionContent}>\n      <div className={classes.whenDescription}>\n        <Typography variant=\"subtitle1\">{message}</Typography>\n      </div>\n      <div className={classes.whenSensorDescription}>\n        <Typography variant=\"subtitle1\" color=\"secondary\">\n          {'Sensor: ' + props.measurementSensorType}\n        </Typography>\n      </div>\n      <div className={classes.whenSensorDescription}>\n        <div className={classes.roomInfo}>\n          <RoomIcon />\n          <Typography variant=\"subtitle1\">\n            {props.measurementRoomName}\n          </Typography>\n        </div>\n        <div className={classes.deviceInfoIndividual}>\n          <BlurCircularIcon />\n          <Typography variant=\"subtitle1\">\n            {props.measurementSensorName}\n          </Typography>\n        </div>\n        <div className={classes.deviceInfoIndividual}>\n          <RouterIcon />\n          <Typography variant=\"subtitle1\">\n            {props.measurementDeviceId}\n          </Typography>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport { FILE_PATH } from '../../../utils/CordovaGlobals';\n\nconst useStyles = makeStyles((theme) => ({\n  accordionContent: {\n    backgroundColor: theme.palette.secondary.main,\n    color: 'white',\n    width: '100%',\n    display: 'flex',\n    flexWrap: 'wrap',\n    justifyContent: 'space-around',\n    borderRadius: '10px',\n  },\n  info: {\n    display: 'flex',\n    alignItems: 'center',\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    margin: theme.spacing(1),\n  },\n  label: {\n    marginLeft: theme.spacing(1),\n  },\n  radiusMeters: {\n    marginLeft: theme.spacing(1),\n    paddingLeft: theme.spacing(1),\n    paddingRight: theme.spacing(1),\n    backgroundColor: theme.palette.primary.main,\n    borderRadius: '10px',\n    color: 'white',\n  },\n}));\n\nexport default function LocationActionContent(props) {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.accordionContent}>\n      <div className={classes.info}>\n        <img\n          src={`${FILE_PATH}/static/media/home-location.cc2515ec.svg`}\n          alt=\"Home Location\"\n          width=\"35\"\n          height=\"35\"\n        />\n        <Typography className={classes.label} variant=\"subtitle1\">\n          {'Radius:'}\n        </Typography>\n        <Typography className={classes.radiusMeters} variant=\"subtitle1\">\n          {`${props.radius}`}\n        </Typography>\n        <Typography className={classes.label} variant=\"subtitle1\">\n          {'meters'}\n        </Typography>\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport RouterIcon from '@material-ui/icons/Router';\nimport RoomIcon from '@material-ui/icons/Room';\nimport BlurCircularIcon from '@material-ui/icons/BlurCircular';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport Divider from '@material-ui/core/Divider';\nimport DeleteActionDialog from './common/DeleteActionDialog';\nimport TimerActionAccordionDetails from './TimerActions/TimerActionAccordionDetails';\nimport SensorBasedAccordionDetails from './SensorBasedActions/SensorBasedAccordionDetails';\nimport LocationActionAccordionDetails from './LocationBasedActions/LocationActionAccordionDetails';\nimport { commandsByType } from '../../utils/SensorSpecific';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n  },\n  command: {\n    color: theme.palette.primary.main,\n    fontSize: theme.typography.pxToRem(15),\n    padding: theme.spacing(1),\n    margin: theme.spacing(1),\n    flexShrink: 0,\n    borderStyle: 'solid',\n    borderColor: theme.palette.primary.main,\n    borderRadius: '10px',\n    backgroundColor: theme.palette.secondary.main,\n  },\n  headingCommand: {\n    // borderStyle: \"dashed\",\n    borderColor: theme.palette.secondary.main,\n    borderRadius: '10px',\n    display: 'flex',\n    flexWrap: 'wrap',\n    alignItems: 'center',\n  },\n  heading: {\n    // fontSize: theme.typography.pxToRem(15),\n    // padding: theme.spacing(1),\n    width: '100px',\n    margin: theme.spacing(1),\n    flexShrink: 0,\n  },\n  secondaryHeading: {\n    fontSize: theme.typography.pxToRem(15),\n    color: theme.palette.text.secondary,\n    padding: theme.spacing(1),\n    margin: theme.spacing(1),\n  },\n  summary: {\n    display: 'flex',\n    alignItems: 'center',\n    flexWrap: 'wrap',\n    justifyContent: 'flex-start',\n  },\n\n  deviceInfoIndividual: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    margin: theme.spacing(1),\n    color: theme.palette.secondary.main,\n  },\n  roomInfo: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.primary.main,\n    color: 'white',\n\n    borderRadius: '10px',\n  },\n  deviceInfo: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    justifyContent: 'flex-start',\n    [theme.breakpoints.down('md')]: {\n      marginTop: theme.spacing(2),\n    },\n  },\n\n  deleteButton: {\n    display: 'flex',\n    justifyContent: 'center',\n  },\n}));\n\nexport default function ActionCard(props) {\n  const classes = useStyles();\n\n  const [expanded, setExpanded] = React.useState(false);\n\n  const handleChange = (panel) => (event, isExpanded) => {\n    setExpanded(isExpanded ? panel : false);\n  };\n\n  let details = null;\n  switch (props.action.actionCategory) {\n    case 'Timer Action':\n      let date;\n      let recurrenceMessage;\n      if (props.action.recurrenceNumber) {\n        recurrenceMessage = `Every ${props.action.recurrenceNumber} ${props.action.recurrenceTimeUnit}`;\n      } else {\n        recurrenceMessage = 'None';\n      }\n      date = new Date(props.action.startTime);\n      details = (\n        <TimerActionAccordionDetails\n          recurrenceMessage={recurrenceMessage}\n          date={date}\n        />\n      );\n      break;\n    case 'Sensor-Based Action':\n      details = (\n        <SensorBasedAccordionDetails\n          measurementType={props.action.measurementType}\n          quantity={props.action.quantity}\n          comparisonType={props.action.comparisonType}\n          measurementSensorName={props.action.measurementSensorName}\n          measurementDeviceId={props.action.measurementDeviceId}\n          measurementRoomName={props.action.measurementRoomName}\n          measurementSensorType={props.action.measurementSensorType}\n          option={props.action.option}\n        />\n      );\n      break;\n    case 'Location-Based Action':\n      details = <LocationActionAccordionDetails radius={props.action.radius} />;\n      break;\n    default:\n      break;\n  }\n\n  const commandDescription = commandsByType(\n    props.action.sensorType,\n    props.action.command\n  );\n  const registrationDate = new Date(props.action.registrationDate);\n  return (\n    <div className={classes.root}>\n      <Accordion\n        expanded={expanded === 'panel1'}\n        onChange={handleChange('panel1')}\n      >\n        <AccordionSummary\n          expandIcon={<ExpandMoreIcon />}\n          aria-controls=\"panel1bh-content\"\n          id=\"panel1bh-header\"\n        >\n          <div className={classes.summary}>\n            <div className={classes.headingCommand}>\n              <Typography variant=\"subtitle1\" className={classes.heading}>\n                {props.action.actionCategory}\n              </Typography>\n              <Typography className={classes.command}>\n                {props.action.sensorType + ' | '}\n                {commandDescription.description}\n              </Typography>\n            </div>\n\n            <div className={classes.deviceInfo}>\n              <div className={classes.roomInfo}>\n                <RoomIcon />\n                <Typography variant=\"subtitle1\">\n                  {props.action.roomName}\n                </Typography>\n              </div>\n              <div className={classes.deviceInfoIndividual}>\n                <BlurCircularIcon />\n                <Typography variant=\"subtitle1\">\n                  {props.action.sensorName}\n                </Typography>\n              </div>\n              <div className={classes.deviceInfoIndividual}>\n                <RouterIcon />\n                <Typography variant=\"subtitle1\">\n                  {props.action.deviceId}\n                </Typography>\n              </div>\n            </div>\n            <Typography className={classes.secondaryHeading}>\n              {'Registered on: '}\n              {registrationDate.toLocaleString()}\n            </Typography>\n          </div>\n        </AccordionSummary>\n        <AccordionDetails>{details}</AccordionDetails>\n        <Divider />\n        <div className={classes.deleteButton}>\n          <DeleteActionDialog\n            action={props.action}\n            updateActions={props.updateActions}\n          />\n        </div>\n      </Accordion>\n    </div>\n  );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport RouterIcon from '@material-ui/icons/Router';\nimport RoomIcon from '@material-ui/icons/Room';\nimport BlurCircularIcon from '@material-ui/icons/BlurCircular';\n\nconst useStyles = makeStyles((theme) => ({\n  button: {\n    display: 'block',\n    marginTop: theme.spacing(2),\n  },\n  formControl: {\n    minWidth: 120,\n    maxWidth: 250,\n  },\n  menuItem: {\n    padding: theme.spacing(1),\n    display: 'flex',\n  },\n}));\n\nexport default function ControlledOpenSelect(props) {\n  const classes = useStyles();\n  const [selectedSensor, setSelectedSensor] = React.useState('');\n  const [open, setOpen] = React.useState(false);\n\n  const handleChange = (event) => {\n    setSelectedSensor(event.target.value);\n    props.selectSensor(event.target.value);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  let filteredSensors = null;\n  if (props.sensors) {\n    if (props.isCommandSensor === undefined) {\n      filteredSensors = props.sensors;\n    } else if (props.isCommandSensor) {\n      filteredSensors = props.sensors.filter((sensor) => {\n        return sensor.commandTopic;\n      });\n    } else if (!props.isCommandSensor) {\n      filteredSensors = props.sensors.filter((sensor) => {\n        return !sensor.commandTopic;\n      });\n    }\n  }\n\n  // console.log(selectedSensor);\n  return (\n    <div>\n      <FormControl required className={classes.formControl}>\n        <InputLabel id=\"demo-controlled-open-select-label\">Sensor</InputLabel>\n        <Select\n          labelId=\"demo-controlled-open-select-label\"\n          id=\"demo-controlled-open-select\"\n          open={open}\n          onClose={handleClose}\n          onOpen={handleOpen}\n          value={selectedSensor}\n          onChange={handleChange}\n        >\n          <MenuItem value=\"\">\n            <em>None</em>\n          </MenuItem>\n\n          {filteredSensors\n            ? filteredSensors.map((sensor) => {\n                return (\n                  <MenuItem value={sensor} key={sensor.name}>\n                    <BlurCircularIcon />\n                    {'  '}\n                    {sensor.name}\n                    {'  '}\n                    <RoomIcon />\n                    {'  '}\n                    {sensor.room}\n                    {'  '}\n                    <RouterIcon />\n                    {'  '}\n                    {sensor.deviceId}\n                  </MenuItem>\n                );\n              })\n            : null}\n        </Select>\n      </FormControl>\n    </div>\n  );\n}\n","import React, { useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport { commandsByType } from '../../../utils/SensorSpecific';\n\nconst useStyles = makeStyles((theme) => ({\n  formControl: {\n    // margin: theme.spacing(1),\n    minWidth: 120,\n  },\n  menuItem: {\n    padding: theme.spacing(1),\n  },\n}));\n\nexport default function CommandMenu(props) {\n  const classes = useStyles();\n  const [selectedCommand, setSelectedCommand] = React.useState('');\n  const [open, setOpen] = React.useState(false);\n\n  const handleChange = (event) => {\n    setSelectedCommand(event.target.value);\n    props.selectCommand(event.target.value);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  useEffect(() => {\n    setSelectedCommand('');\n  }, [props.clearEntries]);\n\n  const commandsArray = commandsByType(props.type);\n  return (\n    <div>\n      <FormControl required className={classes.formControl}>\n        <InputLabel id=\"demo-controlled-open-select-label\">Command</InputLabel>\n        <Select\n          labelId=\"demo-controlled-open-select-label\"\n          id=\"demo-controlled-open-select\"\n          open={open}\n          onClose={handleClose}\n          onOpen={handleOpen}\n          value={selectedCommand}\n          onChange={handleChange}\n        >\n          {commandsArray\n            ? commandsArray.map((el, index) => {\n                return (\n                  <MenuItem value={el.command} key={index}>\n                    {el.description}\n                  </MenuItem>\n                );\n              })\n            : null}\n        </Select>\n      </FormControl>\n    </div>\n  );\n}\n","import React from 'react';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport InputBase from '@material-ui/core/InputBase';\n\nconst BootstrapInput = withStyles((theme) => ({\n  root: {\n    'label + &': {\n      marginTop: theme.spacing(3),\n    },\n  },\n  input: {\n    borderRadius: 4,\n    position: 'relative',\n    backgroundColor: theme.palette.background.paper,\n    border: '1px solid #ced4da',\n    fontSize: 16,\n    padding: '10px 26px 10px 12px',\n    transition: theme.transitions.create(['border-color', 'box-shadow']),\n  },\n}))(InputBase);\n\nconst useStyles = makeStyles((theme) => ({\n  margin: {\n    margin: theme.spacing(1),\n  },\n}));\n\nexport default function CustomizedSelects(props) {\n  const classes = useStyles();\n  const [recurrence, setRecurrence] = React.useState('');\n  const [timeUnits, setTimeUnits] = React.useState('');\n  console.log(recurrence);\n  const handleChange = (event) => {\n    setTimeUnits(event.target.value);\n    props.selectTimeUnits(event.target.value);\n  };\n\n  const handleInput = (event) => {\n    setRecurrence(event.target.value);\n    props.selectRecurrence(event.target.value);\n  };\n  return (\n    <div>\n      <FormControl className={classes.margin} focused>\n        <InputLabel htmlFor=\"demo-customized-textbox\">\n          Recurrence every\n        </InputLabel>\n        <BootstrapInput\n          type=\"number\"\n          id=\"demo-customized-textbox\"\n          value={recurrence}\n          onChange={handleInput}\n        />\n      </FormControl>\n      <FormControl className={classes.margin} focused>\n        <InputLabel id=\"demo-customized-select-label\">Units</InputLabel>\n        <Select\n          labelId=\"demo-customized-select-label\"\n          id=\"demo-customized-select\"\n          value={timeUnits}\n          onChange={handleChange}\n          input={<BootstrapInput />}\n        >\n          <MenuItem value=\"\">\n            <em>None</em>\n          </MenuItem>\n          <MenuItem value={'Minutes'}>Minutes</MenuItem>\n          <MenuItem value={'Hours'}>Hours</MenuItem>\n          <MenuItem value={'Days'}>Days</MenuItem>\n        </Select>\n      </FormControl>\n    </div>\n  );\n}\n","import React, { useRef } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DateFnsUtils from '@date-io/date-fns';\nimport {\n  MuiPickersUtilsProvider,\n  KeyboardTimePicker,\n  KeyboardDatePicker,\n} from '@material-ui/pickers';\nimport Button from '@material-ui/core/Button';\nimport SelectSensorMenu from '../common/SelectSensorMenu';\nimport SelectCommandMenu from '../common/SelectCommandMenu';\nimport SelectRepeatMenu from './SelectRepeatMenu';\nimport axios from 'axios';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { backendApiUrl } from '../../../utils/Config';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    '& > *': {\n      margin: theme.spacing(1),\n    },\n  },\n  extendedIcon: {\n    marginRight: theme.spacing(1),\n  },\n  fab: {\n    position: 'fixed',\n    bottom: theme.spacing(2),\n    right: theme.spacing(4),\n  },\n  picker: {\n    padding: theme.spacing(1),\n  },\n  cancelButton: {\n    marginRight: theme.spacing(1),\n  },\n}));\nexport default function TimerActionDialog(props) {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(true);\n  const [selectedDate, setSelectedDate] = React.useState(new Date());\n  const [selectedSensor, setSelectedSensor] = React.useState('');\n  const sensorRef = useRef(selectedSensor);\n  const [selectedCommand, setSelectedCommand] = React.useState('');\n  const [selectedRecurrence, setSelectedRecurrence] = React.useState('');\n  const [selectedTimeUnits, setSelectedTimeUnits] = React.useState('');\n  const [clearEntries, setClearedEntries] = React.useState(null);\n\n  const [status, setStatus] = React.useState({ message: null, color: null });\n  const [loading, setLoading] = React.useState(false);\n  // console.log(selectedDate, selectedSensor, selectedRecurrence);\n\n  const handleDateChange = (date) => {\n    setSelectedDate(date);\n  };\n\n  const handleClose = () => {\n    props.closeDialog();\n    setOpen(false);\n    setStatus({ message: null, color: null });\n    setSelectedSensor('');\n    setSelectedCommand('');\n    setSelectedRecurrence('');\n    setSelectedTimeUnits('');\n    setSelectedDate(new Date());\n    setClearedEntries('null');\n  };\n\n  const addAction = () => {\n    setStatus({ message: null, color: null });\n    setLoading(true);\n    axios\n      .post(backendApiUrl.server + 'api/timerActions', {\n        sensorType: selectedSensor.type,\n        sensorName: selectedSensor.name,\n        deviceId: selectedSensor.deviceId,\n        roomName: selectedSensor.room,\n        command: selectedCommand,\n        commandTopic: selectedSensor.commandTopic,\n        registrationDate: Date.now(),\n        timestamp: selectedDate,\n        recurrenceTimeUnit: selectedTimeUnits,\n        recurrenceNumber: selectedRecurrence,\n      })\n      .then((response) => {\n        // console.log(response.data)\n        props.updateActions(response.data._id);\n        setLoading(false);\n        setStatus({ message: 'Action added successfully', color: 'green' });\n      })\n      .catch((error) => {\n        if (error.response) {\n          console.log(error.response.data.message);\n          setStatus({ message: error.response.data.message, color: 'red' });\n        }\n        setLoading(false);\n      });\n  };\n\n  if (selectedSensor !== sensorRef.current) {\n    setSelectedCommand('');\n    sensorRef.current = selectedSensor;\n    setClearedEntries(Math.random());\n  }\n\n  return (\n    <div className={classes.root}>\n      <Dialog\n        disableBackdropClick\n        disableEscapeKeyDown\n        open={open}\n        onClose={handleClose}\n      >\n        <DialogTitle>Schedule an action</DialogTitle>\n        <DialogContent dividers>\n          <div className={classes.picker}>\n            <SelectSensorMenu\n              sensors={props.sensors}\n              isCommandSensor={true}\n              selectSensor={setSelectedSensor}\n            />\n          </div>\n          {selectedSensor === '' ? null : (\n            <div className={classes.picker}>\n              <SelectCommandMenu\n                type={selectedSensor.type}\n                selectCommand={setSelectedCommand}\n                clearEntries={clearEntries}\n              />\n            </div>\n          )}\n          <MuiPickersUtilsProvider utils={DateFnsUtils}>\n            <div className={classes.picker}>\n              <KeyboardDatePicker\n                margin=\"normal\"\n                id=\"date-picker-dialog\"\n                label=\"Starting Date Picker\"\n                format=\"MM/dd/yyyy\"\n                value={selectedDate}\n                onChange={handleDateChange}\n                KeyboardButtonProps={{\n                  'aria-label': 'change date',\n                }}\n              />\n            </div>\n            <div className={classes.picker}>\n              <KeyboardTimePicker\n                margin=\"normal\"\n                id=\"time-picker\"\n                label=\"Starting Time Picker\"\n                value={selectedDate}\n                onChange={handleDateChange}\n                KeyboardButtonProps={{\n                  'aria-label': 'change time',\n                }}\n              />\n            </div>\n            {/* </Grid> */}\n          </MuiPickersUtilsProvider>\n          <SelectRepeatMenu\n            selectRecurrence={setSelectedRecurrence}\n            selectTimeUnits={setSelectedTimeUnits}\n          />\n          {status.message && (\n            <>\n              <small style={{ color: status.color }}>{status.message}</small>\n              <br />\n            </>\n          )}\n        </DialogContent>\n        <DialogActions>\n          {loading === true ? (\n            <CircularProgress />\n          ) : (\n            <div>\n              <Button\n                className={classes.cancelButton}\n                variant=\"contained\"\n                onClick={handleClose}\n                color=\"primary\"\n              >\n                Cancel\n              </Button>\n              <Button variant=\"contained\" onClick={addAction} color=\"primary\">\n                Add Action\n              </Button>\n            </div>\n          )}\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React, { useEffect } from 'react';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport InputBase from '@material-ui/core/InputBase';\n\nconst BootstrapInput = withStyles((theme) => ({\n  root: {\n    'label + &': {\n      marginTop: theme.spacing(3),\n    },\n  },\n  input: {\n    borderRadius: 4,\n    position: 'relative',\n    backgroundColor: theme.palette.background.paper,\n    border: '1px solid #ced4da',\n    fontSize: 14,\n    padding: '10px 26px 10px 12px',\n    transition: theme.transitions.create(['border-color', 'box-shadow']),\n  },\n}))(InputBase);\n\nconst useStyles = makeStyles((theme) => ({\n  margin: {\n    margin: theme.spacing(1),\n  },\n}));\n\nexport default function CustomizedSelects(props) {\n  const classes = useStyles();\n  const [quantity, setQuantity] = React.useState('');\n  const [comparison, setComparison] = React.useState('');\n  const handleChange = (event) => {\n    setComparison(event.target.value);\n    props.selectComparison(event.target.value);\n  };\n\n  const handleInput = (event) => {\n    setQuantity(event.target.value);\n    props.selectQuantity(event.target.value);\n  };\n\n  useEffect(() => {\n    setQuantity('');\n    setComparison('');\n  }, [props.clearEntries]);\n  return (\n    <div>\n      <FormControl className={classes.margin} focused>\n        <InputLabel required id=\"demo-customized-select-label\">\n          Compare\n        </InputLabel>\n        <Select\n          labelId=\"demo-customized-select-label\"\n          id=\"demo-customized-select\"\n          value={comparison}\n          onChange={handleChange}\n          input={<BootstrapInput />}\n        >\n          <MenuItem value=\"\">\n            <em>None</em>\n          </MenuItem>\n          <MenuItem value={'Below'}>Below</MenuItem>\n          <MenuItem value={'Over'}>Over</MenuItem>\n          <MenuItem value={'Equal To'}>Equal To</MenuItem>\n        </Select>\n      </FormControl>\n      <FormControl className={classes.margin} focused>\n        <InputLabel required htmlFor=\"demo-customized-textbox\">\n          Quantity\n        </InputLabel>\n        <BootstrapInput\n          type=\"number\"\n          id=\"demo-customized-textbox\"\n          value={quantity}\n          onChange={handleInput}\n        />\n      </FormControl>\n    </div>\n  );\n}\n","import React, { useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport { getSensorOutputName } from '../../../utils/SensorSpecific';\n\nconst useStyles = makeStyles((theme) => ({\n  formControl: {\n    // margin: theme.spacing(1),\n    minWidth: 130,\n  },\n  menuItem: {\n    padding: theme.spacing(1),\n  },\n}));\n\nexport default function MeasurementTypesMenu(props) {\n  const classes = useStyles();\n  const [selectedType, setSelectedType] = React.useState('');\n  const [open, setOpen] = React.useState(false);\n\n  const handleChange = (event) => {\n    setSelectedType(event.target.value);\n    props.selectMeasurementType(event.target.value);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  useEffect(() => {\n    setSelectedType('');\n  }, [props.clearEntries]);\n\n  const measurementTypes = getSensorOutputName(props.type);\n  return (\n    <div>\n      <FormControl required className={classes.formControl}>\n        <InputLabel id=\"demo-controlled-open-select-label\">\n          Measurement\n        </InputLabel>\n        <Select\n          labelId=\"demo-controlled-open-select-label\"\n          id=\"demo-controlled-open-select\"\n          open={open}\n          onClose={handleClose}\n          onOpen={handleOpen}\n          value={selectedType}\n          onChange={handleChange}\n        >\n          {measurementTypes\n            ? measurementTypes.map((el, index) => {\n                return (\n                  <MenuItem value={el} key={index}>\n                    {el}\n                  </MenuItem>\n                );\n              })\n            : null}\n        </Select>\n      </FormControl>\n    </div>\n  );\n}\n","import React, { useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport { getSensorOption } from '../../../utils/SensorSpecific';\n\nconst useStyles = makeStyles((theme) => ({\n  formControl: {\n    // margin: theme.spacing(1),\n    minWidth: 120,\n  },\n  menuItem: {\n    padding: theme.spacing(1),\n  },\n}));\n\nexport default function SensorOptionsMenu(props) {\n  const classes = useStyles();\n  const [selectedOption, setSelectedOption] = React.useState('');\n  const [open, setOpen] = React.useState(false);\n\n  const handleChange = (event) => {\n    setSelectedOption(event.target.value);\n    props.selectOption(event.target.value);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  useEffect(() => {\n    setSelectedOption('');\n  }, [props.clearEntries]);\n\n  const sensorOptions = getSensorOption(props.outputType);\n  return (\n    <div>\n      <FormControl required className={classes.formControl}>\n        <InputLabel id=\"demo-controlled-open-select-label\">Option</InputLabel>\n        <Select\n          labelId=\"demo-controlled-open-select-label\"\n          id=\"demo-controlled-open-select\"\n          open={open}\n          onClose={handleClose}\n          onOpen={handleOpen}\n          value={selectedOption}\n          onChange={handleChange}\n        >\n          {sensorOptions\n            ? sensorOptions.map((el, index) => {\n                return (\n                  <MenuItem value={el} key={index}>\n                    {el}\n                  </MenuItem>\n                );\n              })\n            : null}\n        </Select>\n      </FormControl>\n    </div>\n  );\n}\n","import React, { useRef } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Button from '@material-ui/core/Button';\nimport SelectSensorMenu from '../common/SelectSensorMenu';\nimport SelectCommandMenu from '../common/SelectCommandMenu';\nimport SelectComparedQuantityMenu from './SelectComparedQuantityMenu';\nimport SelectMeasurementTypeMenu from './SelectMeasurementTypeMenu';\nimport SelectSensorOptionsMenu from './SelectSensorOptionsMenu';\nimport axios from 'axios';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Typography from '@material-ui/core/Typography';\nimport { backendApiUrl } from '../../../utils/Config';\nimport {\n  commandsByType,\n  getSensorOutputType,\n} from '../../../utils/SensorSpecific';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n  },\n  wrapDiv: {\n    display: 'flex',\n    justifyContent: 'flex-start',\n    // alignItems: \"center\",\n    flexDirection: 'column',\n  },\n  picker: {\n    padding: theme.spacing(1),\n  },\n  cancelButton: {\n    marginRight: theme.spacing(1),\n  },\n  label: {\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n    paddingLeft: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n    // textAlign: \"center\",\n    color: 'white',\n    borderRadius: '10px',\n  },\n}));\nexport default function SensorBasedActionDialog(props) {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(true);\n  const [selectedWhenSensor, setSelectedWhenSensor] = React.useState('');\n  const whenSensorRef = useRef(selectedWhenSensor);\n  const [selectedCommandSensor, setSelectedCommandSensor] = React.useState('');\n  const cmdSensorRef = useRef(selectedCommandSensor);\n\n  const [selectedCommand, setSelectedCommand] = React.useState('');\n  const [selectedMeasurementType, setSelectedMeasurementType] = React.useState(\n    ''\n  );\n\n  const [selectedQuantity, setSelectedQuantity] = React.useState('');\n  const [selectedComparisonType, setSelectedComparisonType] = React.useState(\n    ''\n  );\n  const [selectedSensorOption, setSelectedSensorOption] = React.useState('');\n\n  const [clearWhenEntries, setClearedWhenEntries] = React.useState(null);\n  const [clearCmdEntries, setClearedCmdEntries] = React.useState(null);\n\n  const [status, setStatus] = React.useState({ message: null, color: null });\n  const [loading, setLoading] = React.useState(false);\n  // console.log(selectedDate, selectedSensor, selectedRecurrence);\n\n  const handleClose = () => {\n    props.closeDialog();\n    setOpen(false);\n    setStatus({ message: null, color: null });\n    setSelectedCommandSensor('');\n    setSelectedWhenSensor('');\n    setSelectedCommand('');\n    setSelectedMeasurementType('');\n    setSelectedQuantity('');\n    setSelectedComparisonType('');\n    setSelectedSensorOption('');\n    setClearedWhenEntries(null);\n    setClearedCmdEntries(null);\n  };\n\n  const addAction = () => {\n    setStatus({ message: null, color: null });\n    setLoading(true);\n\n    let cmdOnFail;\n    if (selectedCommandSensor) {\n      const { commandOnFailure } = commandsByType(\n        selectedCommandSensor.type,\n        selectedCommand\n      );\n      cmdOnFail = commandOnFailure;\n    }\n\n    axios\n      .post(backendApiUrl.server + 'api/sensorBasedActions', {\n        sensorType: selectedCommandSensor.type,\n        sensorName: selectedCommandSensor.name,\n        deviceId: selectedCommandSensor.deviceId,\n        roomName: selectedCommandSensor.room,\n        command: selectedCommand,\n        commandTopic: selectedCommandSensor.commandTopic,\n        registrationDate: Date.now(),\n        measurementSensorName: selectedWhenSensor.name,\n        measurementDeviceId: selectedWhenSensor.deviceId,\n        measurementRoomName: selectedWhenSensor.room,\n        measurementSensorType: selectedWhenSensor.type,\n        commandOnFailure: cmdOnFail,\n        comparisonType: selectedComparisonType,\n        quantity: selectedQuantity,\n        measurementType: selectedMeasurementType,\n        option: selectedSensorOption,\n      })\n      .then((response) => {\n        // console.log(response.data)\n        props.updateActions(response.data._id);\n        setLoading(false);\n        setStatus({ message: 'Action added successfully', color: 'green' });\n      })\n      .catch((error) => {\n        if (error.response) {\n          console.log(error.response.data.message);\n          setStatus({ message: error.response.data.message, color: 'red' });\n        }\n        setLoading(false);\n      });\n  };\n\n  if (selectedCommandSensor !== cmdSensorRef.current) {\n    setSelectedCommand('');\n    cmdSensorRef.current = selectedCommandSensor;\n    setClearedCmdEntries(Math.random());\n  }\n\n  if (selectedWhenSensor !== whenSensorRef.current) {\n    setSelectedMeasurementType('');\n    setSelectedQuantity('');\n    setSelectedComparisonType('');\n    setSelectedSensorOption('');\n    whenSensorRef.current = selectedWhenSensor;\n    setClearedWhenEntries(Math.random());\n  }\n\n  let whenSensorOutputMenu = null;\n  if (getSensorOutputType(selectedWhenSensor.type) === 'measurement') {\n    whenSensorOutputMenu = (\n      <SelectComparedQuantityMenu\n        selectComparison={setSelectedComparisonType}\n        selectQuantity={setSelectedQuantity}\n        clearEntries={clearWhenEntries}\n      />\n    );\n  } else if (getSensorOutputType(selectedWhenSensor.type) === 'options') {\n    whenSensorOutputMenu =\n      selectedMeasurementType === '' ? null : (\n        <div className={classes.picker}>\n          <SelectSensorOptionsMenu\n            selectOption={setSelectedSensorOption}\n            outputType={selectedMeasurementType}\n          />\n        </div>\n      );\n  }\n\n  return (\n    <div className={classes.root}>\n      <Dialog\n        disableBackdropClick\n        disableEscapeKeyDown\n        open={open}\n        onClose={handleClose}\n      >\n        <DialogTitle>Sensor-Based Action</DialogTitle>\n        <DialogContent dividers>\n          <div className={classes.wrapDiv}>\n            <div className={classes.picker}>\n              <Typography className={classes.label} variant=\"subtitle1\">\n                Trigger\n              </Typography>\n              <SelectSensorMenu\n                sensors={props.sensors}\n                selectSensor={setSelectedCommandSensor}\n                isCommandSensor={true}\n              />\n            </div>\n            {selectedCommandSensor === '' ? null : (\n              <div className={classes.picker}>\n                <SelectCommandMenu\n                  type={selectedCommandSensor.type}\n                  selectCommand={setSelectedCommand}\n                  clearEntries={clearCmdEntries}\n                />\n              </div>\n            )}\n            <div className={classes.picker}>\n              <Typography className={classes.label} variant=\"subtitle1\">\n                When\n              </Typography>\n              <SelectSensorMenu\n                sensors={props.sensors}\n                selectSensor={setSelectedWhenSensor}\n                isCommandSensor={false}\n              />\n            </div>\n            {selectedWhenSensor === '' ? null : (\n              <div>\n                <div className={classes.picker}>\n                  <SelectMeasurementTypeMenu\n                    type={selectedWhenSensor.type}\n                    selectMeasurementType={setSelectedMeasurementType}\n                    clearEntries={clearWhenEntries}\n                  />\n                </div>\n                {whenSensorOutputMenu}\n              </div>\n            )}\n\n            {status.message && (\n              <>\n                <small style={{ color: status.color }}>{status.message}</small>\n                <br />\n              </>\n            )}\n          </div>\n        </DialogContent>\n        <DialogActions>\n          {loading === true ? (\n            <CircularProgress />\n          ) : (\n            <div>\n              <Button\n                className={classes.cancelButton}\n                variant=\"contained\"\n                onClick={handleClose}\n                color=\"primary\"\n              >\n                Cancel\n              </Button>\n              <Button variant=\"contained\" onClick={addAction} color=\"primary\">\n                Add Action\n              </Button>\n            </div>\n          )}\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import {backendApiUrl} from \"./Config\";\n\nexport const onLocationServicesReady = (callback) => {\n    BackgroundGeolocation.configure({\n        // stopOnStillActivity: true,\n        locationProvider: BackgroundGeolocation.ACTIVITY_PROVIDER,\n        desiredAccuracy: BackgroundGeolocation.HIGH_ACCURACY,\n        stationaryRadius: 50,\n        distanceFilter: 50,\n        notificationTitle: 'Background Tracking',\n        notificationText: 'Enabled',\n        debug: true,\n        interval: 10000,\n        fastestInterval: 5000,\n        activitiesInterval: 10000,\n        // url: \"http://192.168.1.66:5000/api/location\",\n        url: `${backendApiUrl.server}api/location`,\n        httpHeaders: {\n            'X-FOO': 'bar'\n        },\n        // customize post properties\n        postTemplate: {\n            lat: '@latitude',\n            lon: '@longitude',\n        }\n    });\n\n    BackgroundGeolocation.on('location', function (location) {\n        // handle your locations here\n        // to perform long running operation on iOS\n        // you need to create background task\n        console.log(location);\n\n        BackgroundGeolocation.startTask(function (taskKey) {\n            // execute long running task\n            // eg. ajax post location\n            // IMPORTANT: task has to be ended by endTask\n            BackgroundGeolocation.endTask(taskKey);\n        });\n    });\n\n    BackgroundGeolocation.on('stationary', function (stationaryLocation) {\n        // handle stationary locations here\n    });\n\n    BackgroundGeolocation.on('error', function (error) {\n        console.log('[ERROR] BackgroundGeolocation error:', error.code, error.message);\n    });\n\n    BackgroundGeolocation.on('start', function () {\n        console.log('[INFO] BackgroundGeolocation service has been started');\n    });\n\n    BackgroundGeolocation.on('stop', function () {\n        console.log('[INFO] BackgroundGeolocation service has been stopped');\n    });\n\n    BackgroundGeolocation.on('authorization', function (status) {\n        console.log('[INFO] BackgroundGeolocation authorization status: ' + status);\n        if (status !== BackgroundGeolocation.AUTHORIZED) {\n            // we need to set delay or otherwise alert may not be shown\n            setTimeout(function () {\n                const showSettings = confirm('App requires location tracking permission.\\nIf you are willing to give all the required permissions, restart the app for the changes to take effect.\\nWould you like to open app settings? ');\n\n                if (showSettings) {\n                    return BackgroundGeolocation.showAppSettings();\n                }\n            }, 1000);\n        }\n    });\n\n    BackgroundGeolocation.on('background', function () {\n        console.log('[INFO] App is in background');\n        // you can also reconfigure service (changes will be applied immediately)\n        // BackgroundGeolocation.configure({\n        //     debug: true,\n        // });\n    });\n\n    BackgroundGeolocation.on('foreground', function () {\n        console.log('[INFO] App is in foreground');\n        // BackgroundGeolocation.configure({debug: false});\n    });\n\n    BackgroundGeolocation.on('abort_requested', function () {\n        console.log('[INFO] Server responded with 285 Updates Not Required');\n\n        // Here we can decide whether we want stop the updates or not.\n        // If you've configured the server to return 285, then it means the server does not require further update.\n        // So the normal thing to do here would be to `BackgroundGeolocation.stop()`.\n        // But you might be counting on it to receive location updates in the UI, so you could just reconfigure and set `url` to null.\n    });\n\n    BackgroundGeolocation.on('http_authorization', () => {\n        console.log('[INFO] App needs to authorize the http requests');\n    });\n\n    BackgroundGeolocation.checkStatus(function (status) {\n        console.log('[INFO] BackgroundGeolocation service is running', status.isRunning);\n        console.log('[INFO] BackgroundGeolocation services enabled', status.locationServicesEnabled);\n        console.log('[INFO] BackgroundGeolocation auth status: ' + status.authorization);\n\n        console.log(status.isRunning);\n        // you don't need to check status before start (this is just the example)\n        if (!status.isRunning && status.locationServicesEnabled) {\n            BackgroundGeolocation.start(); //triggers start on start event\n            callback(true);\n        }\n        else if (!status.isRunning) {\n            BackgroundGeolocation.removeAllListeners();\n        }\n    });\n\n    // you can also just start without checking for status\n    // BackgroundGeolocation.start();\n\n\n    // Don't forget to remove listeners at some point!\n\n    //     BackgroundGeolocation.removeAllListeners();\n\n}\n\n\nexport const areLocationPermissionsAccepted = (callback) => {\n    BackgroundGeolocation.checkStatus(function (status) {\n        console.log('[INFO] BackgroundGeolocation service is running', status.isRunning);\n        console.log('[INFO] BackgroundGeolocation services enabled', status.locationServicesEnabled);\n        console.log('[INFO] BackgroundGeolocation auth status: ' + status.authorization);\n\n        if (status.authorization === 1) {\n            callback(true);\n            // onLocationServicesReady();\n        }\n        else {\n            callback(false);\n        }\n        console.log(status.authorization)\n    });\n    return null;\n}\nexport const removeGeoLocationListener = () => {\n    BackgroundGeolocation.removeAllListeners();\n}\n\ndocument.addEventListener('deviceready', onLocationServicesReady, false);\n","import React from 'react';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputBase from '@material-ui/core/InputBase';\n\nconst BootstrapInput = withStyles((theme) => ({\n  root: {\n    'label + &': {\n      marginTop: theme.spacing(3),\n    },\n  },\n  input: {\n    borderRadius: 4,\n    position: 'relative',\n    backgroundColor: theme.palette.background.paper,\n    border: '1px solid #ced4da',\n    fontSize: 14,\n    padding: '10px 26px 10px 12px',\n    transition: theme.transitions.create(['border-color', 'box-shadow']),\n  },\n}))(InputBase);\n\nconst useStyles = makeStyles((theme) => ({\n  margin: {\n    margin: theme.spacing(1),\n    paddingTop: theme.spacing(1),\n  },\n}));\n\nexport default function CustomizedSelects(props) {\n  const classes = useStyles();\n  const [radius, setRadius] = React.useState('');\n\n  const handleInput = (event) => {\n    setRadius(event.target.value);\n    props.selectRadius(event.target.value);\n  };\n  return (\n    <div>\n      <FormControl className={classes.margin} focused>\n        <InputLabel required htmlFor=\"demo-customized-textbox\">\n          Radius in meters (Minimum: 100)\n        </InputLabel>\n        <BootstrapInput\n          type=\"number\"\n          id=\"demo-customized-textbox\"\n          value={radius}\n          onChange={handleInput}\n        />\n      </FormControl>\n    </div>\n  );\n}\n","import React, { useRef } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Button from '@material-ui/core/Button';\nimport SelectSensorMenu from '../common/SelectSensorMenu';\nimport SelectCommandMenu from '../common/SelectCommandMenu';\nimport SelectRadiusMenu from './SelectRadiusMenu';\nimport axios from 'axios';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { backendApiUrl } from '../../../utils/Config';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    '& > *': {\n      margin: theme.spacing(1),\n    },\n  },\n  extendedIcon: {\n    marginRight: theme.spacing(1),\n  },\n  fab: {\n    position: 'fixed',\n    bottom: theme.spacing(2),\n    right: theme.spacing(4),\n  },\n  picker: {\n    padding: theme.spacing(1),\n  },\n  cancelButton: {\n    marginRight: theme.spacing(1),\n  },\n  label: {\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n    padding: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n    // textAlign: \"center\",\n    color: 'white',\n    borderRadius: '10px',\n  },\n}));\nexport default function TimerActionDialog(props) {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(true);\n  const [selectedSensor, setSelectedSensor] = React.useState('');\n  const sensorRef = useRef(selectedSensor);\n  const [selectedCommand, setSelectedCommand] = React.useState('');\n  const [selectedRadius, setSelectedRadius] = React.useState('');\n  const [clearEntries, setClearedEntries] = React.useState(null);\n\n  const [status, setStatus] = React.useState({ message: null, color: null });\n  const [loading, setLoading] = React.useState(false);\n  // console.log(selectedDate, selectedSensor, selectedRecurrence);\n\n  const handleClose = () => {\n    props.closeDialog();\n    setOpen(false);\n    setStatus({ message: null, color: null });\n    setSelectedSensor('');\n    setSelectedCommand('');\n    setSelectedRadius('');\n    setClearedEntries('null');\n  };\n\n  const addAction = () => {\n    setStatus({ message: null, color: null });\n    setLoading(true);\n    axios\n      .post(backendApiUrl.server + 'api/locationBasedActions', {\n        sensorType: selectedSensor.type,\n        sensorName: selectedSensor.name,\n        deviceId: selectedSensor.deviceId,\n        roomName: selectedSensor.room,\n        command: selectedCommand,\n        commandTopic: selectedSensor.commandTopic,\n        registrationDate: Date.now(),\n        radius: selectedRadius,\n      })\n      .then((response) => {\n        // console.log(response.data)\n        props.updateActions(response.data._id);\n        setLoading(false);\n        setStatus({ message: 'Action added successfully', color: 'green' });\n      })\n      .catch((error) => {\n        if (error.response) {\n          console.log(error.response.data.message);\n          setStatus({ message: error.response.data.message, color: 'red' });\n        }\n        setLoading(false);\n      });\n  };\n\n  if (selectedSensor !== sensorRef.current) {\n    setSelectedCommand('');\n    sensorRef.current = selectedSensor;\n    setClearedEntries(Math.random());\n  }\n\n  return (\n    <div className={classes.root}>\n      <Dialog\n        disableBackdropClick\n        disableEscapeKeyDown\n        open={open}\n        onClose={handleClose}\n      >\n        <DialogTitle>Location-Based Action</DialogTitle>\n        <DialogContent dividers>\n          <div className={classes.picker}>\n            <SelectSensorMenu\n              sensors={props.sensors}\n              isCommandSensor={true}\n              selectSensor={setSelectedSensor}\n            />\n          </div>\n          {selectedSensor === '' ? null : (\n            <div className={classes.picker}>\n              <SelectCommandMenu\n                type={selectedSensor.type}\n                selectCommand={setSelectedCommand}\n                clearEntries={clearEntries}\n              />\n            </div>\n          )}\n          <SelectRadiusMenu selectRadius={setSelectedRadius} />\n          {status.message && (\n            <>\n              <small style={{ color: status.color }}>{status.message}</small>\n              <br />\n            </>\n          )}\n        </DialogContent>\n        <DialogActions>\n          {loading === true ? (\n            <CircularProgress />\n          ) : (\n            <div>\n              <Button\n                className={classes.cancelButton}\n                variant=\"contained\"\n                onClick={handleClose}\n                color=\"primary\"\n              >\n                Cancel\n              </Button>\n              <Button variant=\"contained\" onClick={addAction} color=\"primary\">\n                Add Action\n              </Button>\n            </div>\n          )}\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React, { useEffect } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n  onLocationServicesReady,\n  areLocationPermissionsAccepted,\n  removeGeoLocationListener,\n} from '../../../utils/Location';\nimport LocationBasedActionDialog from './LocationBasedActionDialog';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    '& > *': {\n      margin: theme.spacing(1),\n    },\n  },\n}));\n\nexport default function EnableLocationServices(props) {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(true);\n  const [servicesEnabled, setServicesEnabled] = React.useState(null);\n\n  useEffect(() => {\n    areLocationPermissionsAccepted(setServicesEnabled);\n    //\n    // return () => {\n    //     console.log(\"unmounting relay\");\n    //     client.off(\"message\", messageHandler);\n    // };\n  }, []);\n\n  const handleClose = () => {\n    props.closeDialog();\n    setOpen(false);\n  };\n\n  const enableServices = () => {\n    onLocationServicesReady(setServicesEnabled);\n    handleClose();\n  };\n  let dialog = null;\n  if (servicesEnabled !== null) {\n    if (servicesEnabled) {\n      // onLocationServicesReady();\n      dialog = (\n        <LocationBasedActionDialog\n          sensors={props.sensors}\n          updateActions={props.updateActions}\n          closeDialog={props.closeDialog}\n        />\n      );\n    } else {\n      removeGeoLocationListener();\n      dialog = (\n        <Dialog open={open} onClose={handleClose}>\n          <DialogTitle>Location-Based Action</DialogTitle>\n          <DialogContent dividers>\n            When prompted, you must accept all asked permissions in order for\n            the location services of this app to work. Otherwise this feature\n            will remain disabled.\n          </DialogContent>\n          <DialogActions>\n            <Button\n              variant=\"contained\"\n              onClick={enableServices}\n              color=\"primary\"\n            >\n              Enable Location Services\n            </Button>\n          </DialogActions>\n        </Dialog>\n      );\n    }\n  }\n  return <div className={classes.root}>{dialog}</div>;\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport SpeedDial from '@material-ui/lab/SpeedDial';\nimport SpeedDialIcon from '@material-ui/lab/SpeedDialIcon';\nimport SpeedDialAction from '@material-ui/lab/SpeedDialAction';\nimport TimerIcon from '@material-ui/icons/Timer';\nimport EditLocationIcon from '@material-ui/icons/EditLocation';\nimport BlurCircularIcon from '@material-ui/icons/BlurCircular';\nimport TimerActionDialog from './TimerActions/TimerActionDialog';\nimport SensorBasedActionDialog from './SensorBasedActions/SensorBasedActionDialog';\nimport CloseIcon from '@material-ui/icons/Close';\nimport EnableLocationServices from './LocationBasedActions/EnableLocationServicesDialog';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    position: 'fixed',\n    bottom: theme.spacing(2),\n    right: theme.spacing(2),\n  },\n  speedDial: {\n    position: 'absolute',\n    bottom: theme.spacing(2),\n    right: theme.spacing(2),\n  },\n  action: {\n    margin: theme.spacing(2),\n    backgroundColor: theme.palette.primary.main,\n  },\n}));\n\nexport default function OpenIconSpeedDial(props) {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n  const [selectedAction, setSelectedAction] = React.useState(null);\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  const selectTimerAction = () => {\n    setSelectedAction('timerAction');\n  };\n\n  const selectSensorBasedAction = () => {\n    setSelectedAction('sensorBasedAction');\n  };\n\n  const selectLocationBasedAction = () => {\n    setSelectedAction('locationBasedAction');\n  };\n\n  const closeDialog = () => {\n    setSelectedAction(null);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  let dialog = null;\n  switch (selectedAction) {\n    case 'timerAction':\n      dialog = (\n        <TimerActionDialog\n          sensors={props.sensors}\n          updateActions={props.updateActions}\n          closeDialog={closeDialog}\n        />\n      );\n      break;\n    case 'sensorBasedAction':\n      dialog = (\n        <SensorBasedActionDialog\n          sensors={props.sensors}\n          updateActions={props.updateActions}\n          closeDialog={closeDialog}\n        />\n      );\n      break;\n    case 'locationBasedAction':\n      dialog = (\n        <EnableLocationServices\n          closeDialog={closeDialog}\n          sensors={props.sensors}\n          updateActions={props.updateActions}\n        />\n      );\n      break;\n    default:\n      break;\n  }\n\n  return (\n    <div className={classes.root}>\n      <SpeedDial\n        ariaLabel=\"SpeedDial openIcon\"\n        className={classes.speedDial}\n        icon={<SpeedDialIcon openIcon={<CloseIcon />} />}\n        onClose={handleClose}\n        onOpen={handleOpen}\n        open={open}\n      >\n        <SpeedDialAction\n          className={classes.action}\n          icon={<BlurCircularIcon />}\n          tooltipTitle={'Sensor Based'}\n          onClick={selectSensorBasedAction}\n        />\n        <SpeedDialAction\n          className={classes.action}\n          icon={<EditLocationIcon />}\n          tooltipTitle={'Location Based'}\n          onClick={selectLocationBasedAction}\n        />\n        <SpeedDialAction\n          className={classes.action}\n          icon={<TimerIcon />}\n          tooltipTitle={'Time Based'}\n          onClick={selectTimerAction}\n        />\n        {dialog}\n      </SpeedDial>\n    </div>\n  );\n}\n","import React, { useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ActionCard from './ActionCard';\nimport axios from 'axios';\nimport NoContentPage from '../NoContentPage';\nimport ActionsSpeedDial from './ActionsSpeedDial';\nimport { backendApiUrl } from '../../utils/Config';\n\nconst URL = backendApiUrl.server + 'api/actions';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    margin: theme.spacing(1),\n  },\n}));\n\nexport default function MaterialUIPickers(props) {\n  const classes = useStyles();\n  const [actionData, setActions] = useState({\n    actions: [],\n    isFetching: false,\n  });\n  const [effectUpdate, setEffectUpdate] = useState(null);\n\n  const rerenderOnActionChange = (id) => {\n    setEffectUpdate(id);\n  };\n\n  useEffect(() => {\n    const fetchDevices = async () => {\n      try {\n        setActions({ actions: [], isFetching: true });\n        const response = await axios.get(URL);\n        setActions({ actions: response.data, isFetching: false });\n      } catch (error) {\n        console.log(error);\n        setActions({ actions: [], isFetching: false });\n      }\n    };\n\n    fetchDevices();\n\n    return () => {\n      console.log('unmounting actions');\n    };\n  }, [effectUpdate]);\n\n  return (\n    <div className={classes.root}>\n      {actionData.actions.length !== 0 ? (\n        actionData.actions.map((action) => {\n          return (\n            <div className={classes.root} key={action._id}>\n              <ActionCard\n                action={action}\n                updateActions={rerenderOnActionChange}\n              />\n            </div>\n          );\n        })\n      ) : (\n        <NoContentPage displayItem=\"Actions\" />\n      )}\n      <ActionsSpeedDial\n        sensors={props.sensors}\n        updateActions={rerenderOnActionChange}\n      />\n    </div>\n  );\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Button from \"@material-ui/core/Button\";\nimport { SimpleDialog } from \"./DialogFilterBy\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(1),\n  },\n  title: {\n    flexGrow: 1,\n  },\n}));\n\nexport default function ButtonAppBar(props) {\n  const classes = useStyles();\n  const [openDialog, setOpenDialog] = React.useState({\n    open: false,\n    dialogItems: null,\n  });\n  const [selectedValue, setSelectedValue] = React.useState(undefined);\n\n  const handleClickOpenRooms = () => {\n    setOpenDialog({\n      open: true,\n      dialogItems: {\n        contents: props.rooms,\n        name: \"Rooms\",\n        type: \"room\",\n      },\n    });\n  };\n\n  const handleClickOpenTypes = () => {\n    setOpenDialog({\n      open: true,\n      dialogItems: {\n        contents: props.categories,\n        name: \"Sensor Types\",\n        type: \"sensor-type\",\n      },\n    });\n  };\n\n  const handleClose = (value) => {\n    setOpenDialog({ open: false, dialogItems: null });\n    setSelectedValue(value);\n    if (value) {\n      props.selectItem({ selected: value, type: openDialog.dialogItems.type });\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <AppBar position=\"static\">\n        <Toolbar variant=\"dense\">\n          <Button size=\"small\" onClick={props.showAllSensors} color=\"inherit\">\n            All\n          </Button>\n          <Button size=\"small\" onClick={handleClickOpenRooms} color=\"inherit\">\n            Rooms\n          </Button>\n          <Button size=\"small\" onClick={handleClickOpenTypes} color=\"inherit\">\n            Types\n          </Button>\n        </Toolbar>\n      </AppBar>\n      {openDialog.dialogItems !== null ? (\n        <SimpleDialog\n          name={openDialog.dialogItems.name}\n          type={openDialog.dialogItems.type}\n          contents={openDialog.dialogItems.contents}\n          selectedValue={selectedValue}\n          open={openDialog.open}\n          onClose={handleClose}\n        />\n      ) : null}\n    </div>\n  );\n}\n","import React from 'react';\nimport clsx from 'clsx';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Drawer from '@material-ui/core/Drawer';\nimport Box from '@material-ui/core/Box';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport List from '@material-ui/core/List';\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\nimport Container from '@material-ui/core/Container';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport Button from '@material-ui/core/Button';\nimport { getUser, removeUserSession } from '../utils/Common';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Sensors from './Sensors/Sensors';\nimport DashboardIcon from '@material-ui/icons/Dashboard';\nimport AssignmentIcon from '@material-ui/icons/Assignment';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport Dialog from './DialogFilterBy';\nimport Paper from '@material-ui/core/Paper';\nimport { withRouter } from 'react-router-dom';\nimport { Link as RouterLink } from 'react-router-dom';\nimport Link from '@material-ui/core/Link';\nimport Actions from './Actions/Actions';\nimport MenuBar from './MenuBar';\nimport { FILE_PATH } from '../utils/CordovaGlobals';\n\nfunction Copyright() {\n  return (\n    <Typography variant=\"body2\" color=\"textPrimary\" align=\"center\">\n      {'Copyright Â© '}\n      {'Home Automation '}\n      {new Date().getFullYear()}\n      {'.'}\n    </Typography>\n  );\n}\n\nconst drawerWidth = 200;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n  },\n  toolbar: {\n    paddingRight: 24, // keep right padding when drawer closed\n  },\n  toolbarIcon: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-end',\n    padding: '0 8px',\n    ...theme.mixins.toolbar,\n  },\n  appBar: {\n    backgroundColor: theme.palette.secondary.main,\n    zIndex: theme.zIndex.drawer + 1,\n    transition: theme.transitions.create(['width', 'margin'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  appBarShift: {\n    marginLeft: drawerWidth,\n    width: `calc(100% - ${drawerWidth}px)`,\n    transition: theme.transitions.create(['width', 'margin'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  menuButton: {\n    marginRight: 36,\n  },\n  menuButtonHidden: {\n    display: 'none',\n  },\n  title: {\n    flexGrow: 1,\n    paddingTop: 5,\n  },\n  drawerPaper: {\n    position: 'relative',\n    whiteSpace: 'nowrap',\n    width: drawerWidth,\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  drawerPaperClose: {\n    overflowX: 'hidden',\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    width: theme.spacing(7),\n    [theme.breakpoints.down('sm')]: {\n      width: theme.spacing(0),\n    },\n  },\n  appBarSpacer: theme.mixins.toolbar,\n  content: {\n    flexGrow: 1,\n    height: '100vh',\n    overflow: 'auto',\n  },\n  container: {\n    paddingTop: theme.spacing(4),\n    paddingBottom: theme.spacing(4),\n  },\n  paper: {\n    padding: theme.spacing(1),\n    display: 'flex',\n    overflow: 'auto',\n    flexDirection: 'column',\n    borderRadius: '10px',\n    backgroundColor: theme.palette.secondary.main,\n  },\n  primaryAction: {\n    borderRadius: '10px',\n    [theme.breakpoints.down('sm')]: {\n      display: 'none',\n    },\n  },\n  currentTab: {\n    textAlign: 'center',\n    marginTop: theme.spacing(2),\n  },\n  hiMessage: {\n    marginRight: theme.spacing(2),\n  },\n  behindBackground: {\n    backgroundImage: `url(${FILE_PATH}/static/media/home-automation4.cc5ee920.svg)`,\n    backgroundPosition: 'center',\n    backgroundSize: 'cover',\n    backgroundRepeat: 'no-repeat',\n    width: '100vw',\n    height: '100vh',\n  },\n}));\n\nfunction Dashboard(props) {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n  const [selectedItem, selectItem] = React.useState({\n    selected: 'All',\n    type: 'all',\n  });\n\n  // handle click event of logout button\n  const handleLogout = () => {\n    // const mqttClient = mqttService.getClient();\n    // mqttService.closeConnection(mqttClient);\n    removeUserSession();\n    props.history.push('/login');\n  };\n\n  const handleDrawerOpen = () => {\n    setOpen(true);\n  };\n  const handleDrawerClose = () => {\n    setOpen(false);\n  };\n\n  const handleAllButton = () => {\n    selectItem({\n      selected: 'All',\n      type: 'all',\n    });\n  };\n\n  const showActions = () => {\n    selectItem({\n      selected: 'Actions',\n      type: 'actions',\n    });\n  };\n\n  let currentlyDisplayedItem = {\n    tab: 'All',\n    content: null,\n  };\n  switch (selectedItem.type) {\n    case 'room':\n      currentlyDisplayedItem.tab = 'Room';\n      currentlyDisplayedItem.content = selectedItem.selected;\n      break;\n    case 'sensor-type':\n      currentlyDisplayedItem.tab = 'Sensor Type';\n      currentlyDisplayedItem.content = selectedItem.selected;\n      break;\n    case 'actions':\n      currentlyDisplayedItem.tab = 'Actions';\n      currentlyDisplayedItem.content = null;\n      break;\n    default:\n      currentlyDisplayedItem.tab = 'All';\n      currentlyDisplayedItem.content = null;\n      break;\n  }\n  const rooms = [...new Set(props.sensors.map((sensor) => sensor.room))];\n  const categories = [...new Set(props.sensors.map((sensor) => sensor.type))];\n  const user = getUser();\n  return (\n    <div className={classes.root}>\n      <CssBaseline />\n      <AppBar\n        position=\"absolute\"\n        className={clsx(classes.appBar, open && classes.appBarShift)}\n      >\n        <Toolbar className={classes.toolbar}>\n          <IconButton\n            edge=\"start\"\n            color=\"inherit\"\n            aria-label=\"open drawer\"\n            onClick={handleDrawerOpen}\n            className={clsx(\n              classes.menuButton,\n              open && classes.menuButtonHidden\n            )}\n          >\n            <MenuIcon />\n          </IconButton>\n          <div className={classes.title}>\n            <Link\n              href=\"/\"\n              component={RouterLink}\n              to=\"/\"\n              color=\"primary\"\n              underline=\"none\"\n              variant=\"h5\"\n            >\n              {\n                <img\n                  src={`${FILE_PATH}/static/media/home-automation.1ec2cf5b.svg`}\n                  alt=\"\"\n                  height={50}\n                />\n              }\n            </Link>\n          </div>\n\n          <Typography variant=\"body2\" className={classes.hiMessage}>\n            {'Hi, '}\n            {user.name}\n          </Typography>\n          <Button\n            variant=\"contained\"\n            className={classes.primaryAction}\n            onClick={handleLogout}\n            color=\"primary\"\n          >\n            Log Out\n          </Button>\n        </Toolbar>\n      </AppBar>\n\n      <Drawer\n        variant=\"temporary\"\n        classes={{\n          paper: clsx(classes.drawerPaper, !open && classes.drawerPaperClose),\n        }}\n        open={open}\n        onClose={handleDrawerClose}\n      >\n        <div className={classes.toolbarIcon}>\n          <IconButton onClick={handleDrawerClose}>\n            <ChevronLeftIcon />\n          </IconButton>\n        </div>\n        <Divider />\n        <List>\n          <ListItem button onClick={handleAllButton}>\n            <ListItemIcon>\n              <DashboardIcon color=\"primary\" />\n            </ListItemIcon>\n            <ListItemText primary=\"All\" />\n          </ListItem>\n          <Dialog\n            contents={rooms}\n            selectItem={selectItem}\n            name=\"Rooms\"\n            type=\"room\"\n          />\n          <Dialog\n            contents={categories}\n            selectItem={selectItem}\n            name=\"Sensor Types\"\n            type=\"sensor-type\"\n          />\n        </List>\n        <Divider />\n        <List>\n          <ListItem button onClick={showActions}>\n            <ListItemIcon>\n              <AssignmentIcon color=\"primary\" />\n            </ListItemIcon>\n            <ListItemText primary=\"Actions\" />\n          </ListItem>\n\n          <ListItem button onClick={handleLogout}>\n            <ListItemIcon>\n              <ExitToAppIcon color=\"primary\" />\n            </ListItemIcon>\n            <ListItemText primary=\"Log Out\" />\n          </ListItem>\n        </List>\n      </Drawer>\n      <div className={classes.behindBackground}>\n        <main className={classes.content}>\n          <div className={classes.appBarSpacer} />\n          <MenuBar\n            selectItem={selectItem}\n            rooms={rooms}\n            categories={categories}\n            showAllSensors={handleAllButton}\n          />\n          <div className={classes.currentTab}>\n            <Typography variant=\"h5\" gutterBottom>\n              Dashboard\n            </Typography>\n            <Typography variant=\"h6\">\n              {currentlyDisplayedItem.tab}\n              {currentlyDisplayedItem.tab === 'All' ||\n              currentlyDisplayedItem.tab === 'Actions'\n                ? null\n                : ' | '}\n              {currentlyDisplayedItem.content}\n            </Typography>\n          </div>\n          <Container maxWidth=\"lg\" className={classes.container}>\n            {selectedItem.selected === 'Actions' ? (\n              <div>\n                <Paper className={classes.paper} elevation={10}>\n                  <Actions sensors={props.sensors} />\n                </Paper>\n              </div>\n            ) : (\n              <Sensors\n                sensors={props.sensors}\n                filtered={selectedItem.type}\n                selected={selectedItem.selected}\n              />\n            )}\n            <Box pt={4}>\n              <Copyright />\n            </Box>\n          </Container>\n        </main>\n      </div>\n    </div>\n  );\n}\n\nexport default withRouter(Dashboard);\n","import axios from 'axios';\nimport mqttService from '../utils/MQTT';\nimport React, { useEffect, useState, useRef } from 'react';\nimport AlertMessage from './AlertMessage';\nimport Dashboard from './Dashboard';\nimport { backendApiUrl } from '../utils/Config';\n\nconst URL = backendApiUrl.server + 'api/activeSensors';\n\nconst FetcherÎœQTT = () => {\n  const [data, setData] = useState({ sensors: [] });\n  const dataRef = useRef(data);\n\n  useEffect(() => {\n    const fetchDevices = async () => {\n      try {\n        // setData({ sensors: data.sensors, isFetching: true });\n        const response = await axios.get(URL);\n        setData({ sensors: response.data });\n\n        dataRef.current = { sensors: response.data };\n\n        for (const sensor of response.data) {\n          mqttService.subscribe(client, sensor.pubTopic);\n        }\n      } catch (error) {\n        console.log(error);\n        setData({ sensors: [] });\n      }\n    };\n\n    fetchDevices();\n\n    const client = mqttService.getClient();\n    console.log(client);\n\n    const messageHandler = (topic, payload, packet) => {\n      console.log(payload.toString(), topic);\n\n      if (topic === 'browser') {\n        const infoObj = JSON.parse(payload.toString());\n        if (infoObj.action === 'disconnected') {\n          const newData = {\n            sensors: dataRef.current.sensors.filter((sensor) => {\n              if (sensor.deviceId === infoObj.deviceId) {\n                mqttService.unsubscribe(client, sensor.pubTopic);\n              }\n              return sensor.deviceId !== infoObj.deviceId;\n            }),\n            alertMessage: {\n              device: infoObj.deviceId,\n              reason: infoObj.action,\n            },\n          };\n          dataRef.current = newData;\n          setData(newData);\n        } else if (infoObj.action === 'connected') {\n          const existingSensor = dataRef.current.sensors.find(\n            (el) => el.deviceId === infoObj.newSensors[0].deviceId\n          );\n          if (existingSensor) {\n            console.log('Exists!!! No action taken!');\n            return;\n          } else {\n            const newData = {\n              sensors: dataRef.current.sensors.concat(infoObj.newSensors),\n              alertMessage: {\n                // show: true,\n                device: infoObj.newSensors[0].deviceId,\n                reason: infoObj.action,\n              },\n            };\n            for (const sensor of infoObj.newSensors) {\n              mqttService.subscribe(client, sensor.pubTopic);\n            }\n            dataRef.current = newData;\n            setData(newData);\n          }\n        } else if (infoObj.action === 'action') {\n          console.log(infoObj);\n          const newData = {\n            sensors: dataRef.current.sensors,\n            alertMessage: {\n              reason: infoObj.action,\n              actionCategory: infoObj.actionInfo.actionCategory,\n              command: infoObj.actionInfo.command,\n              roomName: infoObj.actionInfo.roomName,\n              sensorType: infoObj.actionInfo.sensorType,\n            },\n          };\n          dataRef.current = newData;\n          setData(newData);\n        }\n        return;\n      }\n    };\n\n    client.on('message', messageHandler);\n\n    return () => {\n      console.log('Dashboard was unmounted!');\n      client.off('message', messageHandler);\n    };\n  }, []);\n\n  return (\n    <div>\n      <AlertMessage alertMessage={data.alertMessage} />\n      <Dashboard sensors={data.sensors} alertMessage={data.alertMessage} />\n    </div>\n  );\n};\n\nexport default FetcherÎœQTT;\n","export default __webpack_public_path__ + \"static/media/brightness.f2162df0.svg\";","export default __webpack_public_path__ + \"static/media/lightbulb-open2.d67991f2.svg\";","export default __webpack_public_path__ + \"static/media/lightbulb-closed2.909d2ca0.svg\";","export default __webpack_public_path__ + \"static/media/heater-on.688f2856.svg\";","export default __webpack_public_path__ + \"static/media/heater-off.7c821918.svg\";","export default __webpack_public_path__ + \"static/media/thermometer.26bec6cd.svg\";","export default __webpack_public_path__ + \"static/media/humidity.41d15f93.svg\";","export default __webpack_public_path__ + \"static/media/average.9152ffbf.svg\";","export default __webpack_public_path__ + \"static/media/not-found.cd5a9b2a.svg\";","export default __webpack_public_path__ + \"static/media/home-automation4.cc5ee920.svg\";","export default __webpack_public_path__ + \"static/media/home-automation.1ec2cf5b.svg\";","export default __webpack_public_path__ + \"static/media/home-automation3.2481b425.svg\";","export default __webpack_public_path__ + \"static/media/home-location.cc2515ec.svg\";","export default __webpack_public_path__ + \"static/media/motion.8d3d8610.svg\";","export default __webpack_public_path__ + \"static/media/no-motion.de1b03d8.svg\";","import \"./App.css\";\nimport React, { useEffect, useState } from \"react\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\n\nimport { Switch } from \"react-router-dom\";\nimport Login from \"./components/Login\";\nimport PrivateRoute from \"./utils/PrivateRoute\";\nimport PublicRoute from \"./utils/PublicRoute\";\nimport { getToken, removeUserSession, setUserSession } from \"./utils/Common\";\nimport axios from 'axios';\nimport FetcherMQTT from \"./components/FetcherMQTT\";\nimport AssetImages from \"./utils/AssetImages\"\nimport {backendApiUrl} from \"./utils/Config\";\n\nfunction App() {\n  const [authLoading, setAuthLoading] = useState(true);\n\n  useEffect(() => {\n    const token = getToken();\n    if (!token) {\n      return;\n    }\n\n    axios\n      .get(`${backendApiUrl.server}api/verifyToken?token=${token}`)\n      .then((response) => {\n        setUserSession(response.data.token, response.data.user);\n        setAuthLoading(false);\n      })\n      .catch((error) => {\n        alert(error);\n        removeUserSession();\n        setAuthLoading(false);\n      });\n  }, []);\n\n  if (authLoading && getToken()) {\n    return <div className=\"content\">Checking Authentication...</div>;\n  }\n  return (\n    <Router>\n      <Switch>\n        <PrivateRoute path=\"/dashboard\" component={FetcherMQTT} />\n        <PublicRoute path=\"/\" component={Login} />\n      </Switch>\n    </Router>\n  );\n}\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { createMuiTheme } from '@material-ui/core/styles';\n\nconst theme = createMuiTheme({\n    \"palette\": {\n        \"background\": {\n            \"default\": \"#FFF\",\n            \"emphasis\": \"#E8EAF6\",\n            \"secondary\": \"#C5CAE9\",\n            \"header\": \"#121037\"\n        },\n        \"text\": {\n            \"primary\": \"#615f5d\",\n            \"secondary\": \"#999693\",\n            \"hint\": \"#ccc8c4\",\n            \"whiteText\": \"white\"\n        },\n        \"primary\": {\n            \"main\": \"#383838\",\n            \"light\": \"#333333\",\n            \"dark\": \"#545454\"\n        },\n        \"secondary\": {\n            \"main\": \"#b09058\",\n            \"light\": \"#deb66f\",\n            \"dark\": \"#9c7f4e\"\n        },\n        \"contrastThreshold\": 1.8\n    },\n    // \"shadows\": [\n    //     \"none\",\n\n    // ]\n});\n\nexport default theme;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport { ThemeProvider } from '@material-ui/core/styles';\nimport theme from './theme/theme';\n\nconst renderReactDom = () => {\n  ReactDOM.render(\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <App />\n    </ThemeProvider>,\n    document.getElementById('root')\n  );\n};\n\nif (window.cordova) {\n  document.addEventListener('deviceready', () => {\n      renderReactDom();\n  }, false);\n} else {\n  renderReactDom();\n}\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}