{"version":3,"sources":["utils/Common.js","utils/CordovaGlobals.js","utils/Config.js","components/Login.js","utils/PrivateRoute.js","utils/PublicRoute.js","utils/MQTT.js","components/AlertMessage.js","components/Sensors/RelayCard.js","components/Sensors/LightIntensityCard.js","components/Sensors/TemperatureHumidityCard.js","utils/SensorSpecific.js","components/Sensors/Sensor.js","components/NoContentPage.js","components/Sensors/Sensors.js","components/DialogFilterBy.js","components/Actions/common/DeleteActionDialog.js","components/Actions/TimerActions/TimerActionAccordionDetails.js","components/Actions/SensorBasedActions/SensorBasedAccordionDetails.js","components/Actions/ActionCard.js","components/Actions/common/SelectSensorMenu.js","components/Actions/common/SelectCommandMenu.js","components/Actions/TimerActions/SelectRepeatMenu.js","components/Actions/TimerActions/TimerActionDialog.js","components/Actions/SensorBasedActions/SelectComparedQuantityMenu.js","components/Actions/SensorBasedActions/SelectMeasurementTypeMenu.js","components/Actions/SensorBasedActions/SensorBasedActionDialog.js","components/Actions/LocationBasedActions/SelectRadiusMenu.js","components/Actions/LocationBasedActions/LocationBasedActionDialog.js","components/Actions/LocationBasedActions/EnableLocationServicesDialog.js","utils/Location.js","components/Actions/ActionsSpeedDial.js","components/Actions/Actions.js","components/MenuBar.js","components/Dashboard.js","components/FetcherMQTT.js","App.js","reportWebVitals.js","theme/theme.js","index.js"],"names":["getToken","sessionStorage","getItem","removeUserSession","removeItem","setUserSession","token","user","setItem","JSON","stringify","FILE_PATH","document","addEventListener","window","cordova","file","applicationDirectory","backendApiUrl","Copyright","Typography","variant","color","align","Date","getFullYear","useStyles","makeStyles","theme","root","height","image","backgroundImage","backgroundRepeat","backgroundColor","palette","type","grey","backgroundSize","backgroundPosition","paper","margin","spacing","display","flexDirection","alignItems","avatar","secondary","main","form","width","marginTop","submit","SignInSide","props","classes","username","useFormInput","password","useState","error","setError","setLoading","Grid","container","component","className","CssBaseline","item","xs","sm","md","Paper","elevation","square","Avatar","noValidate","TextField","required","fullWidth","id","label","name","autoComplete","autoFocus","onChange","style","Button","onClick","axios","post","value","then","response","data","history","push","catch","console","log","alert","status","message","Box","mt","initialValue","setValue","e","target","PrivateRoute","Component","rest","render","to","pathname","state","from","location","PublicRoute","client","websocketUrl","clientId","Math","random","toString","substr","options","keepalive","protocolId","protocolVersion","clean","reconnectPeriod","connectTimeout","will","topic","payload","qos","retain","rejectUnauthorized","mqttService","getClient","mqtt","connect","subscribe","on","err","end","publishMessage","publish","granted","onMessage","callBack","packet","unsubscribe","closeConnection","undefined","extractMqttTopicInfo","mqttTopic","splitStr","split","room","deviceId","sensorName","Alert","AlertMessage","device","reason","severity","alertMessage","open","setOpen","handleClose","event","useEffect","Snackbar","onClose","autoHideDuration","anchorOrigin","vertical","horizontal","actionCategory","command","roomName","borderRadius","flexWrap","justifyContent","info","flexGrow","deviceInfoIndividual","paddingLeft","paddingRight","divContent","padding","imageLightOpen","imageLightClosed","currentState","onOff","marginLeft","borderStyle","borderColor","roomInfo","primary","circularProgress","OutlinedCard","relayState","setRelayState","switchValue","spinner","disabled","spinnerState","setSpinnerState","messageHandler","off","CircularProgress","Switch","ev","checked","progressBar","textAlign","brightnessIcon","degrees","fontWeight","CircularProgressWithLabel","position","size","top","left","bottom","right","round","brightness","percentage","currBrightness","setCurrBrightness","React","luxStr","luxPercentage","parseFloat","imageTemperature","imageHumidity","imageAverage","tempHum","averageMeasurementsDiv","avgTemp","avgHum","isFetching","averageData","setAverageData","temperature","humidity","currTempHum","setCurrTempHum","displayedAvg","a","get","total","measurementBucket","temperaturesSum","humiditiesSum","measurementsCounter","length","fetchDevices","SENSOR_TYPE","commandsByType","description","getMeasurementUnitsName","measurementName","overflow","title","roomTitle","SensorGridItem","sensor","lg","pubTopic","commandTopic","divNoContent","NoContentPage","gutterBottom","displayItem","Sensors","sensors","filtered","filter","selected","justify","map","dialogPaper","emptyContentLabel","SimpleDialog","Dialog","aria-labelledby","DialogTitle","contents","List","ListItem","button","ListItemAvatar","ListItemText","SimpleDialogDemo","selectedValue","setSelectedValue","ListItemIcon","selectItem","ResponsiveDialog","IconButton","DialogContent","DialogContentText","DialogActions","delete","action","_id","updateActions","accordionContent","timeInfoIndividual","dateLabel","TimerActionContent","date","toLocaleString","recurrenceMessage","whenDescription","whenSensorDescription","labelDynamicContent","marginRight","deviceInfo","breakpoints","down","measurementType","toLowerCase","comparisonType","quantity","measurementRoomName","measurementSensorName","measurementDeviceId","fontSize","typography","pxToRem","flexShrink","headingCommand","heading","secondaryHeading","text","summary","deleteButton","ActionCard","expanded","setExpanded","details","recurrenceNumber","recurrenceTimeUnit","startTime","panel","commandDescription","sensorType","registrationDate","Accordion","isExpanded","AccordionSummary","expandIcon","aria-controls","AccordionDetails","Divider","formControl","minWidth","maxWidth","menuItem","ControlledOpenSelect","selectedSensor","setSelectedSensor","filteredSensors","isCommandSensor","FormControl","InputLabel","Select","labelId","onOpen","selectSensor","MenuItem","CommandMenu","selectedCommand","setSelectedCommand","commandsArray","selectCommand","el","index","BootstrapInput","withStyles","input","background","border","transition","transitions","create","InputBase","CustomizedSelects","recurrence","setRecurrence","timeUnits","setTimeUnits","focused","htmlFor","selectRecurrence","selectTimeUnits","extendedIcon","fab","picker","cancelButton","TimerActionDialog","selectedDate","setSelectedDate","selectedRecurrence","setSelectedRecurrence","selectedTimeUnits","setSelectedTimeUnits","setStatus","loading","handleDateChange","closeDialog","disableBackdropClick","disableEscapeKeyDown","dividers","utils","DateFnsUtils","format","KeyboardButtonProps","now","timestamp","setQuantity","comparison","setComparison","selectComparison","selectQuantity","MeasurementTypesMenu","selectedType","setSelectedType","measurementTypes","getMeasurementNamesByType","selectMeasurementType","wrapDiv","marginBottom","SensorBasedActionDialog","selectedWhenSensor","setSelectedWhenSensor","selectedCommandSensor","setSelectedCommandSensor","selectedMeasurementType","setSelectedMeasurementType","selectedQuantity","setSelectedQuantity","selectedComparisonType","setSelectedComparisonType","paddingTop","radius","setRadius","selectRadius","selectedRadius","setSelectedRadius","EnableLocationServices","servicesEnabled","setServicesEnabled","callback","BackgroundGeolocation","checkStatus","isRunning","locationServicesEnabled","authorization","dialog","removeAllListeners","configure","locationProvider","ACTIVITY_PROVIDER","desiredAccuracy","HIGH_ACCURACY","stationaryRadius","distanceFilter","notificationTitle","notificationText","debug","interval","fastestInterval","activitiesInterval","url","httpHeaders","postTemplate","lat","lon","foo","startTask","taskKey","endTask","stationaryLocation","code","AUTHORIZED","setTimeout","confirm","showAppSettings","start","speedDial","OpenIconSpeedDial","selectedAction","setSelectedAction","SpeedDial","ariaLabel","icon","SpeedDialIcon","openIcon","SpeedDialAction","tooltipTitle","URL","MaterialUIPickers","actions","actionData","setActions","effectUpdate","setEffectUpdate","rerenderOnActionChange","menuButton","ButtonAppBar","dialogItems","openDialog","setOpenDialog","AppBar","Toolbar","showAllSensors","rooms","categories","toolbar","toolbarIcon","mixins","appBar","zIndex","drawer","easing","sharp","duration","leavingScreen","appBarShift","enteringScreen","menuButtonHidden","drawerPaper","whiteSpace","drawerPaperClose","overflowX","appBarSpacer","content","paddingBottom","primaryAction","dashBoardLabel","currentTab","hiMessage","behindBackground","withRouter","selectedItem","handleLogout","handleDrawerClose","handleAllButton","currentlyDisplayedItem","tab","Set","userStr","parse","getUser","clsx","edge","aria-label","Link","href","RouterLink","underline","src","alt","Drawer","Container","pt","FetcherÎœQTT","setData","dataRef","useRef","current","infoObj","newData","find","newSensors","concat","actionInfo","App","authLoading","setAuthLoading","path","FetcherMQTT","Login","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","createMuiTheme","renderReactDom","ReactDOM","ThemeProvider","getElementById"],"mappings":"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","file":"static/js/main.a0ab3387.chunk.js","sourcesContent":["// return the user data from the session storage\nexport const getUser = () => {\n  const userStr = sessionStorage.getItem(\"user\");\n  if (userStr) {\n    return JSON.parse(userStr);\n  } else {\n    return null;\n  }\n};\n\n// return the token from the session storage\nexport const getToken = () => {\n  return sessionStorage.getItem(\"token\") || null;\n};\n\n// remove the token and user from the session storage\nexport const removeUserSession = () => {\n  sessionStorage.removeItem(\"token\");\n  sessionStorage.removeItem(\"user\");\n};\n\n// set the token and user from the session storage\nexport const setUserSession = (token, user) => {\n  sessionStorage.setItem(\"token\", token);\n  sessionStorage.setItem(\"user\", JSON.stringify(user));\n};\n","let FILE_PATH = '';\n\ndocument.addEventListener('deviceready', () => {\n    FILE_PATH = `${window.cordova.file.applicationDirectory}www`;\n}, false);\n\nexport {FILE_PATH};","export const backendApiUrl = {\n  server: \"http://192.168.1.66:5000/\",\n  ws: \"http://192.168.1.66:8883\",\n};\n","import React, { useState } from \"react\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Box from \"@material-ui/core/Box\";\nimport Grid from \"@material-ui/core/Grid\";\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport axios from \"axios\";\nimport { setUserSession } from \"../utils/Common\";\nimport {FILE_PATH} from '../utils/CordovaGlobals'\nimport { backendApiUrl } from \"../utils/Config\";\n\nfunction Copyright() {\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      {\"Copyright Â© \"}\n      {\"Home Automation \"}\n      {new Date().getFullYear()}\n      {\".\"}\n    </Typography>\n  );\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    height: \"100vh\",\n  },\n  image: {\n    backgroundImage: `url(${FILE_PATH}/static/media/home-automation3.2481b425.svg)`,\n    backgroundRepeat: \"no-repeat\",\n    backgroundColor:\n      theme.palette.type === \"light\"\n        ? theme.palette.grey[50]\n        : theme.palette.grey[900],\n    backgroundSize: \"cover\",\n    backgroundPosition: \"center\",\n  },\n  paper: {\n    margin: theme.spacing(8, 4),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: \"100%\", // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nexport default function SignInSide(props) {\n  const classes = useStyles();\n  const username = useFormInput(\"\");\n  const password = useFormInput(\"\");\n\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  // handle button click of login form\n  const handleLogin = () => {\n    setError(null);\n    setLoading(true);\n\n    axios\n      .post(backendApiUrl.server + \"api/users/signin\", {\n        username: username.value,\n        password: password.value,\n      })\n      .then((response) => {\n        setLoading(false);\n        setUserSession(response.data.token, response.data.user);\n        props.history.push(\"/dashboard\");\n      })\n      .catch((error) => {\n        console.log(error)\n        console.log(error.response)\n        // console.log(error.response.data);\n        alert(error);\n        setLoading(false);\n        if (error.response) {\n          if (error.response.status === 401 || error.response.status === 400) {\n            setError(error.response.data.message);\n          }\n        } else setError(\"Something went wrong. Please try again later.\");\n      });\n  };\n\n  return (\n    <Grid container component=\"main\" className={classes.root}>\n      <CssBaseline />\n      <Grid item xs={false} sm={4} md={7} className={classes.image} />\n      <Grid item xs={12} sm={8} md={5} component={Paper} elevation={6} square>\n        <div className={classes.paper}>\n          <Avatar className={classes.avatar}>\n            <LockOutlinedIcon />\n          </Avatar>\n          <Typography component=\"h1\" variant=\"h5\">\n            Sign in\n          </Typography>\n          <form className={classes.form} noValidate>\n            <TextField\n              variant=\"filled\"\n              color=\"secondary\"\n              margin=\"normal\"\n              required\n              fullWidth\n              id=\"username\"\n              label=\"Username\"\n              name=\"username\"\n              autoComplete=\"username\"\n              autoFocus\n              onChange={username.onChange}\n            />\n            <TextField\n              variant=\"filled\"\n              color=\"secondary\"\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"password\"\n              label=\"Password\"\n              type=\"password\"\n              id=\"password\"\n              autoComplete=\"current-password\"\n              onChange={password.onChange}\n            />\n            {error && (\n              <>\n                <small style={{ color: \"red\" }}>{error}</small>\n                <br />\n              </>\n            )}\n            <Button\n              type=\"button\"\n              fullWidth\n              variant=\"contained\"\n              color=\"primary\"\n              className={classes.submit}\n              onClick={handleLogin}\n            >\n              Sign In\n            </Button>\n            <Box mt={5}>\n              <Copyright />\n            </Box>\n          </form>\n        </div>\n      </Grid>\n    </Grid>\n  );\n}\n\nconst useFormInput = (initialValue) => {\n  const [value, setValue] = useState(initialValue);\n\n  const handleChange = (e) => {\n    setValue(e.target.value);\n  };\n  return {\n    value,\n    onChange: handleChange,\n  };\n};\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { getToken } from './Common';\n \n// handle the private routes\nfunction PrivateRoute({ component: Component, ...rest }) {\n  return (\n    <Route\n      {...rest}\n      render={(props) => getToken() ? <Component {...props} /> : <Redirect to={{ pathname: '/', state: { from: props.location } }} />}\n    />\n  )\n}\n \nexport default PrivateRoute;","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { getToken } from \"./Common\";\n\n// handle the public routes\nfunction PublicRoute({ component: Component, ...rest }) {\n  return (\n    <Route\n      {...rest}\n      render={(props) =>\n        !getToken() ? (\n          <Component {...props} />\n        ) : (\n          <Redirect to={{ pathname: \"/dashboard\" }} />\n        )\n      }\n    />\n  );\n}\n\nexport default PublicRoute;\n","import mqtt from \"mqtt\";\nimport { backendApiUrl } from \"./Config\";\n\nconst websocketUrl = backendApiUrl.ws;\nconst clientId = \"mqttjs_brower_\" + Math.random().toString(16).substr(2, 4);\nlet client;\n\nvar options = {\n  keepalive: 30,\n  clientId: clientId,\n  protocolId: \"MQTT\",\n  protocolVersion: 4,\n  clean: true,\n  reconnectPeriod: 1000,\n  connectTimeout: 30 * 1000,\n  will: {\n    topic: \"WillMsg\",\n    payload: \"Connection Closed abnormally..!\",\n    qos: 0,\n    retain: false,\n  },\n  rejectUnauthorized: false,\n};\n\nconst initClient = (errorHandler) => {\n  client = mqtt.connect(websocketUrl, options);\n\n  client.subscribe(\"browser\");\n\n  client.on(\"error\", (err) => {\n    console.log(`Connection to ${websocketUrl} failed`, err);\n    client.end();\n  });\n\n  client.on(\"close\", () => {\n    console.log(clientId + \" disconnected\");\n  });\n  return client;\n};\n\nconst getClient = () => {\n  if (!client) {\n    initClient();\n  }\n  return client;\n}\n\nconst onMessage = (client, callBack) => {\n  client.on(\"message\", (topic, message, packet) => {\n    console.log(message.toString(), topic);\n    \n    callBack(client, topic, message);\n  });\n};\n\nconst publishMessage = (client, topic, message) => {\n  client.publish(topic, message);\n}\n\nconst subscribe = (client, topic) => {\n  const callBack = (err, granted) => {\n    if (err) {\n      console.log(\"Subscription request failed\");\n    }\n  };\n  return client.subscribe(topic, callBack);\n};\n\nconst unsubscribe = (client, topic) => {\n  client.unsubscribe(topic);\n};\n\nconst closeConnection = (client) => {\n  client.end();\n  client = undefined;\n};\n\nconst extractMqttTopicInfo = (mqttTopic) => {\n  const splitStr = mqttTopic.split(\"/\");\n\n  const [room, deviceId, type, sensorName] = splitStr;\n\n  return {\n    room,\n    deviceId,\n    type,\n    sensorName,\n  };\n};\n\nconst mqttService = {\n  getClient,\n  publishMessage,\n  subscribe,\n  onMessage,\n  unsubscribe,\n  closeConnection,\n  extractMqttTopicInfo\n};\n\nexport default mqttService;\n","import React, { useEffect, useState } from \"react\";\nimport MuiAlert from \"@material-ui/lab/Alert\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nfunction Alert(props) {\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n    \"& > * + *\": {\n      marginTop: theme.spacing(2),\n    },\n  },\n}));\n\nexport default function AlertMessage(props) {\n  const classes = useStyles();\n\n  const [open, setOpen] = useState(props.alertMessage ? true : false);\n\n  const handleClose = (event, reason) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n    setOpen(false);\n  };\n  // console.log(props.alertMessage);\n\n  useEffect(() => {\n    setOpen(props.alertMessage ? true : false);\n  }, [props]);\n\n  let device;\n  let reason;\n  if (props.alertMessage) {\n    device = props.alertMessage.device;\n    reason = props.alertMessage.reason;\n  }\n\n  let severity;\n  if (reason === \"connected\") {\n    severity = \"success\";\n  } else if (reason === \"disconnected\") {\n    severity = \"error\";\n  } else if (reason === \"action\") {\n    severity = \"info\";\n  }\n\n  return (\n    <div className={classes.root}>\n      <Snackbar\n        open={open}\n        onClose={handleClose}\n        autoHideDuration={6000}\n        anchorOrigin={{ vertical: \"bottom\", horizontal: \"center\" }}\n      >\n        <Alert severity={severity} onClose={handleClose}>\n          {reason === \"action\"\n            ? `${props.alertMessage.actionCategory} triggered! Sending command [${props.alertMessage.command}] on ${props.alertMessage.sensorName} | ${props.alertMessage.roomName}`\n            : `${device} was ${reason}`}\n        </Alert>\n      </Snackbar>\n    </div>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Switch from \"@material-ui/core/Switch\";\nimport mqttService from \"../../utils/MQTT\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport {FILE_PATH} from \"../../utils/CordovaGlobals\";\nimport RouterIcon from \"@material-ui/icons/Router\";\nimport RoomIcon from \"@material-ui/icons/Room\";\nimport BlurCircularIcon from \"@material-ui/icons/BlurCircular\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    // width: \"100%\",\n    backgroundColor: \"white\",\n    borderRadius: \"10px\",\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    // flexDirection: \"column\",\n  },\n  info: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    flexGrow: 1,\n    flexDirection: \"column\",\n    justifyContent: \"space-around\",\n    borderRadius: \"10px\",\n    // backgroundColor: theme.palette.secondary.main,\n    // border:`2px solid ${theme.palette.secondary.main}`,\n    margin: theme.spacing(1),\n  },\n  deviceInfoIndividual: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    margin: theme.spacing(1),\n    color: theme.palette.secondary.main,\n  },\n  divContent: {\n    display: \"flex\",\n    alignItems: \"center\",\n    flexDirection: \"column\",\n    padding: theme.spacing(2),\n  },\n  imageLightOpen: {\n    margin: theme.spacing(1),\n    padding: theme.spacing(1),\n    backgroundImage: `url(${FILE_PATH}/static/media/lightbulb-open2.d67991f2.svg)`,\n    backgroundPosition: \"center\",\n    backgroundSize: \"contain\",\n    backgroundRepeat: \"no-repeat\",\n    width: 70,\n    height: 70,\n  },\n  imageLightClosed: {\n    margin: theme.spacing(1),\n    padding: theme.spacing(1),\n    backgroundImage: `url(${FILE_PATH}/static/media/lightbulb-closed2.909d2ca0.svg)`,\n    backgroundPosition: \"center\",\n    backgroundSize: \"contain\",\n    backgroundRepeat: \"no-repeat\",\n    width: 70,\n    height: 70,\n  },\n  currentState: {\n    display: \"flex\",\n    alignItems: \"center\",\n    padding: theme.spacing(1),\n  },\n  onOff: {\n    marginLeft: theme.spacing(1),\n    padding: theme.spacing(1),\n    color: theme.palette.secondary.main,\n    borderStyle: \"dashed\",\n    borderColor: theme.palette.secondary.main,\n    borderRadius: \"10px\",\n  },\n  roomInfo: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.primary.main,\n    color: \"white\",\n    // borderStyle: \"solid\",\n    // borderColor: theme.palette.secondar.main,\n    borderRadius: \"10px\",\n  },\n  circularProgress: {\n    display: \"inline\",\n    \"& > * + *\": {\n      marginLeft: theme.spacing(2),\n    },\n  },\n}));\n\nexport default function OutlinedCard(props) {\n  const classes = useStyles();\n  const [relayState, setRelayState] = useState(\"Loading...\");\n  const switchValue = relayState === \"ON\" ? true : false;\n  const [spinnerState, setSpinnerState] = useState({\n    spinner: false,\n    disabled: true,\n  });\n\n  const onChangeHandler = (ev) => {\n    const client = mqttService.getClient();\n    console.log(client, props.command);\n    if (ev.target.checked) {\n      mqttService.publishMessage(client, props.command, \"ON\");\n    } else {\n      mqttService.publishMessage(client, props.command, \"OFF\");\n    }\n\n    setSpinnerState({ spinner: true, disabled: true });\n  };\n\n  useEffect(() => {\n    const client = mqttService.getClient();\n\n    const messageHandler = (topic, payload, packet) => {\n      console.log(payload.toString(), topic);\n      if (topic === props.topic) {\n        setRelayState(payload.toString());\n        setSpinnerState({ spinner: false, disabled: false });\n      }\n    };\n\n    client.on(\"message\", messageHandler);\n\n    return () => {\n      console.log(\"unmounting relay\");\n      client.off(\"message\", messageHandler);\n    };\n  }, [props.topic]);\n  return (\n    <div className={classes.root}>\n      <div className={classes.divContent}>\n        {relayState === \"ON\" ? (\n          <div className={classes.imageLightOpen} />\n        ) : (\n          <div className={classes.imageLightClosed} />\n        )}\n        <div className={classes.currentState}>\n          <Typography variant=\"subtitle1\">{\"Current state \"}</Typography>\n          <Typography className={classes.onOff} variant=\"subtitle2\">\n            {relayState}\n          </Typography>\n        </div>\n\n        {spinnerState.spinner === true ? (\n          <div className={classes.circularProgress}>\n            <CircularProgress />\n          </div>\n        ) : null}\n        <Switch\n          onChange={onChangeHandler}\n          checked={switchValue}\n          disabled={spinnerState.disabled}\n        />\n      </div>\n      <div className={classes.info}>\n        <div className={classes.roomInfo}>\n          <RoomIcon />\n          <Typography variant=\"h5\">{props.roomName}</Typography>\n        </div>\n        <div className={classes.deviceInfoIndividual}>\n          <BlurCircularIcon />\n          <Typography variant=\"subtitle1\">{props.name}</Typography>\n        </div>\n        <div className={classes.deviceInfoIndividual}>\n          <RouterIcon />\n          <Typography variant=\"subtitle1\">{props.device}</Typography>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\n\nimport Box from \"@material-ui/core/Box\";\n\nimport RouterIcon from \"@material-ui/icons/Router\";\nimport RoomIcon from \"@material-ui/icons/Room\";\nimport BlurCircularIcon from \"@material-ui/icons/BlurCircular\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport {FILE_PATH} from \"../../utils/CordovaGlobals\";\nimport mqttService from \"../../utils/MQTT\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    // width: \"100%\",\n    backgroundColor: \"white\",\n    borderRadius: \"10px\",\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    // flexDirection: \"column\",\n  },\n  info: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    flexGrow: 1,\n    flexDirection: \"column\",\n    justifyContent: \"space-around\",\n    borderRadius: \"10px\",\n    // backgroundColor: theme.palette.secondary.main,\n    // border:`2px solid ${theme.palette.secondary.main}`,\n    margin: theme.spacing(1),\n  },\n  deviceInfoIndividual: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    margin: theme.spacing(1),\n    color: theme.palette.secondary.main,\n  },\n  divContent: {\n    display: \"flex\",\n    alignItems: \"center\",\n    flexDirection: \"column\",\n    padding: theme.spacing(2),\n  },\n  roomInfo: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.primary.main,\n    color: \"white\",\n    // borderStyle: \"solid\",\n    // borderColor: theme.palette.secondar.main,\n    borderRadius: \"10px\",\n  },\n  progressBar: {\n    textAlign: \"center\",\n    // padding: theme.spacing(1),\n    width: \"100%\",\n  },\n  brightnessIcon: {\n    margin: theme.spacing(1),\n    padding: theme.spacing(1),\n    backgroundImage: `url(${FILE_PATH}/static/media/brightness.svg)`,\n    backgroundPosition: \"center\",\n    backgroundSize: \"contain\",\n    backgroundRepeat: \"no-repeat\",\n    width: 30,\n    height: 30,\n  },\n  degrees: {\n    textAlign: \"center\",\n    backgroundColor: theme.palette.secondary.main,\n    paddingLeft: theme.spacing(1),\n    paddingRight: theme.spacing(1),\n    color: \"white\",\n    borderRadius: \"20px\",\n    fontWeight: \"bold\",\n  },\n}));\n\nfunction CircularProgressWithLabel(props) {\n  const classes = useStyles();\n\n  let value = props.value;\n  if (props.value > 100) {\n    value = 100;\n  }\n  return (\n    <Box position=\"relative\" display=\"inline-flex\">\n      <CircularProgress variant=\"determinate\" value={value} size={100} />\n      <Box\n        top={0}\n        left={0}\n        bottom={0}\n        right={0}\n        position=\"absolute\"\n        display=\"flex\"\n        alignItems=\"center\"\n        justifyContent=\"center\"\n      >\n        <div className={classes.divContent}>\n          <div className={classes.brightnessIcon} />\n          <Typography\n            variant=\"body2\"\n            component=\"div\"\n            color=\"textSecondary\"\n          >{`${Math.round(value)}%`}</Typography>\n        </div>\n      </Box>\n    </Box>\n  );\n}\n\n\nexport default function OutlinedCard(props) {\n  const classes = useStyles();\n\n  const [currBrightness, setCurrBrightness] = useState({\n    brightness: \"Loading...\",\n    percentage: 0,\n  });\n\n  React.useEffect(() => {\n    const client = mqttService.getClient();\n\n    const messageHandler = (topic, payload, packet) => {\n      console.log(payload.toString(), topic);\n      if (topic === props.topic) {\n        const luxStr = payload.toString();\n        const luxPercentage = parseFloat(luxStr);\n        setCurrBrightness({ brightness: luxStr, percentage: luxPercentage });\n      }\n    };\n\n    client.on(\"message\", messageHandler);\n\n    return () => {\n      console.log(\"unmounting light intensity\");\n      client.off(\"message\", messageHandler);\n    };\n  }, [props.topic]);\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.divContent}>\n        <div className={classes.progressBar}>\n          <CircularProgressWithLabel value={currBrightness.percentage} />\n        </div>\n        <Typography className={classes.degrees}>\n          {`${currBrightness.brightness} lux`}\n        </Typography>\n      </div>\n      <div className={classes.info}>\n        <div className={classes.roomInfo}>\n          <RoomIcon />\n          <Typography variant=\"h5\">{props.roomName}</Typography>\n        </div>\n        <div className={classes.deviceInfoIndividual}>\n          <BlurCircularIcon />\n          <Typography variant=\"subtitle1\">{props.sensorName}</Typography>\n        </div>\n        <div className={classes.deviceInfoIndividual}>\n          <RouterIcon />\n          <Typography variant=\"subtitle1\">{props.device}</Typography>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport RouterIcon from \"@material-ui/icons/Router\";\nimport RoomIcon from \"@material-ui/icons/Room\";\nimport BlurCircularIcon from \"@material-ui/icons/BlurCircular\";\n\nimport {FILE_PATH} from \"../../utils/CordovaGlobals\";\nimport mqttService from \"../../utils/MQTT\";\nimport { backendApiUrl } from \"../../utils/Config\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    // flexGrow: 1,\n    backgroundColor: \"white\",\n    borderRadius: \"10px\",\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    // flexDirection: \"column\",\n  },\n  degrees: {\n    textAlign: \"center\",\n    backgroundColor: theme.palette.secondary.main,\n    paddingLeft: theme.spacing(1),\n    paddingRight: theme.spacing(1),\n    color: \"white\",\n    borderRadius: \"20px\",\n    fontWeight: \"bold\",\n  },\n  imageTemperature: {\n    margin: theme.spacing(1),\n    padding: theme.spacing(1),\n    backgroundImage: `url(${FILE_PATH}/static/media/thermometer.26bec6cd.svg)`,\n    backgroundPosition: \"center\",\n    backgroundSize: \"contain\",\n    backgroundRepeat: \"no-repeat\",\n    width: 50,\n    height: 50,\n  },\n  imageHumidity: {\n    margin: theme.spacing(1),\n    padding: theme.spacing(1),\n    backgroundImage: `url(${FILE_PATH}/static/media/humidity.41d15f93.svg)`,\n    backgroundPosition: \"center\",\n    backgroundSize: \"contain\",\n    backgroundRepeat: \"no-repeat\",\n    width: 50,\n    height: 50,\n  },\n  imageAverage: {\n    margin: theme.spacing(1),\n    padding: theme.spacing(1),\n    backgroundImage: `url(${FILE_PATH}/static/media/average.9152ffbf.svg)`,\n    backgroundPosition: \"center\",\n    backgroundSize: \"contain\",\n    backgroundRepeat: \"no-repeat\",\n    width: 50,\n    height: 50,\n  },\n  divContent: {\n    display: \"flex\",\n    alignItems: \"center\",\n    flexDirection: \"column\",\n    padding: theme.spacing(1),\n  },\n  info: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    flexGrow: 1,\n    flexDirection: \"column\",\n    justifyContent: \"space-around\",\n    // backgroundColor: theme.palette.secondary.main,\n    // border:`2px solid ${theme.palette.primary.main}`,\n    borderRadius: \"10px\",\n    margin: theme.spacing(1),\n  },\n  deviceInfoIndividual: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    margin: theme.spacing(1),\n    // backgroundColor: theme.palette.secondary.main,\n    color: theme.palette.secondary.main,\n    borderRadius: \"10px\",\n  },\n  roomInfo: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.primary.main,\n    color: \"white\",\n\n    borderRadius: \"10px\",\n  },\n  tempHum: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    justifyContent: \"center\",\n  },\n  averageMeasurementsDiv: {\n    // flexGrow: 1,\n    display: \"flex\",\n    alignItems: \"center\",\n    flexDirection: \"column\",\n    // justifyContent: \"space-around\",\n    backgroundColor: theme.palette.secondary.main,\n    padding: theme.spacing(1),\n    borderRadius: \"10px\",\n    margin: theme.spacing(1),\n    color: \"white\",\n    // flexWrap: \"wrap\",\n  },\n}));\n\nexport default function OutlinedCard(props) {\n  const classes = useStyles();\n\n  const [averageData, setAverageData] = useState({\n    avgTemp: null,\n    avgHum: null,\n    isFetching: false,\n  });\n\n  const [currTempHum, setCurrTempHum] = useState({\n    temperature: \"Loading...\",\n    humidity: \"Loading...\",\n  });\n\n  let displayedAvg = \"No Samples yet\";\n\n  if (averageData.avgTemp !== null) {\n    displayedAvg = `${Math.round(averageData.avgTemp)}\\u00B0C /\n    ${Math.round(averageData.avgHum)}%`;\n  }\n\n  useEffect(() => {\n    const fetchDevices = async () => {\n      try {\n        setAverageData({ avgTemp: null, avgHum: null, isFetching: true });\n        const response = await axios.get(\n          `${backendApiUrl.server}api/measurements/${props.sensorName}`\n        );\n\n        let avgTemp = 0;\n        let avgHum = 0;\n        let total = 0;\n        for (const measurementBucket of response.data) {\n          avgTemp += measurementBucket.temperaturesSum;\n          avgHum += measurementBucket.humiditiesSum;\n          total += measurementBucket.measurementsCounter;\n        }\n        console.log(response.data);\n        if (response.data.length !== 0) {\n          avgTemp = avgTemp / total;\n          avgHum = avgHum / total;\n          setAverageData({\n            avgTemp: avgTemp,\n            avgHum: avgHum,\n            isFetching: false,\n          });\n        }\n      } catch (error) {\n        console.log(error);\n        setAverageData({ avgTemp: null, avgHum: null, isFetching: false });\n      }\n    };\n\n    fetchDevices();\n\n    const client = mqttService.getClient();\n\n    const messageHandler = (topic, payload, packet) => {\n      console.log(payload.toString(), topic);\n      if (topic === props.topic) {\n        const splitStr = payload.toString().split(\"-\");\n        setCurrTempHum({ temperature: splitStr[0], humidity: splitStr[1] });\n      }\n    };\n\n    client.on(\"message\", messageHandler);\n\n    return () => {\n      console.log(\"unmounting temp-hum\");\n      client.off(\"message\", messageHandler);\n    };\n  }, [props.topic, props.sensorName]);\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.averageMeasurementsDiv}>\n        <Typography variant=\"subtitle1\">{\"Average\"}</Typography>\n        <div className={classes.imageAverage} />\n        <Typography className={classes.degrees}>{displayedAvg}</Typography>\n      </div>\n      <div className={classes.tempHum}>\n        <div className={classes.divContent}>\n          <Typography variant=\"subtitle1\">Temperature</Typography>\n          <div className={classes.imageTemperature} />\n          <Typography className={classes.degrees}>\n            {`${currTempHum.temperature} \\u00B0C`}\n            <br />\n          </Typography>\n        </div>\n        <div className={classes.divContent}>\n          <Typography variant=\"subtitle1\">Humidity</Typography>\n          <div className={classes.imageHumidity} />\n          <Typography className={classes.degrees}>\n            {currTempHum.humidity} %\n            <br />\n          </Typography>\n        </div>\n      </div>\n\n      <div className={classes.info}>\n        <div className={classes.roomInfo}>\n          <RoomIcon />\n          <Typography variant=\"h5\">{props.roomName}</Typography>\n        </div>\n        <div className={classes.deviceInfoIndividual}>\n          <BlurCircularIcon />\n          <Typography variant=\"subtitle1\">{props.sensorName}</Typography>\n        </div>\n        <div className={classes.deviceInfoIndividual}>\n          <RouterIcon />\n          <Typography variant=\"subtitle1\">{props.device}</Typography>\n        </div>\n      </div>\n    </div>\n  );\n}\n","export const SENSOR_TYPE = {\n  RELAY_LIGHTBULB: \"Lightbulb\",\n  TEMPERATURE_HUMIDITY: \"Temperature-Humidity\",\n  LIGHT_INTENSITY: \"Light-Intensity\",\n};\n\nexport const commandsByType = (type, command) => {\n  switch (type) {\n    case SENSOR_TYPE.RELAY_LIGHTBULB:\n      switch (command) {\n        case \"ON\":\n          return { command: \"ON\", description: \"Turn the lights on\" };\n        case \"OFF\":\n          return { command: \"OFF\", description: \"Turn the lights off\" };\n\n        default:\n          return [\n            { command: \"ON\", description: \"Turn the lights on\" },\n            { command: \"OFF\", description: \"Turn the lights off\" },\n          ];\n      }\n\n    default:\n      break;\n  }\n};\n\nexport const getMeasurementNamesByType = (type) => {\n  switch (type) {\n    case SENSOR_TYPE.TEMPERATURE_HUMIDITY:\n      return [\"Temperature (Celcius)\", \"Humidity (%)\"];\n    case SENSOR_TYPE.LIGHT_INTENSITY:\n      return [\"Light Intensity (%)\"];\n    default:\n      break;\n  }\n};\n\nexport const getMeasurementUnitsName = (measurementName) => {\n  switch (measurementName) {\n    case \"Temperature (Celcius)\":\n      return \"Celcius\";\n    case \"Humidity (%)\":\n      return \"%\";\n    case \"Light Intensity (%)\":\n      return \"%\";\n    default:\n      break;\n  }\n};\n","import React from \"react\";\nimport Grid from \"@material-ui/core/Grid\";\n\nimport Paper from \"@material-ui/core/Paper\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Typography } from \"@material-ui/core\";\n\nimport RelayCard from \"./RelayCard\";\nimport LightIntensityCard from \"./LightIntensityCard\";\nimport TemperatureHumidityCard from \"./TemperatureHumidityCard\";\nimport { SENSOR_TYPE } from \"../../utils/SensorSpecific\";\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    padding: theme.spacing(1),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n    backgroundColor: theme.palette.secondary.main,\n    borderRadius: \"10px\",\n  },\n  title: {\n    backgroundColor: theme.palette.secondary.main,\n    color: \"white\",\n    borderRadius: \"10px\",\n    paddingLeft: theme.spacing(1),\n    paddingRight: theme.spacing(1),\n    textAlign: \"center\",\n  },\n  roomTitle: {\n    textAlign: \"center\",\n    backgroundColor: theme.palette.primary.main,\n    color: \"white\",\n    borderRadius: \"10px\",\n    paddingLeft: theme.spacing(1),\n    paddingRight: theme.spacing(1),\n    margin: theme.spacing(1),\n  },\n}));\n\nexport default function SensorGridItem(props) {\n  const classes = useStyles();\n  if (props.sensor.type === SENSOR_TYPE.LIGHT_INTENSITY) {\n    return (\n      <Grid item xs={\"auto\"} md={\"auto\"} lg={\"auto\"}>\n        <Paper className={classes.paper} elevation={6}>\n          <Typography variant=\"h6\" className={classes.title}>\n            Room brightness\n          </Typography>\n          <LightIntensityCard\n            topic={props.sensor.pubTopic}\n            roomName={props.sensor.room}\n            device={props.sensor.deviceId}\n            sensorName={props.sensor.name}\n          />\n        </Paper>\n      </Grid>\n    );\n  } else if (props.sensor.type === SENSOR_TYPE.TEMPERATURE_HUMIDITY) {\n    return (\n      <Grid item xs={\"auto\"} md={\"auto\"} lg={\"auto\"}>\n        <Paper className={classes.paper} elevation={6}>\n          <Typography variant=\"h6\" className={classes.title}>\n            Temperature & Humidity\n          </Typography>\n          {/* <Typography className={classes.roomTitle}>\n            {props.sensor.room}\n          </Typography> */}\n          <TemperatureHumidityCard\n            topic={props.sensor.pubTopic}\n            roomName={props.sensor.room}\n            device={props.sensor.deviceId}\n            sensorName={props.sensor.name}\n          />\n        </Paper>\n      </Grid>\n    );\n  } else if (props.sensor.type === SENSOR_TYPE.RELAY_LIGHTBULB) {\n    return (\n      <Grid item xs={\"auto\"} md={\"auto\"} lg={\"auto\"}>\n        <Paper className={classes.paper} elevation={6}>\n          <Typography variant=\"h6\" className={classes.title}>\n            Lights\n          </Typography>\n          {/* <Typography className={classes.roomTitle}>\n            {props.sensor.room}\n          </Typography> */}\n          <RelayCard\n            roomName={props.sensor.room}\n            device={props.sensor.deviceId}\n            name={props.sensor.name}\n            command={props.sensor.commandTopic}\n            topic={props.sensor.pubTopic}\n          />\n        </Paper>\n      </Grid>\n    );\n  } else {\n    return null;\n  }\n}\n","import { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport {FILE_PATH} from '../utils/CordovaGlobals'\n\nconst useStyles = makeStyles((theme) => ({\n  image: {\n    margin: theme.spacing(1),\n    padding: theme.spacing(1),\n    backgroundImage: `url(${FILE_PATH}/static/media/not-found.cd5a9b2a.svg)`,\n    backgroundPosition: \"center\",\n    backgroundSize: \"contain\",\n    backgroundRepeat: \"no-repeat\",\n    width: \"80vh\",\n    height: \"50vh\",\n  },\n  divNoContent: {\n    margin: theme.spacing(1),\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  title: {\n    margin: theme.spacing(1),\n    padding: theme.spacing(1),\n    color: \"white\",\n    textAlign: \"center\"\n  },\n}));\n\nexport default function NoContentPage(props) {\n  const classes = useStyles();\n  return (\n    <div className={classes.divNoContent}>\n      <Typography\n        variant=\"h3\"\n        component=\"h3\"\n        gutterBottom\n        className={classes.title}\n      >\n        {props.displayItem ? `No ${props.displayItem} Found` : `Nothing Found`}\n      </Typography>\n      <div className={classes.image} />\n    </div>\n  );\n}\n","import React from \"react\";\nimport Sensor from \"./Sensor\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport NoContentPage from \"../NoContentPage\";\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n    backgroundColor: theme.palette.secondary.main,\n  },\n}));\n\nexport default function Sensors(props) {\n  const classes = useStyles();\n\n  let sensors = props.sensors;\n  if (props.filtered === \"room\") {\n    sensors = props.sensors.filter((sensor) => sensor.room === props.selected);\n  } else if (props.filtered === \"sensor-type\") {\n    sensors = props.sensors.filter((sensor) => sensor.type === props.selected);\n  }\n\n  if (sensors.length === 0) {\n    return (\n      <Paper className={classes.paper} elevation={10}>\n        <NoContentPage displayItem={\"Devices\"} />\n      </Paper>\n    );\n  }\n\n  return (\n    <Grid container spacing={3} justify=\"center\">\n      {sensors.map((sensor) => {\n        return <Sensor sensor={sensor} key={sensor.name} />;\n      })}\n    </Grid>\n\n  );\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport MeetingRoomIcon from \"@material-ui/icons/MeetingRoom\";\nimport DeviceHubIcon from \"@material-ui/icons/DeviceHub\";\nimport Typography from \"@material-ui/core/Typography\";\nimport RoomIcon from \"@material-ui/icons/Room\";\nimport CategoryIcon from \"@material-ui/icons/Category\";\n// const capitalize = (s) => {\n//   return s && s[0].toUpperCase() + s.slice(1);\n// };\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    \"& > *\": {\n      margin: theme.spacing(1),\n    },\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  dialogPaper: {\n    // minWidth: \"50vh\",\n  },\n  emptyContentLabel: {\n    margin:36,\n  },\n}));\n\nexport function SimpleDialog(props) {\n  const classes = useStyles();\n  const { onClose, open } = props;\n\n  const handleClose = () => {\n    onClose(undefined);\n  };\n\n  const handleListItemClick = (value) => {\n    onClose(value);\n  };\n\n  return (\n    <div className={classes.root}>\n\n    <Dialog\n      classes={{ paper: classes.dialogPaper }}\n      onClose={handleClose}\n      aria-labelledby=\"simple-dialog-title\"\n      open={open}\n    >\n      <DialogTitle id=\"simple-dialog-title\">{props.name}</DialogTitle>\n      {props.contents.length !== 0 ? (\n        <List>\n          {props.contents.map((item) => {\n            return (\n              <ListItem\n                button\n                onClick={() => handleListItemClick(item)}\n                key={item}\n              >\n                <ListItemAvatar>\n                  <Avatar className={classes.avatar}>\n                    {props.type === \"room\" ? (\n                      <MeetingRoomIcon />\n                    ) : (\n                      <DeviceHubIcon />\n                    )}\n                  </Avatar>\n                </ListItemAvatar>\n                <ListItemText primary={item} />\n              </ListItem>\n            );\n          })}\n        </List>\n      ) : (\n        <Typography\n          variant=\"body1\"\n          color=\"secondary\"\n          align=\"center\"\n          className={classes.emptyContentLabel}\n        >\n          {\"No \"}\n          {props.name}\n          {\" found.\"}\n        </Typography>\n      )}\n    </Dialog>\n    </div>\n  );\n}\n\nexport default function SimpleDialogDemo(props) {\n  const [open, setOpen] = React.useState(false);\n  const [selectedValue, setSelectedValue] = React.useState(undefined);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = (value) => {\n    setOpen(false);\n    setSelectedValue(value);\n    if (value) {\n      props.selectItem({ selected: value, type: props.type });\n    }\n  };\n\n  return (\n    <div>\n      <ListItem button onClick={handleClickOpen}>\n        <ListItemIcon>\n          {props.type === \"room\" ? <RoomIcon color=\"primary\"/> : <CategoryIcon color=\"primary\"/>}\n        </ListItemIcon>\n        <ListItemText primary={props.name} />\n      </ListItem>\n      <SimpleDialog\n        name={props.name}\n        type={props.type}\n        contents={props.contents}\n        selectedValue={selectedValue}\n        open={open}\n        onClose={handleClose}\n      />\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport axios from \"axios\";\nimport { backendApiUrl } from \"../../../utils/Config\";\n\nexport default function ResponsiveDialog(props) {\n  const [open, setOpen] = React.useState(false);\n  const [error, setError] = useState(null);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n    setError(null);\n  };\n\n  const deleteAction = () => {\n    setError(null);\n\n    axios\n      .delete(`${backendApiUrl.server}api/actions/${props.action._id}`, {\n        data: props.action._id,\n      })\n      .then((response) => {\n        props.updateActions(\n          props.action._id.toString() + Math.random().toString(16).substr(2, 8)\n        );\n        setOpen(false);\n      })\n      .catch((error) => {\n        console.log(error.response);\n        if (error.response) {\n          if (error.response.status === 404) {\n            setError(error.response.data.message);\n          }\n        } else setError(\"Something went wrong. Please try again later.\");\n      });\n  };\n\n  return (\n    <div>\n      <IconButton onClick={handleClickOpen} color=\"primary\">\n        <DeleteIcon />\n      </IconButton>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"responsive-dialog-title\"\n      >\n        <DialogTitle id=\"responsive-dialog-title\">{\"Warning\"}</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Are you sure you want to delete this action?\n          </DialogContentText>\n          {error && (\n            <>\n              <small style={{ color: \"red\" }}>{error}</small>\n              <br />\n            </>\n          )}\n        </DialogContent>\n        <DialogActions>\n          <Button\n            variant=\"contained\"\n            autoFocus\n            onClick={handleClose}\n            color=\"primary\"\n          >\n            Cancel\n          </Button>\n          <Button\n            variant=\"contained\"\n            autoFocus\n            onClick={deleteAction}\n            color=\"primary\"\n          >\n            Delete\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport ScheduleIcon from \"@material-ui/icons/Schedule\";\nimport LoopIcon from \"@material-ui/icons/Loop\";\nconst useStyles = makeStyles((theme) => ({\n  accordionContent: {\n    backgroundColor: theme.palette.secondary.main,\n    color: \"white\",\n    width: \"100%\",\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    justifyContent: \"space-around\",\n    borderRadius: \"10px\",\n  },\n  timeInfoIndividual: {\n    display: \"flex\",\n    alignItems: \"center\",\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    margin: theme.spacing(1),\n  },\n  dateLabel: {\n    marginLeft: theme.spacing(1),\n\n  }\n}));\n\nexport default function TimerActionContent(props) {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.accordionContent}>\n      <div className={classes.timeInfoIndividual}>\n        <ScheduleIcon />\n        <Typography className={classes.dateLabel} variant=\"subtitle1\">\n          {`Starting time: ${props.date.toLocaleString()}`}\n        </Typography>\n      </div>\n      <div className={classes.timeInfoIndividual}>\n        <LoopIcon />\n        <Typography className={classes.dateLabel} variant=\"subtitle1\">{props.recurrenceMessage}</Typography>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { getMeasurementUnitsName } from \"../../../utils/SensorSpecific\";\nimport RoomIcon from \"@material-ui/icons/Room\";\nimport RouterIcon from \"@material-ui/icons/Router\";\nimport BlurCircularIcon from \"@material-ui/icons/BlurCircular\";\n\nconst useStyles = makeStyles((theme) => ({\n  accordionContent: {\n    backgroundColor: theme.palette.secondary.main,\n    color: \"white\",\n    width: \"100%\",\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    justifyContent: \"space-around\",\n    borderRadius: \"10px\",\n  },\n  whenDescription: {\n    display: \"flex\",\n\n    alignItems: \"center\",\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    margin: theme.spacing(1),\n    flexWrap: \"wrap\",\n  },\n  whenSensorDescription: {\n    borderRadius: \"10px\",\n    backgroundColor: \"white\",\n    // color: theme.palette.secondary.main,\n    display: \"flex\",\n    alignItems: \"center\",\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    margin: theme.spacing(1),\n    flexWrap: \"wrap\",\n  },\n  labelDynamicContent: {\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1),\n    backgroundColor: theme.palette.primary.main,\n    paddingLeft: theme.spacing(1),\n    paddingRight: theme.spacing(1),\n    borderRadius: \"10px\",\n  },\n  deviceInfoIndividual: {\n    display: \"flex\",\n    alignItems: \"center\",\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    margin: theme.spacing(1),\n    // backgroundColor: theme.palette.secondary.main,\n    color: theme.palette.secondary.main,\n    // borderStyle: \"solid\",\n    // borderColor: theme.palette.secondar.main,\n    borderRadius: \"10px\",\n  },\n  roomInfo: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.primary.main,\n    color: \"white\",\n\n    borderRadius: \"10px\",\n  },\n  deviceInfo: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    justifyContent: \"flex-start\",\n    [theme.breakpoints.down(\"md\")]: {\n      marginTop: theme.spacing(2),\n    },\n  },\n}));\n\nexport default function TimerActionContent(props) {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.accordionContent}>\n      <div className={classes.whenDescription}>\n        <Typography variant=\"subtitle1\">\n          {`When ${props.measurementType.toLowerCase()} is ${props.comparisonType.toLowerCase()} `}\n        </Typography>\n        <Typography className={classes.labelDynamicContent} variant=\"subtitle1\">\n          {`${props.quantity} `}\n        </Typography>\n        <Typography variant=\"subtitle1\">\n          {`${getMeasurementUnitsName(props.measurementType)}.`}\n        </Typography>\n      </div>\n      <div className={classes.whenSensorDescription}>\n        <div className={classes.roomInfo}>\n          <RoomIcon />\n          <Typography variant=\"subtitle1\">{props.measurementRoomName}</Typography>\n        </div>\n        <div className={classes.deviceInfoIndividual}>\n          <BlurCircularIcon />\n          <Typography variant=\"subtitle1\">\n            {props.measurementSensorName}\n          </Typography>\n        </div>\n        <div className={classes.deviceInfoIndividual}>\n          <RouterIcon />\n          <Typography variant=\"subtitle1\">\n            {props.measurementDeviceId}\n          </Typography>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport RouterIcon from \"@material-ui/icons/Router\";\nimport RoomIcon from \"@material-ui/icons/Room\";\nimport BlurCircularIcon from \"@material-ui/icons/BlurCircular\";import Accordion from \"@material-ui/core/Accordion\";\nimport AccordionDetails from \"@material-ui/core/AccordionDetails\";\nimport AccordionSummary from \"@material-ui/core/AccordionSummary\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport Divider from \"@material-ui/core/Divider\";\nimport DeleteActionDialog from \"./common/DeleteActionDialog\";\nimport TimerActionAccordionDetails from \"./TimerActions/TimerActionAccordionDetails\";\nimport SensorBasedAccordionDetails from \"./SensorBasedActions/SensorBasedAccordionDetails\";\nimport { commandsByType } from \"../../utils/SensorSpecific\";\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n  },\n  command: {\n    color: theme.palette.primary.main,\n    fontSize: theme.typography.pxToRem(15),\n    padding: theme.spacing(1),\n    margin: theme.spacing(1),\n    flexShrink: 0,\n    borderStyle: \"solid\",\n    borderColor: theme.palette.primary.main,\n    borderRadius: \"10px\",\n    backgroundColor: theme.palette.secondary.main,\n  },\n  headingCommand: {\n    // borderStyle: \"dashed\",\n    borderColor: theme.palette.secondary.main,\n    borderRadius: \"10px\",\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    alignItems: \"center\",\n  },\n  heading: {\n    // fontSize: theme.typography.pxToRem(15),\n    // padding: theme.spacing(1),\n    margin: theme.spacing(1),\n    flexShrink: 0,\n  },\n  secondaryHeading: {\n    fontSize: theme.typography.pxToRem(15),\n    color: theme.palette.text.secondary,\n    padding: theme.spacing(1),\n    margin: theme.spacing(1),\n  },\n  summary: {\n    display: \"flex\",\n    alignItems: \"center\",\n    flexWrap: \"wrap\",\n    justifyContent: \"flex-start\",\n  },\n\n  deviceInfoIndividual: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    margin: theme.spacing(1),\n    color: theme.palette.secondary.main,\n  },\n  roomInfo: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.primary.main,\n    color: \"white\",\n\n    borderRadius: \"10px\",\n  },\n  deviceInfo: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    justifyContent: \"flex-start\",\n    [theme.breakpoints.down(\"md\")]: {\n      marginTop: theme.spacing(2),\n    },\n  },\n\n  deleteButton: {\n    display: \"flex\",\n    justifyContent: \"center\",\n  },\n}));\n\nexport default function ActionCard(props) {\n  const classes = useStyles();\n\n  const [expanded, setExpanded] = React.useState(false);\n\n  const handleChange = (panel) => (event, isExpanded) => {\n    setExpanded(isExpanded ? panel : false);\n  };\n\n  let details = null;\n  switch (props.action.actionCategory) {\n    case \"Timer Action\":\n      let date;\n      let recurrenceMessage;\n      if (props.action.recurrenceNumber) {\n        recurrenceMessage = `Every ${props.action.recurrenceNumber} ${props.action.recurrenceTimeUnit}`;\n      } else {\n        recurrenceMessage = \"None\";\n      }\n      date = new Date(props.action.startTime);\n      details = (\n        <TimerActionAccordionDetails\n          recurrenceMessage={recurrenceMessage}\n          date={date}\n        />\n      );\n      break;\n    case \"Sensor-Based Action\":\n      details = (\n        <SensorBasedAccordionDetails\n          measurementType={props.action.measurementType}\n          quantity={props.action.quantity}\n          comparisonType={props.action.comparisonType}\n          measurementSensorName={props.action.measurementSensorName}\n          measurementDeviceId={props.action.measurementDeviceId}\n          measurementRoomName={props.action.measurementRoomName}\n        />\n      );\n      break;\n    default:\n      break;\n  }\n\n  const commandDescription = commandsByType(\n    props.action.sensorType,\n    props.action.command\n  );\n  const registrationDate = new Date(props.action.registrationDate);\n  return (\n    <div className={classes.root}>\n      <Accordion\n        expanded={expanded === \"panel1\"}\n        onChange={handleChange(\"panel1\")}\n      >\n        <AccordionSummary\n          expandIcon={<ExpandMoreIcon />}\n          aria-controls=\"panel1bh-content\"\n          id=\"panel1bh-header\"\n        >\n          <div className={classes.summary}>\n            <div className={classes.headingCommand}>\n              <Typography variant=\"subtitle1\" className={classes.heading}>\n                {props.action.actionCategory}\n              </Typography>\n              <Typography className={classes.command}>\n                {commandDescription.description}\n              </Typography>\n            </div>\n\n            <div className={classes.deviceInfo}>\n              <div className={classes.roomInfo}>\n                <RoomIcon />\n                <Typography variant=\"subtitle1\">\n                  {props.action.roomName}\n                </Typography>\n              </div>\n              <div className={classes.deviceInfoIndividual}>\n                <BlurCircularIcon />\n                <Typography variant=\"subtitle1\">\n                  {props.action.sensorName}\n                </Typography>\n              </div>\n              <div className={classes.deviceInfoIndividual}>\n                <RouterIcon />\n                <Typography variant=\"subtitle1\" >\n                  {props.action.deviceId}\n                </Typography>\n              </div>\n            </div>\n            <Typography className={classes.secondaryHeading}>\n              {\"Registered on: \"}\n              {registrationDate.toLocaleString()}\n            </Typography>\n          </div>\n        </AccordionSummary>\n        <AccordionDetails>{details}</AccordionDetails>\n        <Divider />\n        <div className={classes.deleteButton}>\n          <DeleteActionDialog\n            action={props.action}\n            updateActions={props.updateActions}\n          />\n        </div>\n      </Accordion>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport RouterIcon from \"@material-ui/icons/Router\";\nimport RoomIcon from \"@material-ui/icons/Room\";\nimport BlurCircularIcon from \"@material-ui/icons/BlurCircular\";\n\nconst useStyles = makeStyles((theme) => ({\n  button: {\n    display: \"block\",\n    marginTop: theme.spacing(2),\n  },\n  formControl: {\n    minWidth: 120,\n    maxWidth: 250\n  },\n  menuItem: {\n    padding: theme.spacing(1),\n    display: \"flex\",\n  },\n}));\n\nexport default function ControlledOpenSelect(props) {\n  const classes = useStyles();\n  const [selectedSensor, setSelectedSensor] = React.useState(\"\");\n  const [open, setOpen] = React.useState(false);\n\n  const handleChange = (event) => {\n    setSelectedSensor(event.target.value);\n    props.selectSensor(event.target.value);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  let filteredSensors = null;\n  if (props.sensors) {\n    if (props.isCommandSensor === undefined) {\n      filteredSensors = props.sensors;\n    } else if (props.isCommandSensor) {\n      filteredSensors = props.sensors.filter((sensor) => {\n        return sensor.commandTopic;\n      });\n    } else if (!props.isCommandSensor) {\n      filteredSensors = props.sensors.filter((sensor) => {\n        return !sensor.commandTopic;\n      });\n    }\n  }\n\n  // console.log(selectedSensor);\n  return (\n    <div>\n      <FormControl required className={classes.formControl}>\n        <InputLabel id=\"demo-controlled-open-select-label\">Sensor</InputLabel>\n        <Select\n          labelId=\"demo-controlled-open-select-label\"\n          id=\"demo-controlled-open-select\"\n          open={open}\n          onClose={handleClose}\n          onOpen={handleOpen}\n          value={selectedSensor}\n          onChange={handleChange}\n        >\n          <MenuItem value=\"\">\n            <em>None</em>\n          </MenuItem>\n\n          {filteredSensors\n            ? filteredSensors.map((sensor) => {\n                return (\n                  <MenuItem value={sensor} key={sensor.name}>\n                    <BlurCircularIcon />\n                    {\"  \"}\n                    {sensor.name}\n                    {\"  \"}\n                    <RoomIcon />\n                    {\"  \"}\n                    {sensor.room}\n                    {\"  \"}\n                    <RouterIcon />\n                    {\"  \"}\n                    {sensor.deviceId}\n                  </MenuItem>\n                );\n              })\n            : null}\n        </Select>\n      </FormControl>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport {commandsByType} from \"../../../utils/SensorSpecific\";\n\nconst useStyles = makeStyles((theme) => ({\n  formControl: {\n    // margin: theme.spacing(1),\n    minWidth: 120,\n  },\n  menuItem: {\n    padding: theme.spacing(1),\n  },\n}));\n\n\n\nexport default function CommandMenu(props) {\n  const classes = useStyles();\n  const [selectedCommand, setSelectedCommand] = React.useState(\"\");\n  const [open, setOpen] = React.useState(false);\n\n  const handleChange = (event) => {\n    setSelectedCommand(event.target.value);\n    props.selectCommand(event.target.value);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  const commandsArray = commandsByType(props.type);\n  return (\n    <div>\n      <FormControl required className={classes.formControl}>\n        <InputLabel id=\"demo-controlled-open-select-label\">Command</InputLabel>\n        <Select\n          labelId=\"demo-controlled-open-select-label\"\n          id=\"demo-controlled-open-select\"\n          open={open}\n          onClose={handleClose}\n          onOpen={handleOpen}\n          value={selectedCommand}\n          onChange={handleChange}\n        >\n          {commandsArray\n            ? commandsArray.map((el, index) => {\n                return (\n                  <MenuItem value={el.command} key={index}>\n                    {el.description}\n                  </MenuItem>\n                );\n              })\n            : null}\n        </Select>\n      </FormControl>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { makeStyles, withStyles } from \"@material-ui/core/styles\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport InputBase from \"@material-ui/core/InputBase\";\n\nconst BootstrapInput = withStyles((theme) => ({\n  root: {\n    \"label + &\": {\n      marginTop: theme.spacing(3),\n    },\n  },\n  input: {\n    borderRadius: 4,\n    position: \"relative\",\n    backgroundColor: theme.palette.background.paper,\n    border: \"1px solid #ced4da\",\n    fontSize: 16,\n    padding: \"10px 26px 10px 12px\",\n    transition: theme.transitions.create([\"border-color\", \"box-shadow\"]),\n  },\n}))(InputBase);\n\nconst useStyles = makeStyles((theme) => ({\n  margin: {\n    margin: theme.spacing(1),\n  },\n}));\n\nexport default function CustomizedSelects(props) {\n  const classes = useStyles();\n  const [recurrence, setRecurrence] = React.useState(\"\");\n  const [timeUnits, setTimeUnits] = React.useState(\"\");\n  console.log(recurrence);\n  const handleChange = (event) => {\n    setTimeUnits(event.target.value);\n    props.selectTimeUnits(event.target.value);\n  };\n\n  const handleInput = (event) => {\n    setRecurrence(event.target.value);\n    props.selectRecurrence(event.target.value);\n  };\n  return (\n    <div>\n      <FormControl className={classes.margin} focused>\n        <InputLabel htmlFor=\"demo-customized-textbox\">\n          Recurrence every\n        </InputLabel>\n        <BootstrapInput\n          type=\"number\"\n          id=\"demo-customized-textbox\"\n          value={recurrence}\n          onChange={handleInput}\n        />\n      </FormControl>\n      <FormControl className={classes.margin} focused>\n        <InputLabel id=\"demo-customized-select-label\">Units</InputLabel>\n        <Select\n          labelId=\"demo-customized-select-label\"\n          id=\"demo-customized-select\"\n          value={timeUnits}\n          onChange={handleChange}\n          input={<BootstrapInput />}\n        >\n          <MenuItem value=\"\">\n            <em>None</em>\n          </MenuItem>\n          <MenuItem value={\"Minutes\"}>Minutes</MenuItem>\n          <MenuItem value={\"Hours\"}>Hours</MenuItem>\n          <MenuItem value={\"Days\"}>Days</MenuItem>\n        </Select>\n      </FormControl>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DateFnsUtils from \"@date-io/date-fns\";\nimport {\n  MuiPickersUtilsProvider,\n  KeyboardTimePicker,\n  KeyboardDatePicker,\n} from \"@material-ui/pickers\";\nimport Button from \"@material-ui/core/Button\";\nimport SelectSensorMenu from \"../common/SelectSensorMenu\";\nimport SelectCommandMenu from \"../common/SelectCommandMenu\";\nimport SelectRepeatMenu from \"./SelectRepeatMenu\";\nimport axios from \"axios\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { backendApiUrl } from \"../../../utils/Config\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    \"& > *\": {\n      margin: theme.spacing(1),\n    },\n  },\n  extendedIcon: {\n    marginRight: theme.spacing(1),\n  },\n  fab: {\n    position: \"fixed\",\n    bottom: theme.spacing(2),\n    right: theme.spacing(4),\n  },\n  picker: {\n    padding: theme.spacing(1),\n  },\n  cancelButton: {\n    marginRight: theme.spacing(1),\n  },\n}));\nexport default function TimerActionDialog(props) {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(true);\n  const [selectedDate, setSelectedDate] = React.useState(new Date());\n  const [selectedSensor, setSelectedSensor] = React.useState(\"\");\n  const [selectedCommand, setSelectedCommand] = React.useState(\"\");\n  const [selectedRecurrence, setSelectedRecurrence] = React.useState(\"\");\n  const [selectedTimeUnits, setSelectedTimeUnits] = React.useState(\"\");\n\n  const [status, setStatus] = React.useState({ message: null, color: null });\n  const [loading, setLoading] = React.useState(false);\n  // console.log(selectedDate, selectedSensor, selectedRecurrence);\n\n  const handleDateChange = (date) => {\n    setSelectedDate(date);\n  };\n\n  const handleClose = () => {\n    props.closeDialog();\n    setOpen(false);\n    setStatus({ message: null, color: null });\n    setSelectedSensor(\"\");\n    setSelectedCommand(\"\");\n    setSelectedRecurrence(\"\");\n    setSelectedTimeUnits(\"\");\n    setSelectedDate(new Date());\n  };\n\n  const addAction = () => {\n    setStatus({ message: null, color: null });\n    setLoading(true);\n    axios\n      .post(backendApiUrl.server + \"api/timerActions\", {\n        sensorType: selectedSensor.type,\n        sensorName: selectedSensor.name,\n        deviceId: selectedSensor.deviceId,\n        roomName: selectedSensor.room,\n        command: selectedCommand,\n        commandTopic: selectedSensor.commandTopic,\n        registrationDate: Date.now(),\n        timestamp: selectedDate,\n        recurrenceTimeUnit: selectedTimeUnits,\n        recurrenceNumber: selectedRecurrence,\n      })\n      .then((response) => {\n        // console.log(response.data)\n        props.updateActions(response.data._id);\n        setLoading(false);\n        setStatus({ message: \"Action added successfully\", color: \"green\" });\n      })\n      .catch((error) => {\n        if (error.response) {\n          console.log(error.response.data.message);\n          setStatus({ message: error.response.data.message, color: \"red\" });\n        }\n        setLoading(false);\n      });\n  };\n\n  return (\n    <div className={classes.root}>\n      <Dialog\n        disableBackdropClick\n        disableEscapeKeyDown\n        open={open}\n        onClose={handleClose}\n      >\n        <DialogTitle>Schedule an action</DialogTitle>\n        <DialogContent dividers>\n          <div className={classes.picker}>\n            <SelectSensorMenu\n              sensors={props.sensors}\n              isCommandSensor={true}\n              selectSensor={setSelectedSensor}\n            />\n          </div>\n          {selectedSensor === \"\" ? null : (\n            <div className={classes.picker}>\n              <SelectCommandMenu\n                type={selectedSensor.type}\n                selectCommand={setSelectedCommand}\n              />\n            </div>\n          )}\n          <MuiPickersUtilsProvider utils={DateFnsUtils}>\n            <div className={classes.picker}>\n              <KeyboardDatePicker\n                margin=\"normal\"\n                id=\"date-picker-dialog\"\n                label=\"Starting Date Picker\"\n                format=\"MM/dd/yyyy\"\n                value={selectedDate}\n                onChange={handleDateChange}\n                KeyboardButtonProps={{\n                  \"aria-label\": \"change date\",\n                }}\n              />\n            </div>\n            <div className={classes.picker}>\n              <KeyboardTimePicker\n                margin=\"normal\"\n                id=\"time-picker\"\n                label=\"Starting Time Picker\"\n                value={selectedDate}\n                onChange={handleDateChange}\n                KeyboardButtonProps={{\n                  \"aria-label\": \"change time\",\n                }}\n              />\n            </div>\n            {/* </Grid> */}\n          </MuiPickersUtilsProvider>\n          <SelectRepeatMenu\n            selectRecurrence={setSelectedRecurrence}\n            selectTimeUnits={setSelectedTimeUnits}\n          />\n          {status.message && (\n            <>\n              <small style={{ color: status.color }}>{status.message}</small>\n              <br />\n            </>\n          )}\n        </DialogContent>\n        <DialogActions>\n          {loading === true ? (\n            <CircularProgress />\n          ) : (\n            <div>\n              <Button\n                className={classes.cancelButton}\n                variant=\"contained\"\n                onClick={handleClose}\n                color=\"primary\"\n              >\n                Cancel\n              </Button>\n              <Button variant=\"contained\" onClick={addAction} color=\"primary\">\n                Add Action\n              </Button>\n            </div>\n          )}\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { makeStyles, withStyles } from \"@material-ui/core/styles\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport InputBase from \"@material-ui/core/InputBase\";\n\nconst BootstrapInput = withStyles((theme) => ({\n  root: {\n    \"label + &\": {\n      marginTop: theme.spacing(3),\n    },\n  },\n  input: {\n    borderRadius: 4,\n    position: \"relative\",\n    backgroundColor: theme.palette.background.paper,\n    border: \"1px solid #ced4da\",\n    fontSize: 14,\n    padding: \"10px 26px 10px 12px\",\n    transition: theme.transitions.create([\"border-color\", \"box-shadow\"]),\n  },\n}))(InputBase);\n\nconst useStyles = makeStyles((theme) => ({\n  margin: {\n    margin: theme.spacing(1),\n  },\n}));\n\nexport default function CustomizedSelects(props) {\n  const classes = useStyles();\n  const [quantity, setQuantity] = React.useState(\"\");\n  const [comparison, setComparison] = React.useState(\"\");\n  const handleChange = (event) => {\n    setComparison(event.target.value);\n    props.selectComparison(event.target.value);\n  };\n\n  const handleInput = (event) => {\n    setQuantity(event.target.value);\n    props.selectQuantity(event.target.value);\n  };\n  return (\n    <div>\n      <FormControl className={classes.margin} focused>\n        <InputLabel required id=\"demo-customized-select-label\">\n          Compare\n        </InputLabel>\n        <Select\n          labelId=\"demo-customized-select-label\"\n          id=\"demo-customized-select\"\n          value={comparison}\n          onChange={handleChange}\n          input={<BootstrapInput />}\n        >\n          <MenuItem value=\"\">\n            <em>None</em>\n          </MenuItem>\n          <MenuItem value={\"Below\"}>Below</MenuItem>\n          <MenuItem value={\"Over\"}>Over</MenuItem>\n          <MenuItem value={\"Equal To\"}>Equal To</MenuItem>\n        </Select>\n      </FormControl>\n      <FormControl className={classes.margin} focused>\n        <InputLabel required htmlFor=\"demo-customized-textbox\">Quantity</InputLabel>\n        <BootstrapInput\n          type=\"number\"\n          id=\"demo-customized-textbox\"\n          value={quantity}\n          onChange={handleInput}\n        />\n      </FormControl>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport {getMeasurementNamesByType} from \"../../../utils/SensorSpecific\";\n\nconst useStyles = makeStyles((theme) => ({\n  formControl: {\n    // margin: theme.spacing(1),\n    minWidth: 130,\n  },\n  menuItem: {\n    padding: theme.spacing(1),\n  },\n}));\n\n\n\nexport default function MeasurementTypesMenu(props) {\n  const classes = useStyles();\n  const [selectedType, setSelectedType] = React.useState(\"\");\n  const [open, setOpen] = React.useState(false);\n\n  const handleChange = (event) => {\n    setSelectedType(event.target.value);\n    props.selectMeasurementType(event.target.value);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  const measurementTypes = getMeasurementNamesByType(props.type);\n  return (\n    <div>\n      <FormControl required className={classes.formControl}>\n        <InputLabel id=\"demo-controlled-open-select-label\">Measurement</InputLabel>\n        <Select\n          labelId=\"demo-controlled-open-select-label\"\n          id=\"demo-controlled-open-select\"\n          open={open}\n          onClose={handleClose}\n          onOpen={handleOpen}\n          value={selectedType}\n          onChange={handleChange}\n        >\n          {measurementTypes\n            ? measurementTypes.map((el, index) => {\n                return (\n                  <MenuItem value={el} key={index}>\n                    {el}\n                  </MenuItem>\n                );\n              })\n            : null}\n        </Select>\n      </FormControl>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Button from \"@material-ui/core/Button\";\nimport SelectSensorMenu from \"../common/SelectSensorMenu\";\nimport SelectCommandMenu from \"../common/SelectCommandMenu\";\nimport SelectComparedQuantityMenu from \"./SelectComparedQuantityMenu\";\nimport SelectMeasurementTypeMenu from \"./SelectMeasurementTypeMenu\";\nimport axios from \"axios\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { backendApiUrl } from \"../../../utils/Config\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n  },\n  wrapDiv: {\n    display: \"flex\",\n    justifyContent: \"flex-start\",\n    // alignItems: \"center\",\n    flexDirection: \"column\",\n  },\n  picker: {\n    padding: theme.spacing(1),\n  },\n  cancelButton: {\n    marginRight: theme.spacing(1),\n  },\n  label: {\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n    paddingLeft: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n    // textAlign: \"center\",\n    color: \"white\",\n    borderRadius: \"10px\",\n  },\n}));\nexport default function SensorBasedActionDialog(props) {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(true);\n  const [selectedWhenSensor, setSelectedWhenSensor] = React.useState(\"\");\n  const [selectedCommandSensor, setSelectedCommandSensor] = React.useState(\"\");\n  const [selectedCommand, setSelectedCommand] = React.useState(\"\");\n  const [selectedMeasurementType, setSelectedMeasurementType] = React.useState(\n    \"\"\n  );\n\n  const [selectedQuantity, setSelectedQuantity] = React.useState(\"\");\n  const [selectedComparisonType, setSelectedComparisonType] = React.useState(\n    \"\"\n  );\n\n  const [status, setStatus] = React.useState({ message: null, color: null });\n  const [loading, setLoading] = React.useState(false);\n  // console.log(selectedDate, selectedSensor, selectedRecurrence);\n\n  const handleClose = () => {\n    props.closeDialog();\n    setOpen(false);\n    setStatus({ message: null, color: null });\n    setSelectedCommandSensor(\"\");\n    setSelectedWhenSensor(\"\");\n    setSelectedCommand(\"\");\n    setSelectedMeasurementType(\"\");\n    setSelectedQuantity(\"\");\n    setSelectedComparisonType(\"\");\n  };\n\n  const addAction = () => {\n    setStatus({ message: null, color: null });\n    setLoading(true);\n    axios\n      .post(backendApiUrl.server + \"api/sensorBasedActions\", {\n        sensorType: selectedCommandSensor.type,\n        sensorName: selectedCommandSensor.name,\n        deviceId: selectedCommandSensor.deviceId,\n        roomName: selectedCommandSensor.room,\n        command: selectedCommand,\n        commandTopic: selectedCommandSensor.commandTopic,\n        registrationDate: Date.now(),\n        measurementSensorName: selectedWhenSensor.name,\n        measurementDeviceId: selectedWhenSensor.deviceId,\n        measurementRoomName: selectedWhenSensor.room,\n        comparisonType: selectedComparisonType,\n        quantity: selectedQuantity,\n        measurementType: selectedMeasurementType,\n      })\n      .then((response) => {\n        // console.log(response.data)\n        props.updateActions(response.data._id);\n        setLoading(false);\n        setStatus({ message: \"Action added successfully\", color: \"green\" });\n      })\n      .catch((error) => {\n        if (error.response) {\n          console.log(error.response.data.message);\n          setStatus({ message: error.response.data.message, color: \"red\" });\n        }\n        setLoading(false);\n      });\n  };\n\n  return (\n    <div className={classes.root}>\n      <Dialog\n        disableBackdropClick\n        disableEscapeKeyDown\n        open={open}\n        onClose={handleClose}\n      >\n        <DialogTitle>Sensor-Based Action</DialogTitle>\n        <DialogContent dividers>\n          <div className={classes.wrapDiv}>\n            <div className={classes.picker}>\n              <Typography className={classes.label} variant=\"subtitle1\">\n                Trigger\n              </Typography>\n              <SelectSensorMenu\n                sensors={props.sensors}\n                selectSensor={setSelectedCommandSensor}\n                isCommandSensor={true}\n              />\n            </div>\n            {selectedCommandSensor === \"\" ? null : (\n              <div className={classes.picker}>\n                <SelectCommandMenu\n                  type={selectedCommandSensor.type}\n                  selectCommand={setSelectedCommand}\n                />\n              </div>\n            )}\n            <div className={classes.picker}>\n              <Typography className={classes.label} variant=\"subtitle1\">\n                When\n              </Typography>\n              <SelectSensorMenu\n                sensors={props.sensors}\n                selectSensor={setSelectedWhenSensor}\n                isCommandSensor={false}\n              />\n            </div>\n            {selectedWhenSensor === \"\" ? null : (\n              <div className={classes.picker}>\n                <SelectMeasurementTypeMenu\n                  type={selectedWhenSensor.type}\n                  selectMeasurementType={setSelectedMeasurementType}\n                />\n              </div>\n            )}\n\n            <SelectComparedQuantityMenu\n              selectComparison={setSelectedComparisonType}\n              selectQuantity={setSelectedQuantity}\n            />\n            {status.message && (\n              <>\n                <small style={{ color: status.color }}>{status.message}</small>\n                <br />\n              </>\n            )}\n          </div>\n        </DialogContent>\n        <DialogActions>\n          {loading === true ? (\n            <CircularProgress />\n          ) : (\n            <div>\n              <Button\n                className={classes.cancelButton}\n                variant=\"contained\"\n                onClick={handleClose}\n                color=\"primary\"\n              >\n                Cancel\n              </Button>\n              <Button variant=\"contained\" onClick={addAction} color=\"primary\">\n                Add Action\n              </Button>\n            </div>\n          )}\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { makeStyles, withStyles } from \"@material-ui/core/styles\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputBase from \"@material-ui/core/InputBase\";\n\nconst BootstrapInput = withStyles((theme) => ({\n  root: {\n    \"label + &\": {\n      marginTop: theme.spacing(3),\n    },\n  },\n  input: {\n    borderRadius: 4,\n    position: \"relative\",\n    backgroundColor: theme.palette.background.paper,\n    border: \"1px solid #ced4da\",\n    fontSize: 14,\n    padding: \"10px 26px 10px 12px\",\n    transition: theme.transitions.create([\"border-color\", \"box-shadow\"]),\n  },\n}))(InputBase);\n\nconst useStyles = makeStyles((theme) => ({\n  margin: {\n    margin: theme.spacing(1),\n    paddingTop: theme.spacing(1)\n  },\n}));\n\nexport default function CustomizedSelects(props) {\n  const classes = useStyles();\n  const [radius, setRadius] = React.useState(\"\");\n\n  const handleInput = (event) => {\n    setRadius(event.target.value);\n    props.selectRadius(event.target.value);\n  };\n  return (\n    <div>\n      <FormControl className={classes.margin} focused>\n        <InputLabel required htmlFor=\"demo-customized-textbox\">Maximum radius around the house location (in meters)</InputLabel>\n        <BootstrapInput\n          type=\"number\"\n          id=\"demo-customized-textbox\"\n          value={radius}\n          onChange={handleInput}\n        />\n      </FormControl>\n    </div>\n  );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Button from '@material-ui/core/Button';\nimport SelectSensorMenu from '../common/SelectSensorMenu';\nimport SelectCommandMenu from '../common/SelectCommandMenu';\nimport SelectRadiusMenu from './SelectRadiusMenu';\nimport axios from 'axios';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { backendApiUrl } from '../../../utils/Config';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    '& > *': {\n      margin: theme.spacing(1),\n    },\n  },\n  extendedIcon: {\n    marginRight: theme.spacing(1),\n  },\n  fab: {\n    position: 'fixed',\n    bottom: theme.spacing(2),\n    right: theme.spacing(4),\n  },\n  picker: {\n    padding: theme.spacing(1),\n  },\n  cancelButton: {\n    marginRight: theme.spacing(1),\n  },\n  label: {\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n    padding: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n    // textAlign: \"center\",\n    color: \"white\",\n    borderRadius: \"10px\",\n  },\n}));\nexport default function TimerActionDialog(props) {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(true);\n  const [selectedSensor, setSelectedSensor] = React.useState('');\n  const [selectedCommand, setSelectedCommand] = React.useState('');\n  const [selectedRadius, setSelectedRadius] = React.useState('');\n\n  const [status, setStatus] = React.useState({ message: null, color: null });\n  const [loading, setLoading] = React.useState(false);\n  // console.log(selectedDate, selectedSensor, selectedRecurrence);\n\n  const handleClose = () => {\n    props.closeDialog();\n    setOpen(false);\n    setStatus({ message: null, color: null });\n    setSelectedSensor('');\n    setSelectedCommand('');\n    setSelectedRadius('');\n  };\n\n  const addAction = () => {\n    setStatus({ message: null, color: null });\n    setLoading(true);\n    axios\n      .post(backendApiUrl.server + 'api/locationBasedActions', {\n        sensorType: selectedSensor.type,\n        sensorName: selectedSensor.name,\n        deviceId: selectedSensor.deviceId,\n        roomName: selectedSensor.room,\n        command: selectedCommand,\n        commandTopic: selectedSensor.commandTopic,\n        registrationDate: Date.now(),\n        radius: selectedRadius,\n      })\n      .then((response) => {\n        // console.log(response.data)\n        props.updateActions(response.data._id);\n        setLoading(false);\n        setStatus({ message: 'Action added successfully', color: 'green' });\n      })\n      .catch((error) => {\n        if (error.response) {\n          console.log(error.response.data.message);\n          setStatus({ message: error.response.data.message, color: 'red' });\n        }\n        setLoading(false);\n      });\n  };\n\n  return (\n    <div className={classes.root}>\n      <Dialog\n        disableBackdropClick\n        disableEscapeKeyDown\n        open={open}\n        onClose={handleClose}\n      >\n        <DialogTitle>Location-Based Action</DialogTitle>\n        <DialogContent dividers>\n          <div className={classes.picker}>\n            <SelectSensorMenu\n              sensors={props.sensors}\n              isCommandSensor={true}\n              selectSensor={setSelectedSensor}\n            />\n          </div>\n          {selectedSensor === '' ? null : (\n            <div className={classes.picker}>\n              <SelectCommandMenu\n                type={selectedSensor.type}\n                selectCommand={setSelectedCommand}\n              />\n            </div>\n          )}\n          <SelectRadiusMenu selectRadius={setSelectedRadius} />\n          {status.message && (\n            <>\n              <small style={{ color: status.color }}>{status.message}</small>\n              <br />\n            </>\n          )}\n        </DialogContent>\n        <DialogActions>\n          {loading === true ? (\n            <CircularProgress />\n          ) : (\n            <div>\n              <Button\n                className={classes.cancelButton}\n                variant=\"contained\"\n                onClick={handleClose}\n                color=\"primary\"\n              >\n                Cancel\n              </Button>\n              <Button variant=\"contained\" onClick={addAction} color=\"primary\">\n                Add Action\n              </Button>\n            </div>\n          )}\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React, {useEffect} from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport {makeStyles} from '@material-ui/core/styles';\nimport {onLocationServicesReady, areLocationPermissionsAccepted, removeGeoLocationListener} from \"../../../utils/Location\"\nimport LocationBasedActionDialog from './LocationBasedActionDialog';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        '& > *': {\n            margin: theme.spacing(1),\n        },\n    },\n}));\n\n\nexport default function EnableLocationServices(props) {\n    const classes = useStyles();\n    const [open, setOpen] = React.useState(true);\n    const [servicesEnabled, setServicesEnabled] = React.useState(null);\n\n    useEffect(() => {\n        areLocationPermissionsAccepted(setServicesEnabled)\n        //\n        // return () => {\n        //     console.log(\"unmounting relay\");\n        //     client.off(\"message\", messageHandler);\n        // };\n    },[] );\n\n    const handleClose = () => {\n        props.closeDialog();\n        setOpen(false);\n    };\n\n\n    const enableServices = () => {\n        onLocationServicesReady(setServicesEnabled)\n        handleClose();\n    };\n    let dialog = null;\n    if (servicesEnabled !== null) {\n        if (servicesEnabled) {\n            dialog = ( <LocationBasedActionDialog\n                sensors={props.sensors}\n                updateActions={props.updateActions}\n                closeDialog={props.closeDialog}\n            />);\n        }\n        else {\n            removeGeoLocationListener();\n            dialog = (<Dialog\n                open={open}\n                onClose={handleClose}\n            >\n                <DialogTitle>Location-Based Action</DialogTitle>\n                <DialogContent dividers>\n                    When prompted, you must accept all asked permissions in order for the\n                    location services of this app to work. Otherwise this feature will\n                    remain disabled.\n                </DialogContent>\n                <DialogActions>\n                    <Button variant=\"contained\" onClick={enableServices} color=\"primary\">\n                        Enable Location Services\n                    </Button>\n                </DialogActions>\n            </Dialog>);\n        }\n    }\n    return (\n        <div className={classes.root}>\n            {dialog}\n        </div>\n    );\n}\n","export const onLocationServicesReady = (callback) => {\n    BackgroundGeolocation.configure({\n        locationProvider: BackgroundGeolocation.ACTIVITY_PROVIDER,\n        desiredAccuracy: BackgroundGeolocation.HIGH_ACCURACY,\n        stationaryRadius: 1,\n        distanceFilter: 1,\n        notificationTitle: 'Background tracking',\n        notificationText: 'enabled',\n        debug: true,\n        interval: 10000,\n        fastestInterval: 5000,\n        activitiesInterval: 10000,\n        url: 'http://192.168.1.66:5000/api/location',\n        httpHeaders: {\n            'X-FOO': 'bar'\n        },\n        // customize post properties\n        postTemplate: {\n            lat: '@latitude',\n            lon: '@longitude',\n            foo: 'bar' // you can also add your own properties\n        }\n    });\n\n    BackgroundGeolocation.on('location', function (location) {\n        // handle your locations here\n        // to perform long running operation on iOS\n        // you need to create background task\n        console.log(location);\n\n        BackgroundGeolocation.startTask(function (taskKey) {\n            // execute long running task\n            // eg. ajax post location\n            // IMPORTANT: task has to be ended by endTask\n            BackgroundGeolocation.endTask(taskKey);\n        });\n    });\n\n    BackgroundGeolocation.on('stationary', function (stationaryLocation) {\n        // handle stationary locations here\n    });\n\n    BackgroundGeolocation.on('error', function (error) {\n        console.log('[ERROR] BackgroundGeolocation error:', error.code, error.message);\n    });\n\n    BackgroundGeolocation.on('start', function () {\n        console.log('[INFO] BackgroundGeolocation service has been started');\n    });\n\n    BackgroundGeolocation.on('stop', function () {\n        console.log('[INFO] BackgroundGeolocation service has been stopped');\n    });\n\n    BackgroundGeolocation.on('authorization', function (status) {\n        console.log('[INFO] BackgroundGeolocation authorization status: ' + status);\n        if (status !== BackgroundGeolocation.AUTHORIZED) {\n            // we need to set delay or otherwise alert may not be shown\n            setTimeout(function () {\n                const showSettings = confirm('App requires location tracking permission. Would you like to open app settings?');\n\n                if (showSettings) {\n                    return BackgroundGeolocation.showAppSettings();\n                }\n            }, 1000);\n        }\n    });\n\n    BackgroundGeolocation.on('background', function () {\n        console.log('[INFO] App is in background');\n        // you can also reconfigure service (changes will be applied immediately)\n        BackgroundGeolocation.configure({\n            debug: true,\n        });\n    });\n\n    BackgroundGeolocation.on('foreground', function () {\n        console.log('[INFO] App is in foreground');\n        BackgroundGeolocation.configure({debug: false});\n    });\n\n    BackgroundGeolocation.on('abort_requested', function () {\n        console.log('[INFO] Server responded with 285 Updates Not Required');\n\n        // Here we can decide whether we want stop the updates or not.\n        // If you've configured the server to return 285, then it means the server does not require further update.\n        // So the normal thing to do here would be to `BackgroundGeolocation.stop()`.\n        // But you might be counting on it to receive location updates in the UI, so you could just reconfigure and set `url` to null.\n    });\n\n    BackgroundGeolocation.on('http_authorization', () => {\n        console.log('[INFO] App needs to authorize the http requests');\n    });\n\n    BackgroundGeolocation.checkStatus(function (status) {\n        console.log('[INFO] BackgroundGeolocation service is running', status.isRunning);\n        console.log('[INFO] BackgroundGeolocation services enabled', status.locationServicesEnabled);\n        console.log('[INFO] BackgroundGeolocation auth status: ' + status.authorization);\n\n        console.log(status.isRunning);\n        // you don't need to check status before start (this is just the example)\n        if (!status.isRunning && status.locationServicesEnabled) {\n            BackgroundGeolocation.start(); //triggers start on start event\n            callback(true);\n        }\n        // else if (!status.isRunning) {\n        //     BackgroundGeolocation.removeAllListeners();\n        //     BackgroundGeolocation.removeAllListeners(\"authorization\");\n        // }\n    });\n\n    // you can also just start without checking for status\n    // BackgroundGeolocation.start();\n\n\n    // Don't forget to remove listeners at some point!\n\n    //     BackgroundGeolocation.removeAllListeners();\n\n}\n\n\nexport const areLocationPermissionsAccepted = (callback) => {\n    BackgroundGeolocation.checkStatus(function (status) {\n        console.log('[INFO] BackgroundGeolocation service is running', status.isRunning);\n        console.log('[INFO] BackgroundGeolocation services enabled', status.locationServicesEnabled);\n        console.log('[INFO] BackgroundGeolocation auth status: ' + status.authorization);\n\n        if (status.authorization === 1) {\n            callback(true);\n        }\n        else {\n            callback(false);\n        }\n        console.log(status.authorization)\n    });\n    return null;\n}\nexport const removeGeoLocationListener = () => {\n    BackgroundGeolocation.removeAllListeners();\n}\n\n\n\n\n//document.addEventListener('deviceready', onDeviceReady, false);\n","import React from 'react';\nimport {makeStyles} from '@material-ui/core/styles';\nimport SpeedDial from '@material-ui/lab/SpeedDial';\nimport SpeedDialIcon from '@material-ui/lab/SpeedDialIcon';\nimport SpeedDialAction from '@material-ui/lab/SpeedDialAction';\nimport TimerIcon from '@material-ui/icons/Timer';\nimport EditLocationIcon from '@material-ui/icons/EditLocation';\nimport BlurCircularIcon from '@material-ui/icons/BlurCircular';\nimport TimerActionDialog from './TimerActions/TimerActionDialog';\nimport SensorBasedActionDialog from './SensorBasedActions/SensorBasedActionDialog';\nimport CloseIcon from '@material-ui/icons/Close';\nimport EnableLocationServices from './LocationBasedActions/EnableLocationServicesDialog';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        position: 'fixed',\n        bottom: theme.spacing(2),\n        right: theme.spacing(2),\n    },\n    speedDial: {\n        position: 'absolute',\n        bottom: theme.spacing(2),\n        right: theme.spacing(2),\n    },\n    action: {\n        margin: theme.spacing(2),\n        backgroundColor: theme.palette.primary.main,\n    },\n}));\n\nexport default function OpenIconSpeedDial(props) {\n    const classes = useStyles();\n    const [open, setOpen] = React.useState(false);\n    const [selectedAction, setSelectedAction] = React.useState(null);\n\n    const handleOpen = () => {\n        setOpen(true);\n    };\n\n    const selectTimerAction = () => {\n        setSelectedAction('timerAction');\n    };\n\n    const selectSensorBasedAction = () => {\n        setSelectedAction('sensorBasedAction');\n    };\n\n    const selectLocationBasedAction = () => {\n        setSelectedAction('locationBasedAction');\n    };\n\n    const closeDialog = () => {\n        setSelectedAction(null);\n    };\n\n    const handleClose = () => {\n        setOpen(false);\n    };\n\n    let dialog = null;\n    switch (selectedAction) {\n        case 'timerAction':\n            dialog = (\n                <TimerActionDialog\n                    sensors={props.sensors}\n                    updateActions={props.updateActions}\n                    closeDialog={closeDialog}\n                />\n            );\n            break;\n        case 'sensorBasedAction':\n            dialog = (\n                <SensorBasedActionDialog\n                    sensors={props.sensors}\n                    updateActions={props.updateActions}\n                    closeDialog={closeDialog}\n                />\n            );\n            break;\n        case 'locationBasedAction':\n            dialog = (\n                <EnableLocationServices\n                    closeDialog={closeDialog}\n                    sensors={props.sensors}\n                    updateActions={props.updateActions}/>)\n            break;\n        default:\n            break;\n    }\n\n    return (\n        <div className={classes.root}>\n            <SpeedDial\n                ariaLabel=\"SpeedDial openIcon\"\n                className={classes.speedDial}\n                icon={<SpeedDialIcon openIcon={<CloseIcon/>}/>}\n                onClose={handleClose}\n                onOpen={handleOpen}\n                open={open}\n            >\n                <SpeedDialAction\n                    className={classes.action}\n                    icon={<BlurCircularIcon/>}\n                    tooltipTitle={'Sensor Based'}\n                    onClick={selectSensorBasedAction}\n                />\n                <SpeedDialAction\n                    className={classes.action}\n                    icon={<EditLocationIcon/>}\n                    tooltipTitle={'Location Based'}\n                    onClick={selectLocationBasedAction}\n                />\n                <SpeedDialAction\n                    className={classes.action}\n                    icon={<TimerIcon/>}\n                    tooltipTitle={'Time Based'}\n                    onClick={selectTimerAction}\n                />\n                {dialog}\n            </SpeedDial>\n        </div>\n    );\n}\n","import React, {useEffect, useState} from \"react\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport ActionCard from \"./ActionCard\";\nimport axios from \"axios\";\nimport NoContentPage from \"../NoContentPage\";\nimport ActionsSpeedDial from \"./ActionsSpeedDial\";\nimport {backendApiUrl} from \"../../utils/Config\";\n\nconst URL = backendApiUrl.server + \"api/actions\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        margin: theme.spacing(1),\n        // padding: theme.spacing(1),\n    },\n}));\n\nexport default function MaterialUIPickers(props) {\n    const classes = useStyles();\n    const [actionData, setActions] = useState({\n        actions: [],\n        isFetching: false,\n    });\n    const [effectUpdate, setEffectUpdate] = useState(null);\n\n    const rerenderOnActionChange = (id) => {\n        setEffectUpdate(id);\n    };\n\n    useEffect(() => {\n        const fetchDevices = async () => {\n            try {\n                setActions({actions: [], isFetching: true});\n                const response = await axios.get(URL);\n                setActions({actions: response.data, isFetching: false});\n            } catch (error) {\n                console.log(error);\n                setActions({actions: [], isFetching: false});\n            }\n        };\n\n        fetchDevices();\n\n        return () => {\n            console.log(\"unmounting actions\");\n        };\n    }, [effectUpdate]);\n\n    return (\n        <div className={classes.root}>\n            {actionData.actions.length !== 0 ? (\n                actionData.actions.map((action) => {\n                    return (\n                        <div className={classes.root} key={action._id}>\n                            <ActionCard\n                                action={action}\n                                updateActions={rerenderOnActionChange}\n                            />\n                        </div>\n                    );\n                })\n            ) : (\n                <NoContentPage displayItem=\"Actions\"/>\n            )}\n            <ActionsSpeedDial\n                sensors={props.sensors}\n                updateActions={rerenderOnActionChange}\n            />\n            {/* <TimerActionDialog\n        sensors={props.sensors}\n        updateActions={rerenderOnActionChange}\n      /> */}\n        </div>\n    );\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Button from \"@material-ui/core/Button\";\nimport { SimpleDialog } from \"./DialogFilterBy\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(1),\n  },\n  title: {\n    flexGrow: 1,\n  },\n}));\n\nexport default function ButtonAppBar(props) {\n  const classes = useStyles();\n  const [openDialog, setOpenDialog] = React.useState({\n    open: false,\n    dialogItems: null,\n  });\n  const [selectedValue, setSelectedValue] = React.useState(undefined);\n\n  const handleClickOpenRooms = () => {\n    setOpenDialog({\n      open: true,\n      dialogItems: {\n        contents: props.rooms,\n        name: \"Rooms\",\n        type: \"room\",\n      },\n    });\n  };\n\n  const handleClickOpenTypes = () => {\n    setOpenDialog({\n      open: true,\n      dialogItems: {\n        contents: props.categories,\n        name: \"Sensor Types\",\n        type: \"sensor-type\",\n      },\n    });\n  };\n\n  const handleClose = (value) => {\n    setOpenDialog({ open: false, dialogItems: null });\n    setSelectedValue(value);\n    if (value) {\n      props.selectItem({ selected: value, type: openDialog.dialogItems.type });\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <AppBar position=\"static\">\n        <Toolbar variant=\"dense\">\n          <Button size=\"small\" onClick={props.showAllSensors} color=\"inherit\">\n            All\n          </Button>\n          <Button size=\"small\" onClick={handleClickOpenRooms} color=\"inherit\">\n            Rooms\n          </Button>\n          <Button size=\"small\" onClick={handleClickOpenTypes} color=\"inherit\">\n            Types\n          </Button>\n        </Toolbar>\n      </AppBar>\n      {openDialog.dialogItems !== null ? (\n        <SimpleDialog\n          name={openDialog.dialogItems.name}\n          type={openDialog.dialogItems.type}\n          contents={openDialog.dialogItems.contents}\n          selectedValue={selectedValue}\n          open={openDialog.open}\n          onClose={handleClose}\n        />\n      ) : null}\n    </div>\n  );\n}\n","import React from \"react\";\nimport clsx from \"clsx\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport Box from \"@material-ui/core/Box\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport List from \"@material-ui/core/List\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Divider from \"@material-ui/core/Divider\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Container from \"@material-ui/core/Container\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\";\nimport Button from \"@material-ui/core/Button\";\nimport { getUser, removeUserSession } from \"../utils/Common\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport Sensors from \"./Sensors/Sensors\";\nimport DashboardIcon from \"@material-ui/icons/Dashboard\";\nimport AssignmentIcon from \"@material-ui/icons/Assignment\";\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\nimport Dialog from \"./DialogFilterBy\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { withRouter } from \"react-router-dom\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport Link from \"@material-ui/core/Link\";\nimport Actions from \"./Actions/Actions\";\nimport MenuBar from \"./MenuBar\";\nimport {FILE_PATH} from \"../utils/CordovaGlobals\";\n\nfunction Copyright() {\n  return (\n    <Typography variant=\"body2\" color=\"textPrimary\" align=\"center\">\n      {\"Copyright Â© \"}\n      {\"Home Automation \"}\n      {new Date().getFullYear()}\n      {\".\"}\n    </Typography>\n  );\n}\n\nconst drawerWidth = 200;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n  },\n  toolbar: {\n    paddingRight: 24, // keep right padding when drawer closed\n  },\n  toolbarIcon: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"flex-end\",\n    padding: \"0 8px\",\n    ...theme.mixins.toolbar,\n  },\n  appBar: {\n    backgroundColor: theme.palette.secondary.main,\n    zIndex: theme.zIndex.drawer + 1,\n    transition: theme.transitions.create([\"width\", \"margin\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  appBarShift: {\n    marginLeft: drawerWidth,\n    width: `calc(100% - ${drawerWidth}px)`,\n    transition: theme.transitions.create([\"width\", \"margin\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  menuButton: {\n    marginRight: 36,\n  },\n  menuButtonHidden: {\n    display: \"none\",\n  },\n  title: {\n    flexGrow: 1,\n    paddingTop: 5,\n  },\n  drawerPaper: {\n    position: \"relative\",\n    whiteSpace: \"nowrap\",\n    width: drawerWidth,\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  drawerPaperClose: {\n    overflowX: \"hidden\",\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    width: theme.spacing(7),\n    [theme.breakpoints.down(\"sm\")]: {\n      width: theme.spacing(0),\n    },\n  },\n  appBarSpacer: theme.mixins.toolbar,\n  content: {\n    // backgroundColor: \"#fcf4e3\",\n    flexGrow: 1,\n    height: \"100vh\",\n    overflow: \"auto\",\n  },\n  container: {\n    paddingTop: theme.spacing(4),\n    paddingBottom: theme.spacing(4),\n  },\n  paper: {\n    padding: theme.spacing(1),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n    borderRadius: \"10px\",\n    backgroundColor: theme.palette.secondary.main,\n  },\n  primaryAction: {\n    borderRadius: \"10px\",\n    [theme.breakpoints.down(\"sm\")]: {\n      display: \"none\",\n    },\n  },\n  dashBoardLabel: {\n    // display: \"inline\",\n    // paddingTop: 3,\n    // paddingBottom: 3,\n    // padding: theme.spacing(1),\n    // paddingRight: theme.spacing(1),\n    // color: \"white\",\n    // backgroundColor: theme.palette.primary.main,\n    // borderRadius: \"10px\",\n  },\n\n  currentTab: {\n    textAlign: \"center\",\n    // borderBottom: `5pxsolid ${theme.palette.secondary.main}`,\n    // width: \"60vh\",\n    // margin: \"0 auto\",\n    marginTop: theme.spacing(2),\n  },\n  hiMessage: {\n    marginRight: theme.spacing(2),\n  },\n  behindBackground: {\n    backgroundImage: `url(${FILE_PATH}/static/media/home-automation4.cc5ee920.svg)`,\n    backgroundPosition: \"center\",\n    backgroundSize: \"cover\",\n    backgroundRepeat: \"no-repeat\",\n    width: \"100vw\",\n    height: \"100vh\",\n  },\n}));\n\nfunction Dashboard(props) {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n  const [selectedItem, selectItem] = React.useState({\n    selected: \"All\",\n    type: \"all\",\n  });\n\n  // handle click event of logout button\n  const handleLogout = () => {\n    // const mqttClient = mqttService.getClient();\n    // mqttService.closeConnection(mqttClient);\n    removeUserSession();\n    props.history.push(\"/login\");\n  };\n\n  const handleDrawerOpen = () => {\n    setOpen(true);\n  };\n  const handleDrawerClose = () => {\n    setOpen(false);\n  };\n\n  const handleAllButton = () => {\n    selectItem({\n      selected: \"All\",\n      type: \"all\",\n    });\n  };\n\n  const showActions = () => {\n    selectItem({\n      selected: \"Actions\",\n      type: \"actions\",\n    });\n  };\n\n  let currentlyDisplayedItem = {\n    tab: \"All\",\n    content: null,\n  };\n  switch (selectedItem.type) {\n    case \"room\":\n      currentlyDisplayedItem.tab = \"Room\";\n      currentlyDisplayedItem.content = selectedItem.selected;\n      break;\n    case \"sensor-type\":\n      currentlyDisplayedItem.tab = \"Sensor Type\";\n      currentlyDisplayedItem.content = selectedItem.selected;\n      break;\n    case \"actions\":\n      currentlyDisplayedItem.tab = \"Actions\";\n      currentlyDisplayedItem.content = null;\n      break;\n    default:\n      currentlyDisplayedItem.tab = \"All\";\n      currentlyDisplayedItem.content = null;\n      break;\n  }\n  const rooms = [...new Set(props.sensors.map((sensor) => sensor.room))];\n  const categories = [...new Set(props.sensors.map((sensor) => sensor.type))];\n  const user = getUser();\n  return (\n    <div className={classes.root}>\n      <CssBaseline />\n      <AppBar\n        position=\"absolute\"\n        className={clsx(classes.appBar, open && classes.appBarShift)}\n      >\n        <Toolbar className={classes.toolbar}>\n          <IconButton\n            edge=\"start\"\n            color=\"inherit\"\n            aria-label=\"open drawer\"\n            onClick={handleDrawerOpen}\n            className={clsx(\n              classes.menuButton,\n              open && classes.menuButtonHidden\n            )}\n          >\n            <MenuIcon />\n          </IconButton>\n          <div className={classes.title}>\n            <Link\n              href=\"/\"\n              component={RouterLink}\n              to=\"/\"\n              color=\"primary\"\n              underline=\"none\"\n              variant=\"h5\"\n            >\n              {<img src={`${FILE_PATH}/static/media/home-automation.1ec2cf5b.svg`} alt=\"\" height={50} />}\n            </Link>\n          </div>\n\n          <Typography variant=\"body2\" className={classes.hiMessage}>\n            {\"Hi, \"}\n            {user.name}\n          </Typography>\n          <Button\n            variant=\"contained\"\n            className={classes.primaryAction}\n            onClick={handleLogout}\n            color=\"primary\"\n          >\n            Log Out\n          </Button>\n        </Toolbar>\n      </AppBar>\n\n      <Drawer\n        variant=\"temporary\"\n        classes={{\n          paper: clsx(classes.drawerPaper, !open && classes.drawerPaperClose),\n        }}\n        open={open}\n        onClose={handleDrawerClose}\n      >\n        <div className={classes.toolbarIcon}>\n          <IconButton onClick={handleDrawerClose}>\n            <ChevronLeftIcon />\n          </IconButton>\n        </div>\n        <Divider />\n        <List>\n          <ListItem button onClick={handleAllButton}>\n            <ListItemIcon>\n              <DashboardIcon color=\"primary\" />\n            </ListItemIcon>\n            <ListItemText primary=\"All\" />\n          </ListItem>\n          <Dialog\n            contents={rooms}\n            selectItem={selectItem}\n            name=\"Rooms\"\n            type=\"room\"\n          />\n          <Dialog\n            contents={categories}\n            selectItem={selectItem}\n            name=\"Sensor Types\"\n            type=\"sensor-type\"\n          />\n        </List>\n        <Divider />\n        <List>\n          <ListItem button onClick={showActions}>\n            <ListItemIcon>\n              <AssignmentIcon color=\"primary\" />\n            </ListItemIcon>\n            <ListItemText primary=\"Actions\" />\n          </ListItem>\n\n          <ListItem button onClick={handleLogout}>\n            <ListItemIcon>\n              <ExitToAppIcon color=\"primary\" />\n            </ListItemIcon>\n            <ListItemText primary=\"Log Out\" />\n          </ListItem>\n        </List>\n      </Drawer>\n      <div className={classes.behindBackground}>\n        <main className={classes.content}>\n          <div className={classes.appBarSpacer} />\n          <MenuBar\n            selectItem={selectItem}\n            rooms={rooms}\n            categories={categories}\n            showAllSensors={handleAllButton}\n          />\n          <div className={classes.currentTab}>\n            <Typography\n              variant=\"h5\"\n              gutterBottom\n              className={classes.dashBoardLabel}\n            >\n              Dashboard\n            </Typography>\n            <Typography variant=\"h6\">\n              {currentlyDisplayedItem.tab}\n              {currentlyDisplayedItem.tab === \"All\" ||\n              currentlyDisplayedItem.tab === \"Actions\"\n                ? null\n                : \" | \"}\n              {currentlyDisplayedItem.content}\n            </Typography>\n          </div>\n          <Container maxWidth=\"lg\" className={classes.container}>\n            {selectedItem.selected === \"Actions\" ? (\n              <div>\n                <Paper className={classes.paper} elevation={10}>\n                  <Actions sensors={props.sensors} />\n                </Paper>\n              </div>\n            ) : (\n              <Sensors\n                sensors={props.sensors}\n                filtered={selectedItem.type}\n                selected={selectedItem.selected}\n              />\n            )}\n            <Box pt={4}>\n              <Copyright />\n            </Box>\n          </Container>\n        </main>\n      </div>\n    </div>\n  );\n}\n\nexport default withRouter(Dashboard);\n","import axios from \"axios\";\nimport mqttService from \"../utils/MQTT\";\nimport React, {useEffect, useState, useRef} from \"react\";\nimport AlertMessage from \"./AlertMessage\";\nimport Dashboard from \"./Dashboard\";\nimport {backendApiUrl} from \"../utils/Config\";\n\nconst URL = backendApiUrl.server + \"api/activeSensors\";\n\nconst FetcherÎœQTT = () => {\n    const [data, setData] = useState({sensors: []});\n    const dataRef = useRef(data);\n\n    useEffect(() => {\n        const fetchDevices = async () => {\n            try {\n                // setData({ sensors: data.sensors, isFetching: true });\n                const response = await axios.get(URL);\n                setData({sensors: response.data});\n\n                dataRef.current = {sensors: response.data};\n\n                for (const sensor of response.data) {\n                    mqttService.subscribe(client, sensor.pubTopic);\n                }\n            } catch (error) {\n                console.log(error);\n                setData({sensors: []});\n            }\n        };\n\n        fetchDevices();\n\n        const client = mqttService.getClient();\n        console.log(client);\n\n        const messageHandler = (topic, payload, packet) => {\n            console.log(payload.toString(), topic);\n\n            if (topic === \"browser\") {\n                const infoObj = JSON.parse(payload.toString());\n                if (infoObj.action === \"disconnected\") {\n                    const newData = {\n                        sensors: dataRef.current.sensors.filter((sensor) => {\n                            if (sensor.deviceId === infoObj.deviceId) {\n                                mqttService.unsubscribe(client, sensor.pubTopic);\n                            }\n                            return sensor.deviceId !== infoObj.deviceId;\n                        }),\n                        alertMessage: {\n                            device: infoObj.deviceId,\n                            reason: infoObj.action,\n                        },\n                    };\n                    dataRef.current = newData;\n                    setData(newData);\n                } else if (infoObj.action === \"connected\") {\n                    const existingSensor = dataRef.current.sensors.find(\n                        (el) => el.deviceId === infoObj.newSensors[0].deviceId\n                    );\n                    if (existingSensor) {\n                        console.log(\"Exists!!! No action taken!\");\n                        return;\n                    } else {\n                        const newData = {\n                            sensors: dataRef.current.sensors.concat(infoObj.newSensors),\n                            alertMessage: {\n                                // show: true,\n                                device: infoObj.newSensors[0].deviceId,\n                                reason: infoObj.action,\n                            },\n                        };\n                        for (const sensor of infoObj.newSensors) {\n                            mqttService.subscribe(client, sensor.pubTopic);\n                        }\n                        dataRef.current = newData;\n                        setData(newData);\n                    }\n                } else if (infoObj.action === \"action\") {\n                    console.log(infoObj);\n                    const newData = {\n                        sensors: dataRef.current.sensors,\n                        alertMessage: {\n                            reason: infoObj.action,\n                            actionCategory: infoObj.actionInfo.actionCategory,\n                            command: infoObj.actionInfo.command,\n                            roomName: infoObj.actionInfo.roomName,\n                            sensorName: infoObj.actionInfo.sensorName,\n                        },\n                    };\n                    dataRef.current = newData;\n                    setData(newData);\n                }\n                return;\n            }\n        };\n\n        client.on(\"message\", messageHandler);\n\n        return () => {\n            console.log(\"Dashboard was unmounted!\");\n            client.off(\"message\", messageHandler);\n        };\n    }, []);\n\n    return (\n        <div>\n            <AlertMessage alertMessage={data.alertMessage}/>\n            <Dashboard sensors={data.sensors} alertMessage={data.alertMessage}/>\n        </div>\n    );\n};\n\nexport default FetcherÎœQTT;\n","import \"./App.css\";\nimport React, { useEffect, useState } from \"react\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\n\nimport { Switch } from \"react-router-dom\";\nimport Login from \"./components/Login\";\nimport PrivateRoute from \"./utils/PrivateRoute\";\nimport PublicRoute from \"./utils/PublicRoute\";\nimport { getToken, removeUserSession, setUserSession } from \"./utils/Common\";\nimport axios from 'axios';\nimport FetcherMQTT from \"./components/FetcherMQTT\";\n\nfunction App() {\n  const [authLoading, setAuthLoading] = useState(true);\n\n  useEffect(() => {\n    const token = getToken();\n    if (!token) {\n      return;\n    }\n\n    axios\n      .get(`http://localhost:5000/api/verifyToken?token=${token}`)\n      .then((response) => {\n        setUserSession(response.data.token, response.data.user);\n        setAuthLoading(false);\n      })\n      .catch((error) => {\n        alert(error);\n        removeUserSession();\n        setAuthLoading(false);\n      });\n  }, []);\n\n  if (authLoading && getToken()) {\n    return <div className=\"content\">Checking Authentication...</div>;\n  }\n  return (\n    <Router>\n      <Switch>\n        {/* <Route exact path=\"/\" component={Home} /> */}\n\n        <PrivateRoute path=\"/dashboard\" component={FetcherMQTT} />\n        <PublicRoute path=\"/\" component={Login} />\n      </Switch>\n    </Router>\n  );\n}\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { createMuiTheme } from '@material-ui/core/styles';\n\nconst theme = createMuiTheme({\n    \"palette\": {\n        \"background\": {\n            \"default\": \"#FFF\",\n            \"emphasis\": \"#E8EAF6\",\n            \"secondary\": \"#C5CAE9\",\n            \"header\": \"#121037\"\n        },\n        \"text\": {\n            \"primary\": \"#615f5d\",\n            \"secondary\": \"#999693\",\n            \"hint\": \"#ccc8c4\",\n            \"whiteText\": \"white\"\n        },\n        \"primary\": {\n            // \"main\": \"#2ca6d7\",\n            \"main\": \"#000000\",\n            \"light\": \"#333333\",\n            \"dark\": \"#545454\"\n        },\n        \"secondary\": {\n            \"main\": \"#b09058\",\n            // \"main\": \"#737373\",\n            \"light\": \"#deb66f\",\n            \"dark\": \"#9c7f4e\"\n        },\n        \"contrastThreshold\": 1.8\n    },\n    // \"shadows\": [\n    //     \"none\",\n    //     \"none\",\n    //     \"none\",\n    //     \"none\",\n    //     \"none\",\n    //     \"none\",\n    //     \"none\",\n    //     \"none\",\n    //     \"none\",\n    //     \"none\",\n    //     \"none\",\n    //     \"none\",\n    //     \"none\",\n    //     \"none\",\n    //     \"none\",\n    //     \"none\",\n    //     \"none\",\n    //     \"none\",\n    //     \"none\",\n    //     \"none\",\n    //     \"none\",\n    //     \"none\",\n    //     \"none\",\n    //     \"none\",\n    //     \"none\"\n    // ]\n});\n\nexport default theme;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport { ThemeProvider } from '@material-ui/core/styles';\nimport theme from './theme/theme';\n// import Location from \"./utils/Location\"\n\nconst renderReactDom = () => {\n  ReactDOM.render(\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <App />\n    </ThemeProvider>,\n    document.getElementById('root')\n  );\n};\n\nif (window.cordova) {\n  document.addEventListener('deviceready', () => {\n      renderReactDom();\n  }, false);\n} else {\n  renderReactDom();\n}\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}