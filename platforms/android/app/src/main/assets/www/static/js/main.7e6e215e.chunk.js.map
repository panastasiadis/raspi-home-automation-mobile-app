{"version":3,"sources":["utils/Common.js","utils/CordovaGlobals.js","utils/Config.js","components/Login.js","utils/PrivateRoute.js","utils/PublicRoute.js","utils/MQTT.js","utils/SensorSpecific.js","components/AlertMessage.js","components/Sensors/RelayCard.js","components/Sensors/LightIntensityCard.js","components/Sensors/TemperatureHumidityCard.js","components/Sensors/MotionDetectorCard.js","components/Sensors/Sensor.js","components/NoContentPage.js","components/Sensors/Sensors.js","components/DialogFilterBy.js","components/Actions/common/DeleteActionDialog.js","components/Actions/TimerActions/TimerActionAccordionDetails.js","components/Actions/SensorBasedActions/SensorBasedAccordionDetails.js","components/Actions/LocationBasedActions/LocationActionAccordionDetails.js","components/Actions/ActionCard.js","components/Actions/common/SelectSensorMenu.js","components/Actions/common/SelectCommandMenu.js","components/Actions/TimerActions/SelectRepeatMenu.js","components/Actions/TimerActions/TimerActionDialog.js","components/Actions/SensorBasedActions/SelectComparedQuantityMenu.js","components/Actions/SensorBasedActions/SelectMeasurementTypeMenu.js","components/Actions/SensorBasedActions/SelectSensorOptionsMenu.js","components/Actions/SensorBasedActions/SensorBasedActionDialog.js","utils/Location.js","components/Actions/LocationBasedActions/SelectRadiusMenu.js","components/Actions/LocationBasedActions/LocationBasedActionDialog.js","components/Actions/LocationBasedActions/EnableLocationServicesDialog.js","components/Actions/ActionsSpeedDial.js","components/Actions/Actions.js","components/MenuBar.js","components/Dashboard.js","components/FetcherMQTT.js","assets/brightness.svg","assets/lightbulb-open2.svg","assets/lightbulb-closed2.svg","assets/thermometer.svg","assets/humidity.svg","assets/average.svg","assets/not-found.svg","assets/home-automation4.svg","assets/home-automation.svg","assets/home-automation3.svg","assets/home-location.svg","assets/no-motion.svg","assets/motion.svg","App.js","reportWebVitals.js","theme/theme.js","index.js"],"names":["getToken","sessionStorage","getItem","removeUserSession","removeItem","setUserSession","token","user","setItem","JSON","stringify","FILE_PATH","document","addEventListener","window","cordova","file","applicationDirectory","backendApiUrl","Copyright","Typography","variant","color","align","Date","getFullYear","useStyles","makeStyles","theme","root","height","image","backgroundImage","backgroundRepeat","backgroundColor","palette","type","grey","backgroundSize","backgroundPosition","paper","margin","spacing","display","flexDirection","alignItems","avatar","secondary","main","form","width","marginTop","submit","SignInSide","props","classes","username","useFormInput","password","useState","error","setError","setLoading","Grid","container","component","className","CssBaseline","item","xs","sm","md","Paper","elevation","square","Avatar","noValidate","TextField","required","fullWidth","id","label","name","autoComplete","autoFocus","onChange","style","Button","onClick","axios","post","value","then","response","data","history","push","catch","console","log","alert","status","message","Box","mt","initialValue","setValue","e","target","PrivateRoute","Component","rest","render","to","pathname","state","from","location","PublicRoute","client","websocketUrl","clientId","Math","random","toString","substr","options","keepalive","protocolId","protocolVersion","clean","reconnectPeriod","connectTimeout","will","topic","payload","qos","retain","rejectUnauthorized","mqttService","getClient","mqtt","connect","subscribe","on","err","end","publishMessage","publish","granted","onMessage","callBack","packet","unsubscribe","closeConnection","undefined","extractMqttTopicInfo","mqttTopic","splitStr","split","room","deviceId","sensorName","relayLightBulb","motionDetector","temperatureHumidity","lightIntensity","SENSOR_TYPE","measurementOutputSensors","optionsOutputSensors","commandsByType","command","openObj","description","commandOnFailure","closeObj","getSensorOutputType","includes","Alert","AlertMessage","device","reason","severity","notificationMessage","alertMessage","open","setOpen","handleClose","event","useEffect","actionMessage","actionsByType","sensorType","actionCategory","roomName","Snackbar","onClose","autoHideDuration","anchorOrigin","vertical","horizontal","borderRadius","flexWrap","justifyContent","info","flexGrow","deviceInfoIndividual","paddingLeft","paddingRight","divContent","padding","imageLightOpen","imageLightClosed","currentState","onOff","marginLeft","borderStyle","borderColor","roomInfo","primary","circularProgress","OutlinedCard","relayState","setRelayState","switchValue","spinner","disabled","spinnerState","setSpinnerState","messageHandler","off","CircularProgress","Switch","ev","checked","progressBar","textAlign","brightnessIcon","degrees","fontWeight","CircularProgressWithLabel","position","size","top","left","bottom","right","round","brightness","percentage","currBrightness","setCurrBrightness","React","luxStr","luxPercentage","parseFloat","imageTemperature","imageHumidity","imageAverage","tempHum","averageMeasurementsDiv","avgTemp","avgHum","isFetching","averageData","setAverageData","temperature","humidity","currTempHum","setCurrTempHum","displayedAvg","a","get","total","measurementBucket","temperaturesSum","humiditiesSum","measurementsCounter","length","fetchMeasurements","motionImage","noMotionImage","motionInfo","MotionCard","currMotionState","setCurrMotionState","motionStateRef","useRef","lastTimeDetection","setLastTimeDetection","motionState","current","toLocaleString","overflow","title","roomTitle","SensorGridItem","sensor","lg","pubTopic","commandTopic","divNoContent","NoContentPage","gutterBottom","displayItem","Sensors","sensors","filtered","filter","selected","justify","map","dialogPaper","emptyContentLabel","SimpleDialog","Dialog","aria-labelledby","DialogTitle","contents","List","ListItem","button","ListItemAvatar","ListItemText","SimpleDialogDemo","selectedValue","setSelectedValue","ListItemIcon","selectItem","ResponsiveDialog","IconButton","DialogContent","DialogContentText","DialogActions","delete","action","_id","updateActions","accordionContent","timeInfoIndividual","dateLabel","TimerActionContent","date","recurrenceMessage","whenDescription","whenSensorDescription","labelDynamicContent","marginRight","deviceInfo","breakpoints","down","comparisonType","quantity","measurementType","toLowerCase","measurementName","getMeasurementUnitsName","option","measurementSensorType","measurementRoomName","measurementSensorName","measurementDeviceId","radiusMeters","LocationActionContent","src","alt","radius","fontSize","typography","pxToRem","flexShrink","headingCommand","heading","secondaryHeading","text","summary","deleteButton","ActionCard","expanded","setExpanded","details","recurrenceNumber","recurrenceTimeUnit","startTime","panel","commandDescription","registrationDate","Accordion","isExpanded","AccordionSummary","expandIcon","aria-controls","AccordionDetails","Divider","formControl","minWidth","maxWidth","menuItem","ControlledOpenSelect","selectedSensor","setSelectedSensor","filteredSensors","isCommandSensor","FormControl","InputLabel","Select","labelId","onOpen","selectSensor","MenuItem","CommandMenu","selectedCommand","setSelectedCommand","clearEntries","commandsArray","selectCommand","el","index","BootstrapInput","withStyles","input","background","border","transition","transitions","create","InputBase","CustomizedSelects","recurrence","setRecurrence","timeUnits","setTimeUnits","focused","htmlFor","selectRecurrence","selectTimeUnits","extendedIcon","fab","picker","cancelButton","TimerActionDialog","selectedDate","setSelectedDate","sensorRef","selectedRecurrence","setSelectedRecurrence","selectedTimeUnits","setSelectedTimeUnits","setClearedEntries","setStatus","loading","handleDateChange","closeDialog","disableBackdropClick","disableEscapeKeyDown","dividers","utils","DateFnsUtils","format","KeyboardButtonProps","now","timestamp","setQuantity","comparison","setComparison","selectComparison","selectQuantity","MeasurementTypesMenu","selectedType","setSelectedType","measurementTypes","getSensorOutputName","selectMeasurementType","SensorOptionsMenu","selectedOption","setSelectedOption","sensorOptions","sensorOutputName","getSensorOption","outputType","selectOption","wrapDiv","marginBottom","SensorBasedActionDialog","selectedWhenSensor","setSelectedWhenSensor","whenSensorRef","selectedCommandSensor","setSelectedCommandSensor","cmdSensorRef","selectedMeasurementType","setSelectedMeasurementType","selectedQuantity","setSelectedQuantity","selectedComparisonType","setSelectedComparisonType","selectedSensorOption","setSelectedSensorOption","clearWhenEntries","setClearedWhenEntries","clearCmdEntries","setClearedCmdEntries","whenSensorOutputMenu","cmdOnFail","onLocationServicesReady","callback","BackgroundGeolocation","configure","locationProvider","ACTIVITY_PROVIDER","desiredAccuracy","HIGH_ACCURACY","stationaryRadius","distanceFilter","notificationTitle","notificationText","debug","interval","fastestInterval","activitiesInterval","url","httpHeaders","postTemplate","lat","lon","startTask","taskKey","endTask","stationaryLocation","code","AUTHORIZED","setTimeout","confirm","showAppSettings","checkStatus","isRunning","locationServicesEnabled","authorization","start","removeAllListeners","paddingTop","setRadius","selectRadius","selectedRadius","setSelectedRadius","EnableLocationServices","servicesEnabled","setServicesEnabled","dialog","speedDial","OpenIconSpeedDial","selectedAction","setSelectedAction","SpeedDial","ariaLabel","icon","SpeedDialIcon","openIcon","SpeedDialAction","tooltipTitle","URL","MaterialUIPickers","actions","actionData","setActions","effectUpdate","setEffectUpdate","rerenderOnActionChange","fetchDevices","menuButton","ButtonAppBar","dialogItems","openDialog","setOpenDialog","AppBar","Toolbar","showAllSensors","rooms","categories","toolbar","toolbarIcon","mixins","appBar","zIndex","drawer","easing","sharp","duration","leavingScreen","appBarShift","enteringScreen","menuButtonHidden","drawerPaper","whiteSpace","drawerPaperClose","overflowX","appBarSpacer","content","paddingBottom","primaryAction","dashBoardLabel","currentTab","hiMessage","behindBackground","withRouter","selectedItem","handleLogout","handleDrawerClose","handleAllButton","currentlyDisplayedItem","tab","Set","userStr","parse","getUser","clsx","edge","aria-label","Link","href","RouterLink","underline","Drawer","Container","pt","FetcherÎœQTT","setData","dataRef","infoObj","newData","find","newSensors","concat","actionInfo","App","authLoading","setAuthLoading","path","FetcherMQTT","Login","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","createMuiTheme","renderReactDom","ReactDOM","ThemeProvider","getElementById"],"mappings":"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","file":"static/js/main.7e6e215e.chunk.js","sourcesContent":["// return the user data from the session storage\nexport const getUser = () => {\n  const userStr = sessionStorage.getItem(\"user\");\n  if (userStr) {\n    return JSON.parse(userStr);\n  } else {\n    return null;\n  }\n};\n\n// return the token from the session storage\nexport const getToken = () => {\n  return sessionStorage.getItem(\"token\") || null;\n};\n\n// remove the token and user from the session storage\nexport const removeUserSession = () => {\n  sessionStorage.removeItem(\"token\");\n  sessionStorage.removeItem(\"user\");\n};\n\n// set the token and user from the session storage\nexport const setUserSession = (token, user) => {\n  sessionStorage.setItem(\"token\", token);\n  sessionStorage.setItem(\"user\", JSON.stringify(user));\n};\n","let FILE_PATH = '';\n\ndocument.addEventListener('deviceready', () => {\n    FILE_PATH = `${window.cordova.file.applicationDirectory}www`;\n}, false);\n\nexport {FILE_PATH};","export const backendApiUrl = {\n  server: \"http://192.168.1.66:5000/\",\n  ws: \"http://192.168.1.66:8883\",\n};\n","import React, { useState } from \"react\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Box from \"@material-ui/core/Box\";\nimport Grid from \"@material-ui/core/Grid\";\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport axios from \"axios\";\nimport { setUserSession } from \"../utils/Common\";\nimport {FILE_PATH} from '../utils/CordovaGlobals'\nimport { backendApiUrl } from \"../utils/Config\";\n\nfunction Copyright() {\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      {\"Copyright Â© \"}\n      {\"Home Automation \"}\n      {new Date().getFullYear()}\n      {\".\"}\n    </Typography>\n  );\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    height: \"100vh\",\n  },\n  image: {\n    backgroundImage: `url(${FILE_PATH}/static/media/home-automation3.2481b425.svg)`,\n    backgroundRepeat: \"no-repeat\",\n    backgroundColor:\n      theme.palette.type === \"light\"\n        ? theme.palette.grey[50]\n        : theme.palette.grey[900],\n    backgroundSize: \"cover\",\n    backgroundPosition: \"center\",\n  },\n  paper: {\n    margin: theme.spacing(8, 4),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: \"100%\", // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nexport default function SignInSide(props) {\n  const classes = useStyles();\n  const username = useFormInput(\"\");\n  const password = useFormInput(\"\");\n\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  // handle button click of login form\n  const handleLogin = () => {\n    setError(null);\n    setLoading(true);\n\n    axios\n      .post(backendApiUrl.server + \"api/users/signin\", {\n        username: username.value,\n        password: password.value,\n      })\n      .then((response) => {\n        setLoading(false);\n        setUserSession(response.data.token, response.data.user);\n        props.history.push(\"/dashboard\");\n      })\n      .catch((error) => {\n        console.log(error)\n        console.log(error.response)\n        // console.log(error.response.data);\n        alert(error);\n        setLoading(false);\n        if (error.response) {\n          if (error.response.status === 401 || error.response.status === 400) {\n            setError(error.response.data.message);\n          }\n        } else setError(\"Something went wrong. Please try again later.\");\n      });\n  };\n\n  return (\n    <Grid container component=\"main\" className={classes.root}>\n      <CssBaseline />\n      <Grid item xs={false} sm={4} md={7} className={classes.image} />\n      <Grid item xs={12} sm={8} md={5} component={Paper} elevation={6} square>\n        <div className={classes.paper}>\n          <Avatar className={classes.avatar}>\n            <LockOutlinedIcon />\n          </Avatar>\n          <Typography component=\"h1\" variant=\"h5\">\n            Sign in\n          </Typography>\n          <form className={classes.form} noValidate>\n            <TextField\n              variant=\"filled\"\n              color=\"secondary\"\n              margin=\"normal\"\n              required\n              fullWidth\n              id=\"username\"\n              label=\"Username\"\n              name=\"username\"\n              autoComplete=\"username\"\n              autoFocus\n              onChange={username.onChange}\n            />\n            <TextField\n              variant=\"filled\"\n              color=\"secondary\"\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"password\"\n              label=\"Password\"\n              type=\"password\"\n              id=\"password\"\n              autoComplete=\"current-password\"\n              onChange={password.onChange}\n            />\n            {error && (\n              <>\n                <small style={{ color: \"red\" }}>{error}</small>\n                <br />\n              </>\n            )}\n            <Button\n              type=\"button\"\n              fullWidth\n              variant=\"contained\"\n              color=\"primary\"\n              className={classes.submit}\n              onClick={handleLogin}\n            >\n              Sign In\n            </Button>\n            <Box mt={5}>\n              <Copyright />\n            </Box>\n          </form>\n        </div>\n      </Grid>\n    </Grid>\n  );\n}\n\nconst useFormInput = (initialValue) => {\n  const [value, setValue] = useState(initialValue);\n\n  const handleChange = (e) => {\n    setValue(e.target.value);\n  };\n  return {\n    value,\n    onChange: handleChange,\n  };\n};\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { getToken } from './Common';\n \n// handle the private routes\nfunction PrivateRoute({ component: Component, ...rest }) {\n  return (\n    <Route\n      {...rest}\n      render={(props) => getToken() ? <Component {...props} /> : <Redirect to={{ pathname: '/', state: { from: props.location } }} />}\n    />\n  )\n}\n \nexport default PrivateRoute;","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { getToken } from \"./Common\";\n\n// handle the public routes\nfunction PublicRoute({ component: Component, ...rest }) {\n  return (\n    <Route\n      {...rest}\n      render={(props) =>\n        !getToken() ? (\n          <Component {...props} />\n        ) : (\n          <Redirect to={{ pathname: \"/dashboard\" }} />\n        )\n      }\n    />\n  );\n}\n\nexport default PublicRoute;\n","import mqtt from \"mqtt\";\nimport { backendApiUrl } from \"./Config\";\n\nconst websocketUrl = backendApiUrl.ws;\nconst clientId = \"mqttjs_brower_\" + Math.random().toString(16).substr(2, 4);\nlet client;\n\nvar options = {\n  keepalive: 30,\n  clientId: clientId,\n  protocolId: \"MQTT\",\n  protocolVersion: 4,\n  clean: true,\n  reconnectPeriod: 1000,\n  connectTimeout: 30 * 1000,\n  will: {\n    topic: \"WillMsg\",\n    payload: \"Connection Closed abnormally..!\",\n    qos: 0,\n    retain: false,\n  },\n  rejectUnauthorized: false,\n};\n\nconst initClient = (errorHandler) => {\n  client = mqtt.connect(websocketUrl, options);\n\n  client.subscribe(\"browser\");\n\n  client.on(\"error\", (err) => {\n    console.log(`Connection to ${websocketUrl} failed`, err);\n    client.end();\n  });\n\n  client.on(\"close\", () => {\n    console.log(clientId + \" disconnected\");\n  });\n  return client;\n};\n\nconst getClient = () => {\n  if (!client) {\n    initClient();\n  }\n  return client;\n}\n\nconst onMessage = (client, callBack) => {\n  client.on(\"message\", (topic, message, packet) => {\n    console.log(message.toString(), topic);\n    \n    callBack(client, topic, message);\n  });\n};\n\nconst publishMessage = (client, topic, message) => {\n  client.publish(topic, message);\n}\n\nconst subscribe = (client, topic) => {\n  const callBack = (err, granted) => {\n    if (err) {\n      console.log(\"Subscription request failed\");\n    }\n  };\n  return client.subscribe(topic, callBack);\n};\n\nconst unsubscribe = (client, topic) => {\n  client.unsubscribe(topic);\n};\n\nconst closeConnection = (client) => {\n  client.end();\n  client = undefined;\n};\n\nconst extractMqttTopicInfo = (mqttTopic) => {\n  const splitStr = mqttTopic.split(\"/\");\n\n  const [room, deviceId, type, sensorName] = splitStr;\n\n  return {\n    room,\n    deviceId,\n    type,\n    sensorName,\n  };\n};\n\nconst mqttService = {\n  getClient,\n  publishMessage,\n  subscribe,\n  onMessage,\n  unsubscribe,\n  closeConnection,\n  extractMqttTopicInfo\n};\n\nexport default mqttService;\n","const relayLightBulb = {\n  type: 'Lightbulb',\n  openCommand: 'ON',\n  closeCommand: 'OFF',\n  openCommandDescription: 'Turn the lights on',\n  closeCommandDescription: 'Turn the lights off',\n  openAction: 'Turning the lights on!',\n  closeAction: 'Turning the lights off!',\n};\n\nconst motionDetector = {\n  type: 'Motion-Detector',\n  unit: 'Detection status',\n  detection: 'Motion detected',\n  noDetection: 'No motion detected'\n};\n\nconst temperatureHumidity = {\n  type: 'Temperature-Humidity',\n  temperatureMeasAndUnit: 'Temperature (Celcius)',\n  temperatureUnit: 'Celcius',\n  humidityMeasAndUnit: 'Humidity (%)',\n  humidityUnit: '%',\n};\n\nconst lightIntensity = {\n  type: 'Light-Intensity',\n  measAndUnit: 'Light Intensity (%)',\n  unit: '%',\n};\n\n\n\nexport const SENSOR_TYPE = {\n  RELAY_LIGHTBULB: relayLightBulb.type,\n  TEMPERATURE_HUMIDITY: temperatureHumidity.type,\n  LIGHT_INTENSITY: lightIntensity.type,\n  MOTION_DETECTOR: motionDetector.type,\n};\n\nconst measurementOutputSensors = [\n  lightIntensity.type,\n  temperatureHumidity.type,\n];\nconst optionsOutputSensors = [\n  relayLightBulb.type,\n  motionDetector.type\n];\n\nexport const actionsByType = (type, command) => {\n  switch (type) {\n    case relayLightBulb.type:\n      switch (command) {\n        case relayLightBulb.openCommand:\n          return relayLightBulb.openAction;\n\n        case relayLightBulb.closeCommand:\n          return relayLightBulb.closeAction;\n        default:\n          break;\n      }\n      break;\n    default:\n      break;\n  }\n};\n\nexport const commandsByType = (type, command) => {\n  switch (type) {\n    case SENSOR_TYPE.RELAY_LIGHTBULB:\n      const openObj = {\n        command: relayLightBulb.openCommand,\n        description: relayLightBulb.openCommandDescription,\n        commandOnFailure: relayLightBulb.closeCommand,\n      };\n      const closeObj = {\n        command: relayLightBulb.closeCommand,\n        description: relayLightBulb.closeCommandDescription,\n        commandOnFailure: relayLightBulb.openCommand,\n      };\n\n      switch (command) {\n        case relayLightBulb.openCommand:\n          return openObj;\n        case relayLightBulb.closeCommand:\n          return closeObj;\n\n        default:\n          return [openObj, closeObj];\n      }\n    default:\n      break;\n  }\n};\n\nexport const getSensorOutputName = (type) => {\n  switch (type) {\n    case temperatureHumidity.type:\n      return [\n        temperatureHumidity.temperatureMeasAndUnit,\n        temperatureHumidity.humidityMeasAndUnit,\n      ];\n    case lightIntensity.type:\n      return [lightIntensity.measAndUnit];\n    case motionDetector.type:\n      return [motionDetector.unit];\n    default:\n      break;\n  }\n};\n\nexport const getMeasurementUnitsName = (measurementName) => {\n  switch (measurementName) {\n    case temperatureHumidity.temperatureMeasAndUnit:\n      return temperatureHumidity.temperatureUnit;\n    case temperatureHumidity.humidityMeasAndUnit:\n      return temperatureHumidity.humidityUnit;\n    case lightIntensity.measAndUnit:\n      return lightIntensity.unit;\n    default:\n      break;\n  }\n};\n\nexport const getSensorOption = (sensorOutputName) => {\n  switch (sensorOutputName) {\n    case motionDetector.unit:\n      return [motionDetector.detection, motionDetector.noDetection];\n    default:\n      break;\n  }\n};\n\nexport const getSensorOutputType = (type) => {\n  if (measurementOutputSensors.includes(type)) {\n    return 'measurement';\n  } else if (optionsOutputSensors.includes(type)) {\n    return 'options';\n  }\n};\n","import React, {useEffect, useState} from \"react\";\nimport MuiAlert from \"@material-ui/lab/Alert\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {actionsByType} from '../utils/SensorSpecific';\n\nfunction Alert(props) {\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: \"100%\",\n        \"& > * + *\": {\n            marginTop: theme.spacing(2),\n        },\n    },\n}));\n\nexport default function AlertMessage(props) {\n    const classes = useStyles();\n\n    const [open, setOpen] = useState(props.alertMessage ? true : false);\n\n    const handleClose = (event, reason) => {\n        if (reason === \"clickaway\") {\n            return;\n        }\n        setOpen(false);\n    };\n    // console.log(props.alertMessage);\n\n    useEffect(() => {\n        setOpen(props.alertMessage ? true : false);\n    }, [props]);\n\n    let device;\n    let reason;\n    if (props.alertMessage) {\n        device = props.alertMessage.device;\n        reason = props.alertMessage.reason;\n    }\n\n    let severity;\n    if (reason === \"connected\") {\n        severity = \"success\";\n    } else if (reason === \"disconnected\") {\n        severity = \"error\";\n    } else if (reason === \"action\") {\n        severity = \"info\";\n    }\n\n    let notificationMessage;\n    if (reason === 'action') {\n        const actionMessage = actionsByType(\n            props.alertMessage.sensorType,\n            props.alertMessage.command\n        );\n        notificationMessage = `${props.alertMessage.actionCategory}: ${actionMessage} (${props.alertMessage.sensorType} | ${props.alertMessage.roomName})`;\n    } else {\n        notificationMessage = `${device} was ${reason}`;\n    }\n\n    return (\n        <div className={classes.root}>\n            <Snackbar\n                open={open}\n                onClose={handleClose}\n                autoHideDuration={6000}\n                anchorOrigin={{vertical: \"bottom\", horizontal: \"center\"}}\n            >\n                <Alert severity={severity} onClose={handleClose}>\n                    {notificationMessage}\n                </Alert>\n            </Snackbar>\n        </div>\n    );\n}\n","import React, { useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Switch from \"@material-ui/core/Switch\";\nimport mqttService from \"../../utils/MQTT\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport {FILE_PATH} from \"../../utils/CordovaGlobals\";\nimport RouterIcon from \"@material-ui/icons/Router\";\nimport RoomIcon from \"@material-ui/icons/Room\";\nimport BlurCircularIcon from \"@material-ui/icons/BlurCircular\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    // width: \"100%\",\n    backgroundColor: \"white\",\n    borderRadius: \"10px\",\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    // flexDirection: \"column\",\n  },\n  info: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    flexGrow: 1,\n    flexDirection: \"column\",\n    justifyContent: \"space-around\",\n    borderRadius: \"10px\",\n    // backgroundColor: theme.palette.secondary.main,\n    // border:`2px solid ${theme.palette.secondary.main}`,\n    margin: theme.spacing(1),\n  },\n  deviceInfoIndividual: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    margin: theme.spacing(1),\n    color: theme.palette.secondary.main,\n  },\n  divContent: {\n    display: \"flex\",\n    alignItems: \"center\",\n    flexDirection: \"column\",\n    padding: theme.spacing(2),\n  },\n  imageLightOpen: {\n    margin: theme.spacing(1),\n    padding: theme.spacing(1),\n    backgroundImage: `url(${FILE_PATH}/static/media/lightbulb-open2.d67991f2.svg)`,\n    backgroundPosition: \"center\",\n    backgroundSize: \"contain\",\n    backgroundRepeat: \"no-repeat\",\n    width: 70,\n    height: 70,\n  },\n  imageLightClosed: {\n    margin: theme.spacing(1),\n    padding: theme.spacing(1),\n    backgroundImage: `url(${FILE_PATH}/static/media/lightbulb-closed2.909d2ca0.svg)`,\n    backgroundPosition: \"center\",\n    backgroundSize: \"contain\",\n    backgroundRepeat: \"no-repeat\",\n    width: 70,\n    height: 70,\n  },\n  currentState: {\n    display: \"flex\",\n    alignItems: \"center\",\n    padding: theme.spacing(1),\n  },\n  onOff: {\n    marginLeft: theme.spacing(1),\n    padding: theme.spacing(1),\n    color: theme.palette.secondary.main,\n    borderStyle: \"dashed\",\n    borderColor: theme.palette.secondary.main,\n    borderRadius: \"10px\",\n  },\n  roomInfo: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.primary.main,\n    color: \"white\",\n    // borderStyle: \"solid\",\n    // borderColor: theme.palette.secondar.main,\n    borderRadius: \"10px\",\n  },\n  circularProgress: {\n    display: \"inline\",\n    \"& > * + *\": {\n      marginLeft: theme.spacing(2),\n    },\n  },\n}));\n\nexport default function OutlinedCard(props) {\n  const classes = useStyles();\n  const [relayState, setRelayState] = useState(\"Loading...\");\n  const switchValue = relayState === \"ON\" ? true : false;\n  const [spinnerState, setSpinnerState] = useState({\n    spinner: false,\n    disabled: true,\n  });\n\n  const onChangeHandler = (ev) => {\n    const client = mqttService.getClient();\n    console.log(client, props.command);\n    if (ev.target.checked) {\n      mqttService.publishMessage(client, props.command, \"ON\");\n    } else {\n      mqttService.publishMessage(client, props.command, \"OFF\");\n    }\n\n    setSpinnerState({ spinner: true, disabled: true });\n  };\n\n  useEffect(() => {\n    const client = mqttService.getClient();\n\n    const messageHandler = (topic, payload, packet) => {\n      console.log(payload.toString(), topic);\n      if (topic === props.topic) {\n        setRelayState(payload.toString());\n        setSpinnerState({ spinner: false, disabled: false });\n      }\n    };\n\n    client.on(\"message\", messageHandler);\n\n    return () => {\n      console.log(\"unmounting relay\");\n      client.off(\"message\", messageHandler);\n    };\n  }, [props.topic]);\n  return (\n    <div className={classes.root}>\n      <div className={classes.divContent}>\n        {relayState === \"ON\" ? (\n          <div className={classes.imageLightOpen} />\n        ) : (\n          <div className={classes.imageLightClosed} />\n        )}\n        <div className={classes.currentState}>\n          <Typography variant=\"subtitle1\">{\"Current state \"}</Typography>\n          <Typography className={classes.onOff} variant=\"subtitle2\">\n            {relayState}\n          </Typography>\n        </div>\n\n        {spinnerState.spinner === true ? (\n          <div className={classes.circularProgress}>\n            <CircularProgress />\n          </div>\n        ) : null}\n        <Switch\n          onChange={onChangeHandler}\n          checked={switchValue}\n          disabled={spinnerState.disabled}\n        />\n      </div>\n      <div className={classes.info}>\n        <div className={classes.roomInfo}>\n          <RoomIcon />\n          <Typography variant=\"h5\">{props.roomName}</Typography>\n        </div>\n        <div className={classes.deviceInfoIndividual}>\n          <BlurCircularIcon />\n          <Typography variant=\"subtitle1\">{props.name}</Typography>\n        </div>\n        <div className={classes.deviceInfoIndividual}>\n          <RouterIcon />\n          <Typography variant=\"subtitle1\">{props.device}</Typography>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\n\nimport Box from \"@material-ui/core/Box\";\n\nimport RouterIcon from \"@material-ui/icons/Router\";\nimport RoomIcon from \"@material-ui/icons/Room\";\nimport BlurCircularIcon from \"@material-ui/icons/BlurCircular\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport {FILE_PATH} from \"../../utils/CordovaGlobals\";\nimport mqttService from \"../../utils/MQTT\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    // width: \"100%\",\n    backgroundColor: \"white\",\n    borderRadius: \"10px\",\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    // flexDirection: \"column\",\n  },\n  info: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    flexGrow: 1,\n    flexDirection: \"column\",\n    justifyContent: \"space-around\",\n    borderRadius: \"10px\",\n    // backgroundColor: theme.palette.secondary.main,\n    // border:`2px solid ${theme.palette.secondary.main}`,\n    margin: theme.spacing(1),\n  },\n  deviceInfoIndividual: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    margin: theme.spacing(1),\n    color: theme.palette.secondary.main,\n  },\n  divContent: {\n    display: \"flex\",\n    alignItems: \"center\",\n    flexDirection: \"column\",\n    padding: theme.spacing(2),\n  },\n  roomInfo: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.primary.main,\n    color: \"white\",\n    // borderStyle: \"solid\",\n    // borderColor: theme.palette.secondar.main,\n    borderRadius: \"10px\",\n  },\n  progressBar: {\n    textAlign: \"center\",\n    // padding: theme.spacing(1),\n    width: \"100%\",\n  },\n  brightnessIcon: {\n    margin: theme.spacing(1),\n    padding: theme.spacing(1),\n    backgroundImage: `url(${FILE_PATH}/static/media/brightness.f2162df0.svg)`,\n    backgroundPosition: \"center\",\n    backgroundSize: \"contain\",\n    backgroundRepeat: \"no-repeat\",\n    width: 30,\n    height: 30,\n  },\n  degrees: {\n    textAlign: \"center\",\n    backgroundColor: theme.palette.secondary.main,\n    paddingLeft: theme.spacing(1),\n    paddingRight: theme.spacing(1),\n    color: \"white\",\n    borderRadius: \"20px\",\n    fontWeight: \"bold\",\n  },\n}));\n\nfunction CircularProgressWithLabel(props) {\n  const classes = useStyles();\n\n  let value = props.value;\n  if (props.value > 100) {\n    value = 100;\n  }\n  return (\n    <Box position=\"relative\" display=\"inline-flex\">\n      <CircularProgress variant=\"determinate\" value={value} size={100} />\n      <Box\n        top={0}\n        left={0}\n        bottom={0}\n        right={0}\n        position=\"absolute\"\n        display=\"flex\"\n        alignItems=\"center\"\n        justifyContent=\"center\"\n      >\n        <div className={classes.divContent}>\n          <div className={classes.brightnessIcon} />\n          <Typography\n            variant=\"body2\"\n            component=\"div\"\n            color=\"textSecondary\"\n          >{`${Math.round(value)}%`}</Typography>\n        </div>\n      </Box>\n    </Box>\n  );\n}\n\n\nexport default function OutlinedCard(props) {\n  const classes = useStyles();\n\n  const [currBrightness, setCurrBrightness] = useState({\n    brightness: \"Loading...\",\n    percentage: 0,\n  });\n\n  React.useEffect(() => {\n    const client = mqttService.getClient();\n\n    const messageHandler = (topic, payload, packet) => {\n      console.log(payload.toString(), topic);\n      if (topic === props.topic) {\n        const luxStr = payload.toString();\n        const luxPercentage = parseFloat(luxStr);\n        setCurrBrightness({ brightness: luxStr, percentage: luxPercentage });\n      }\n    };\n\n    client.on(\"message\", messageHandler);\n\n    return () => {\n      console.log(\"unmounting light intensity\");\n      client.off(\"message\", messageHandler);\n    };\n  }, [props.topic]);\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.divContent}>\n        <div className={classes.progressBar}>\n          <CircularProgressWithLabel value={currBrightness.percentage} />\n        </div>\n        <Typography className={classes.degrees}>\n          {`${currBrightness.brightness} lux`}\n        </Typography>\n      </div>\n      <div className={classes.info}>\n        <div className={classes.roomInfo}>\n          <RoomIcon />\n          <Typography variant=\"h5\">{props.roomName}</Typography>\n        </div>\n        <div className={classes.deviceInfoIndividual}>\n          <BlurCircularIcon />\n          <Typography variant=\"subtitle1\">{props.sensorName}</Typography>\n        </div>\n        <div className={classes.deviceInfoIndividual}>\n          <RouterIcon />\n          <Typography variant=\"subtitle1\">{props.device}</Typography>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport RouterIcon from \"@material-ui/icons/Router\";\nimport RoomIcon from \"@material-ui/icons/Room\";\nimport BlurCircularIcon from \"@material-ui/icons/BlurCircular\";\n\nimport {FILE_PATH} from \"../../utils/CordovaGlobals\";\nimport mqttService from \"../../utils/MQTT\";\nimport { backendApiUrl } from \"../../utils/Config\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    // flexGrow: 1,\n    backgroundColor: \"white\",\n    borderRadius: \"10px\",\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    // flexDirection: \"column\",\n  },\n  degrees: {\n    textAlign: \"center\",\n    backgroundColor: theme.palette.secondary.main,\n    paddingLeft: theme.spacing(1),\n    paddingRight: theme.spacing(1),\n    color: \"white\",\n    borderRadius: \"20px\",\n    fontWeight: \"bold\",\n  },\n  imageTemperature: {\n    margin: theme.spacing(1),\n    padding: theme.spacing(1),\n    backgroundImage: `url(${FILE_PATH}/static/media/thermometer.26bec6cd.svg)`,\n    backgroundPosition: \"center\",\n    backgroundSize: \"contain\",\n    backgroundRepeat: \"no-repeat\",\n    width: 50,\n    height: 50,\n  },\n  imageHumidity: {\n    margin: theme.spacing(1),\n    padding: theme.spacing(1),\n    backgroundImage: `url(${FILE_PATH}/static/media/humidity.41d15f93.svg)`,\n    backgroundPosition: \"center\",\n    backgroundSize: \"contain\",\n    backgroundRepeat: \"no-repeat\",\n    width: 50,\n    height: 50,\n  },\n  imageAverage: {\n    margin: theme.spacing(1),\n    padding: theme.spacing(1),\n    backgroundImage: `url(${FILE_PATH}/static/media/average.9152ffbf.svg)`,\n    backgroundPosition: \"center\",\n    backgroundSize: \"contain\",\n    backgroundRepeat: \"no-repeat\",\n    width: 50,\n    height: 50,\n  },\n  divContent: {\n    display: \"flex\",\n    alignItems: \"center\",\n    flexDirection: \"column\",\n    padding: theme.spacing(1),\n  },\n  info: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    flexGrow: 1,\n    flexDirection: \"column\",\n    justifyContent: \"space-around\",\n    // backgroundColor: theme.palette.secondary.main,\n    // border:`2px solid ${theme.palette.primary.main}`,\n    borderRadius: \"10px\",\n    margin: theme.spacing(1),\n  },\n  deviceInfoIndividual: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    margin: theme.spacing(1),\n    // backgroundColor: theme.palette.secondary.main,\n    color: theme.palette.secondary.main,\n    borderRadius: \"10px\",\n  },\n  roomInfo: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.primary.main,\n    color: \"white\",\n\n    borderRadius: \"10px\",\n  },\n  tempHum: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    justifyContent: \"center\",\n  },\n  averageMeasurementsDiv: {\n    // flexGrow: 1,\n    display: \"flex\",\n    alignItems: \"center\",\n    flexDirection: \"column\",\n    // justifyContent: \"space-around\",\n    backgroundColor: theme.palette.secondary.main,\n    padding: theme.spacing(1),\n    borderRadius: \"10px\",\n    margin: theme.spacing(1),\n    color: \"white\",\n    // flexWrap: \"wrap\",\n  },\n}));\n\nexport default function OutlinedCard(props) {\n  const classes = useStyles();\n\n  const [averageData, setAverageData] = useState({\n    avgTemp: null,\n    avgHum: null,\n    isFetching: false,\n  });\n\n  const [currTempHum, setCurrTempHum] = useState({\n    temperature: \"Loading...\",\n    humidity: \"Loading...\",\n  });\n\n  let displayedAvg = \"No Samples yet\";\n\n  if (averageData.avgTemp !== null) {\n    displayedAvg = `${Math.round(averageData.avgTemp)}\\u00B0C /\n    ${Math.round(averageData.avgHum)}%`;\n  }\n\n  useEffect(() => {\n    const fetchMeasurements = async () => {\n      try {\n        setAverageData({ avgTemp: null, avgHum: null, isFetching: true });\n        const response = await axios.get(\n          `${backendApiUrl.server}api/measurements/${props.sensorName}`\n        );\n\n        let avgTemp = 0;\n        let avgHum = 0;\n        let total = 0;\n        for (const measurementBucket of response.data) {\n          avgTemp += measurementBucket.temperaturesSum;\n          avgHum += measurementBucket.humiditiesSum;\n          total += measurementBucket.measurementsCounter;\n        }\n        console.log(response.data);\n        if (response.data.length !== 0) {\n          avgTemp = avgTemp / total;\n          avgHum = avgHum / total;\n          setAverageData({\n            avgTemp: avgTemp,\n            avgHum: avgHum,\n            isFetching: false,\n          });\n        }\n      } catch (error) {\n        console.log(error);\n        setAverageData({ avgTemp: null, avgHum: null, isFetching: false });\n      }\n    };\n\n    fetchMeasurements();\n\n    const client = mqttService.getClient();\n\n    const messageHandler = (topic, payload, packet) => {\n      console.log(payload.toString(), topic);\n      if (topic === props.topic) {\n        const splitStr = payload.toString().split(\"-\");\n        setCurrTempHum({ temperature: splitStr[0], humidity: splitStr[1] });\n      }\n    };\n\n    client.on(\"message\", messageHandler);\n\n    return () => {\n      console.log(\"unmounting temp-hum\");\n      client.off(\"message\", messageHandler);\n    };\n  }, [props.topic, props.sensorName]);\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.averageMeasurementsDiv}>\n        <Typography variant=\"subtitle1\">{\"Average\"}</Typography>\n        <div className={classes.imageAverage} />\n        <Typography className={classes.degrees}>{displayedAvg}</Typography>\n      </div>\n      <div className={classes.tempHum}>\n        <div className={classes.divContent}>\n          <Typography variant=\"subtitle1\">Temperature</Typography>\n          <div className={classes.imageTemperature} />\n          <Typography className={classes.degrees}>\n            {`${currTempHum.temperature} \\u00B0C`}\n            <br />\n          </Typography>\n        </div>\n        <div className={classes.divContent}>\n          <Typography variant=\"subtitle1\">Humidity</Typography>\n          <div className={classes.imageHumidity} />\n          <Typography className={classes.degrees}>\n            {currTempHum.humidity} %\n            <br />\n          </Typography>\n        </div>\n      </div>\n\n      <div className={classes.info}>\n        <div className={classes.roomInfo}>\n          <RoomIcon />\n          <Typography variant=\"h5\">{props.roomName}</Typography>\n        </div>\n        <div className={classes.deviceInfoIndividual}>\n          <BlurCircularIcon />\n          <Typography variant=\"subtitle1\">{props.sensorName}</Typography>\n        </div>\n        <div className={classes.deviceInfoIndividual}>\n          <RouterIcon />\n          <Typography variant=\"subtitle1\">{props.device}</Typography>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { useEffect, useState, useRef } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport axios from 'axios';\n\nimport RouterIcon from '@material-ui/icons/Router';\nimport RoomIcon from '@material-ui/icons/Room';\nimport BlurCircularIcon from '@material-ui/icons/BlurCircular';\n\nimport mqttService from '../../utils/MQTT';\nimport {FILE_PATH} from \"../../utils/CordovaGlobals\";\nimport { backendApiUrl } from '../../utils/Config';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    // width: \"100%\",\n    backgroundColor: 'white',\n    borderRadius: '10px',\n    display: 'flex',\n    flexWrap: 'wrap',\n    alignItems: 'center',\n    justifyContent: 'center',\n    // flexDirection: \"column\",\n  },\n  info: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    flexGrow: 1,\n    flexDirection: 'column',\n    justifyContent: 'space-around',\n    borderRadius: '10px',\n    margin: theme.spacing(1),\n  },\n  deviceInfoIndividual: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    margin: theme.spacing(1),\n    color: theme.palette.secondary.main,\n  },\n  divContent: {\n    display: 'flex',\n    alignItems: 'center',\n    flexDirection: 'column',\n    padding: theme.spacing(2),\n  },\n  motionImage: {\n    margin: theme.spacing(1),\n    padding: theme.spacing(1),\n    backgroundImage: `url(${FILE_PATH}/static/media/motion.8d3d8610.svg)`,\n    backgroundPosition: 'center',\n    backgroundSize: 'contain',\n    backgroundRepeat: 'no-repeat',\n    width: 70,\n    height: 70,\n  },\n  noMotionImage: {\n    margin: theme.spacing(1),\n    padding: theme.spacing(1),\n    backgroundImage: `url(${FILE_PATH}/static/media/no-motion.de1b03d8.svg)`,\n    backgroundPosition: 'center',\n    backgroundSize: 'contain',\n    backgroundRepeat: 'no-repeat',\n    width: 70,\n    height: 70,\n  },\n  currentState: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: theme.spacing(1),\n  },\n  motionInfo: {\n    textAlign: 'center',\n    backgroundColor: theme.palette.secondary.main,\n    padding: theme.spacing(1),\n    color: 'white',\n    borderRadius: '20px',\n    fontWeight: 'bold',\n  },\n  roomInfo: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.primary.main,\n    color: 'white',\n    borderRadius: '10px',\n  },\n}));\n\nexport default function MotionCard(props) {\n  const classes = useStyles();\n  const [currMotionState, setCurrMotionState] = useState('Loading...');\n  const motionStateRef = useRef(currMotionState);\n  const [lastTimeDetection, setLastTimeDetection] = useState(\n    'No detection yet'\n  );\n  useEffect(() => {\n    const fetchMeasurements = async () => {\n      try {\n        setLastTimeDetection('Fetching...');\n        const response = await axios.get(\n          `${backendApiUrl.server}api/measurements/${props.sensorName}`\n        );\n\n        if (response.data.length !== 0) {\n          setLastTimeDetection(new Date(response.data[0]));\n        }\n      } catch (error) {\n        console.log(error);\n        setLastTimeDetection('No detection yet');\n      }\n    };\n\n    fetchMeasurements();\n\n    const client = mqttService.getClient();\n\n    const messageHandler = (topic, payload, packet) => {\n      console.log(payload.toString(), topic);\n\n      if (topic === props.topic) {\n        const motionState = payload.toString();\n        if (\n          motionStateRef.current === 'Motion detected' &&\n          motionState === 'No motion detected'\n        ) {\n          fetchMeasurements();\n        }\n        motionStateRef.current = motionState;\n        setCurrMotionState(motionState);\n      }\n    };\n\n    client.on('message', messageHandler);\n\n    return () => {\n      console.log('unmounting motion detector');\n      client.off('message', messageHandler);\n    };\n  }, [props.topic, props.sensorName]);\n  console.log(currMotionState);\n  return (\n    <div className={classes.root}>\n      <div className={classes.divContent}>\n        {currMotionState === 'Motion detected' ? (\n          <div className={classes.motionImage} />\n        ) : (\n          <div className={classes.noMotionImage} />\n        )}\n        <div className={classes.currentState}>\n          <Typography className={classes.motionInfo} variant=\"subtitle2\">\n            {currMotionState}\n          </Typography>\n        </div>\n        <div className={classes.currentState}>\n          <Typography variant=\"body2\" color=\"textSecondary\">{`Last detection: ${\n            lastTimeDetection.toLocaleString()\n              ? lastTimeDetection.toLocaleString()\n              : lastTimeDetection\n          }`}</Typography>\n        </div>\n      </div>\n      <div className={classes.info}>\n        <div className={classes.roomInfo}>\n          <RoomIcon />\n          <Typography variant=\"h5\">{props.roomName}</Typography>\n        </div>\n        <div className={classes.deviceInfoIndividual}>\n          <BlurCircularIcon />\n          <Typography variant=\"subtitle1\">{props.sensorName}</Typography>\n        </div>\n        <div className={classes.deviceInfoIndividual}>\n          <RouterIcon />\n          <Typography variant=\"subtitle1\">{props.device}</Typography>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport Grid from \"@material-ui/core/Grid\";\n\nimport Paper from \"@material-ui/core/Paper\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {Typography} from \"@material-ui/core\";\n\nimport RelayCard from \"./RelayCard\";\nimport LightIntensityCard from \"./LightIntensityCard\";\nimport TemperatureHumidityCard from \"./TemperatureHumidityCard\";\nimport MotionDetectionCard from \"./MotionDetectorCard\"\n\nimport {SENSOR_TYPE} from \"../../utils/SensorSpecific\";\n\nconst useStyles = makeStyles((theme) => ({\n    paper: {\n        padding: theme.spacing(1),\n        display: \"flex\",\n        overflow: \"auto\",\n        flexDirection: \"column\",\n        backgroundColor: theme.palette.secondary.main,\n        borderRadius: \"10px\",\n    },\n    title: {\n        backgroundColor: theme.palette.secondary.main,\n        color: \"white\",\n        borderRadius: \"10px\",\n        paddingLeft: theme.spacing(1),\n        paddingRight: theme.spacing(1),\n        textAlign: \"center\",\n    },\n    roomTitle: {\n        textAlign: \"center\",\n        backgroundColor: theme.palette.primary.main,\n        color: \"white\",\n        borderRadius: \"10px\",\n        paddingLeft: theme.spacing(1),\n        paddingRight: theme.spacing(1),\n        margin: theme.spacing(1),\n    },\n}));\n\nexport default function SensorGridItem(props) {\n    const classes = useStyles();\n    if (props.sensor.type === SENSOR_TYPE.MOTION_DETECTOR) {\n        return (\n            <Grid item xs={\"auto\"} md={\"auto\"} lg={\"auto\"}>\n                <Paper className={classes.paper} elevation={6}>\n                    <Typography variant=\"h6\" className={classes.title}>\n                        Motion Detector\n                    </Typography>\n                    <MotionDetectionCard\n                        topic={props.sensor.pubTopic}\n                        roomName={props.sensor.room}\n                        device={props.sensor.deviceId}\n                        sensorName={props.sensor.name}\n                    />\n                </Paper>\n            </Grid>\n        );\n    } else if (props.sensor.type === SENSOR_TYPE.LIGHT_INTENSITY) {\n        return (\n            <Grid item xs={\"auto\"} md={\"auto\"} lg={\"auto\"}>\n                <Paper className={classes.paper} elevation={6}>\n                    <Typography variant=\"h6\" className={classes.title}>\n                        Room brightness\n                    </Typography>\n                    <LightIntensityCard\n                        topic={props.sensor.pubTopic}\n                        roomName={props.sensor.room}\n                        device={props.sensor.deviceId}\n                        sensorName={props.sensor.name}\n                    />\n                </Paper>\n            </Grid>\n        );\n    } else if (props.sensor.type === SENSOR_TYPE.TEMPERATURE_HUMIDITY) {\n        return (\n            <Grid item xs={\"auto\"} md={\"auto\"} lg={\"auto\"}>\n                <Paper className={classes.paper} elevation={6}>\n                    <Typography variant=\"h6\" className={classes.title}>\n                        Temperature & Humidity\n                    </Typography>\n                    {/* <Typography className={classes.roomTitle}>\n            {props.sensor.room}\n          </Typography> */}\n                    <TemperatureHumidityCard\n                        topic={props.sensor.pubTopic}\n                        roomName={props.sensor.room}\n                        device={props.sensor.deviceId}\n                        sensorName={props.sensor.name}\n                    />\n                </Paper>\n            </Grid>\n        );\n    } else if (props.sensor.type === SENSOR_TYPE.RELAY_LIGHTBULB) {\n        return (\n            <Grid item xs={\"auto\"} md={\"auto\"} lg={\"auto\"}>\n                <Paper className={classes.paper} elevation={6}>\n                    <Typography variant=\"h6\" className={classes.title}>\n                        Lights\n                    </Typography>\n                    {/* <Typography className={classes.roomTitle}>\n            {props.sensor.room}\n          </Typography> */}\n                    <RelayCard\n                        roomName={props.sensor.room}\n                        device={props.sensor.deviceId}\n                        name={props.sensor.name}\n                        command={props.sensor.commandTopic}\n                        topic={props.sensor.pubTopic}\n                    />\n                </Paper>\n            </Grid>\n        );\n    } else {\n        return null;\n    }\n}\n","import { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport {FILE_PATH} from '../utils/CordovaGlobals'\n\nconst useStyles = makeStyles((theme) => ({\n  image: {\n    margin: theme.spacing(1),\n    padding: theme.spacing(1),\n    backgroundImage: `url(${FILE_PATH}/static/media/not-found.cd5a9b2a.svg)`,\n    backgroundPosition: \"center\",\n    backgroundSize: \"contain\",\n    backgroundRepeat: \"no-repeat\",\n    width: \"80vh\",\n    height: \"50vh\",\n  },\n  divNoContent: {\n    margin: theme.spacing(1),\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  title: {\n    margin: theme.spacing(1),\n    padding: theme.spacing(1),\n    color: \"white\",\n    textAlign: \"center\"\n  },\n}));\n\nexport default function NoContentPage(props) {\n  const classes = useStyles();\n  return (\n    <div className={classes.divNoContent}>\n      <Typography\n        variant=\"h3\"\n        component=\"h3\"\n        gutterBottom\n        className={classes.title}\n      >\n        {props.displayItem ? `No ${props.displayItem} Found` : `Nothing Found`}\n      </Typography>\n      <div className={classes.image} />\n    </div>\n  );\n}\n","import React from \"react\";\nimport Sensor from \"./Sensor\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport NoContentPage from \"../NoContentPage\";\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n    backgroundColor: theme.palette.secondary.main,\n  },\n}));\n\nexport default function Sensors(props) {\n  const classes = useStyles();\n\n  let sensors = props.sensors;\n  if (props.filtered === \"room\") {\n    sensors = props.sensors.filter((sensor) => sensor.room === props.selected);\n  } else if (props.filtered === \"sensor-type\") {\n    sensors = props.sensors.filter((sensor) => sensor.type === props.selected);\n  }\n\n  if (sensors.length === 0) {\n    return (\n      <Paper className={classes.paper} elevation={10}>\n        <NoContentPage displayItem={\"Devices\"} />\n      </Paper>\n    );\n  }\n\n  return (\n    <Grid container spacing={3} justify=\"center\">\n      {sensors.map((sensor) => {\n        return <Sensor sensor={sensor} key={sensor.name} />;\n      })}\n    </Grid>\n\n  );\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport MeetingRoomIcon from \"@material-ui/icons/MeetingRoom\";\nimport DeviceHubIcon from \"@material-ui/icons/DeviceHub\";\nimport Typography from \"@material-ui/core/Typography\";\nimport RoomIcon from \"@material-ui/icons/Room\";\nimport CategoryIcon from \"@material-ui/icons/Category\";\n// const capitalize = (s) => {\n//   return s && s[0].toUpperCase() + s.slice(1);\n// };\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    \"& > *\": {\n      margin: theme.spacing(1),\n    },\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  dialogPaper: {\n    // minWidth: \"50vh\",\n  },\n  emptyContentLabel: {\n    margin:36,\n  },\n}));\n\nexport function SimpleDialog(props) {\n  const classes = useStyles();\n  const { onClose, open } = props;\n\n  const handleClose = () => {\n    onClose(undefined);\n  };\n\n  const handleListItemClick = (value) => {\n    onClose(value);\n  };\n\n  return (\n    <div className={classes.root}>\n\n    <Dialog\n      classes={{ paper: classes.dialogPaper }}\n      onClose={handleClose}\n      aria-labelledby=\"simple-dialog-title\"\n      open={open}\n    >\n      <DialogTitle id=\"simple-dialog-title\">{props.name}</DialogTitle>\n      {props.contents.length !== 0 ? (\n        <List>\n          {props.contents.map((item) => {\n            return (\n              <ListItem\n                button\n                onClick={() => handleListItemClick(item)}\n                key={item}\n              >\n                <ListItemAvatar>\n                  <Avatar className={classes.avatar}>\n                    {props.type === \"room\" ? (\n                      <MeetingRoomIcon />\n                    ) : (\n                      <DeviceHubIcon />\n                    )}\n                  </Avatar>\n                </ListItemAvatar>\n                <ListItemText primary={item} />\n              </ListItem>\n            );\n          })}\n        </List>\n      ) : (\n        <Typography\n          variant=\"body1\"\n          color=\"secondary\"\n          align=\"center\"\n          className={classes.emptyContentLabel}\n        >\n          {\"No \"}\n          {props.name}\n          {\" found.\"}\n        </Typography>\n      )}\n    </Dialog>\n    </div>\n  );\n}\n\nexport default function SimpleDialogDemo(props) {\n  const [open, setOpen] = React.useState(false);\n  const [selectedValue, setSelectedValue] = React.useState(undefined);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = (value) => {\n    setOpen(false);\n    setSelectedValue(value);\n    if (value) {\n      props.selectItem({ selected: value, type: props.type });\n    }\n  };\n\n  return (\n    <div>\n      <ListItem button onClick={handleClickOpen}>\n        <ListItemIcon>\n          {props.type === \"room\" ? <RoomIcon color=\"primary\"/> : <CategoryIcon color=\"primary\"/>}\n        </ListItemIcon>\n        <ListItemText primary={props.name} />\n      </ListItem>\n      <SimpleDialog\n        name={props.name}\n        type={props.type}\n        contents={props.contents}\n        selectedValue={selectedValue}\n        open={open}\n        onClose={handleClose}\n      />\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport axios from \"axios\";\nimport { backendApiUrl } from \"../../../utils/Config\";\n\nexport default function ResponsiveDialog(props) {\n  const [open, setOpen] = React.useState(false);\n  const [error, setError] = useState(null);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n    setError(null);\n  };\n\n  const deleteAction = () => {\n    setError(null);\n\n    axios\n      .delete(`${backendApiUrl.server}api/actions/${props.action._id}`, {\n        data: props.action._id,\n      })\n      .then((response) => {\n        props.updateActions(\n          props.action._id.toString() + Math.random().toString(16).substr(2, 8)\n        );\n        setOpen(false);\n      })\n      .catch((error) => {\n        console.log(error.response);\n        if (error.response) {\n          if (error.response.status === 404) {\n            setError(error.response.data.message);\n          }\n        } else setError(\"Something went wrong. Please try again later.\");\n      });\n  };\n\n  return (\n    <div>\n      <IconButton onClick={handleClickOpen} color=\"primary\">\n        <DeleteIcon />\n      </IconButton>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"responsive-dialog-title\"\n      >\n        <DialogTitle id=\"responsive-dialog-title\">{\"Warning\"}</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Are you sure you want to delete this action?\n          </DialogContentText>\n          {error && (\n            <>\n              <small style={{ color: \"red\" }}>{error}</small>\n              <br />\n            </>\n          )}\n        </DialogContent>\n        <DialogActions>\n          <Button\n            variant=\"contained\"\n            autoFocus\n            onClick={handleClose}\n            color=\"primary\"\n          >\n            Cancel\n          </Button>\n          <Button\n            variant=\"contained\"\n            autoFocus\n            onClick={deleteAction}\n            color=\"primary\"\n          >\n            Delete\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport ScheduleIcon from \"@material-ui/icons/Schedule\";\nimport LoopIcon from \"@material-ui/icons/Loop\";\nconst useStyles = makeStyles((theme) => ({\n  accordionContent: {\n    backgroundColor: theme.palette.secondary.main,\n    color: \"white\",\n    width: \"100%\",\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    justifyContent: \"space-around\",\n    borderRadius: \"10px\",\n  },\n  timeInfoIndividual: {\n    display: \"flex\",\n    alignItems: \"center\",\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    margin: theme.spacing(1),\n  },\n  dateLabel: {\n    marginLeft: theme.spacing(1),\n\n  }\n}));\n\nexport default function TimerActionContent(props) {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.accordionContent}>\n      <div className={classes.timeInfoIndividual}>\n        <ScheduleIcon />\n        <Typography className={classes.dateLabel} variant=\"subtitle1\">\n          {`Starting time: ${props.date.toLocaleString()}`}\n        </Typography>\n      </div>\n      <div className={classes.timeInfoIndividual}>\n        <LoopIcon />\n        <Typography className={classes.dateLabel} variant=\"subtitle1\">{props.recurrenceMessage}</Typography>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport {getMeasurementUnitsName} from \"../../../utils/SensorSpecific\";\nimport RoomIcon from \"@material-ui/icons/Room\";\nimport RouterIcon from \"@material-ui/icons/Router\";\nimport BlurCircularIcon from \"@material-ui/icons/BlurCircular\";\n\nconst useStyles = makeStyles((theme) => ({\n    accordionContent: {\n        backgroundColor: theme.palette.secondary.main,\n        color: \"white\",\n        width: \"100%\",\n        display: \"flex\",\n        flexWrap: \"wrap\",\n        justifyContent: \"space-around\",\n        borderRadius: \"10px\",\n    },\n    whenDescription: {\n        display: \"flex\",\n\n        alignItems: \"center\",\n        paddingLeft: theme.spacing(2),\n        paddingRight: theme.spacing(2),\n        margin: theme.spacing(1),\n        flexWrap: \"wrap\",\n    },\n    whenSensorDescription: {\n        borderRadius: \"10px\",\n        backgroundColor: \"white\",\n        // color: theme.palette.secondary.main,\n        display: \"flex\",\n        alignItems: \"center\",\n        paddingLeft: theme.spacing(2),\n        paddingRight: theme.spacing(2),\n        margin: theme.spacing(1),\n        flexWrap: \"wrap\",\n    },\n    labelDynamicContent: {\n        marginLeft: theme.spacing(1),\n        marginRight: theme.spacing(1),\n        backgroundColor: theme.palette.primary.main,\n        paddingLeft: theme.spacing(1),\n        paddingRight: theme.spacing(1),\n        borderRadius: \"10px\",\n    },\n    deviceInfoIndividual: {\n        display: \"flex\",\n        alignItems: \"center\",\n        paddingLeft: theme.spacing(2),\n        paddingRight: theme.spacing(2),\n        margin: theme.spacing(1),\n        // backgroundColor: theme.palette.secondary.main,\n        color: theme.palette.secondary.main,\n        // borderStyle: \"solid\",\n        // borderColor: theme.palette.secondar.main,\n        borderRadius: \"10px\",\n    },\n    roomInfo: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        paddingLeft: theme.spacing(2),\n        paddingRight: theme.spacing(2),\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.primary.main,\n        color: \"white\",\n\n        borderRadius: \"10px\",\n    },\n    deviceInfo: {\n        display: \"flex\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n        [theme.breakpoints.down(\"md\")]: {\n            marginTop: theme.spacing(2),\n        },\n    },\n}));\n\nexport default function TimerActionContent(props) {\n    const classes = useStyles();\n\n    let message;\n    if (props.comparisonType && props.quantity) {\n        message = `When ${props.measurementType} is ${props.comparisonType.toLowerCase()} ${\n            props.quantity\n        } ${getMeasurementUnitsName(props.measurementType)}.`;\n    } else if (props.option) {\n        message = `When the value of ${props.measurementType} is \"${props.option}\".`;\n    }\n\n    return (\n        <div className={classes.accordionContent}>\n            <div className={classes.whenDescription}>\n                {message}\n            </div>\n            <div className={classes.whenSensorDescription}>\n                <Typography variant=\"subtitle1\"\n                            color=\"secondary\">{\"Sensor: \" + props.measurementSensorType}</Typography>\n            </div>\n            <div className={classes.whenSensorDescription}>\n                <div className={classes.roomInfo}>\n                    <RoomIcon/>\n                    <Typography variant=\"subtitle1\">{props.measurementRoomName}</Typography>\n                </div>\n                <div className={classes.deviceInfoIndividual}>\n                    <BlurCircularIcon/>\n                    <Typography variant=\"subtitle1\">\n                        {props.measurementSensorName}\n                    </Typography>\n                </div>\n                <div className={classes.deviceInfoIndividual}>\n                    <RouterIcon/>\n                    <Typography variant=\"subtitle1\">\n                        {props.measurementDeviceId}\n                    </Typography>\n                </div>\n            </div>\n        </div>\n    );\n}\n","import React from \"react\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport {FILE_PATH} from '../../../utils/CordovaGlobals'\n\nconst useStyles = makeStyles((theme) => ({\n    accordionContent: {\n        backgroundColor: theme.palette.secondary.main,\n        color: \"white\",\n        width: \"100%\",\n        display: \"flex\",\n        flexWrap: \"wrap\",\n        justifyContent: \"space-around\",\n        borderRadius: \"10px\",\n    },\n    info: {\n        display: \"flex\",\n        alignItems: \"center\",\n        paddingLeft: theme.spacing(2),\n        paddingRight: theme.spacing(2),\n        margin: theme.spacing(1),\n    },\n    label: {\n        marginLeft: theme.spacing(1),\n    },\n    radiusMeters: {\n        marginLeft: theme.spacing(1),\n        paddingLeft: theme.spacing(1),\n        paddingRight: theme.spacing(1),\n        backgroundColor: theme.palette.primary.main,\n        borderRadius: \"10px\",\n        color: \"white\"\n    }\n}));\n\nexport default function LocationActionContent(props) {\n    const classes = useStyles();\n\n    return (\n        <div className={classes.accordionContent}>\n            <div className={classes.info}>\n                <img src={`${FILE_PATH}/static/media/home-location.cc2515ec.svg`} alt=\"Home Location\" width=\"35\" height=\"35\"/>\n                <Typography className={classes.label} variant=\"subtitle1\">\n                    {\"Radius:\"}\n                </Typography>\n                <Typography className={classes.radiusMeters} variant=\"subtitle1\">\n                    {`${props.radius}`}\n                </Typography>\n                <Typography className={classes.label} variant=\"subtitle1\">\n                    {\"meters\"}\n                </Typography>\n            </div>\n        </div>\n    );\n}\n","import React from \"react\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport RouterIcon from \"@material-ui/icons/Router\";\nimport RoomIcon from \"@material-ui/icons/Room\";\nimport BlurCircularIcon from \"@material-ui/icons/BlurCircular\";\nimport Accordion from \"@material-ui/core/Accordion\";\nimport AccordionDetails from \"@material-ui/core/AccordionDetails\";\nimport AccordionSummary from \"@material-ui/core/AccordionSummary\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport Divider from \"@material-ui/core/Divider\";\nimport DeleteActionDialog from \"./common/DeleteActionDialog\";\nimport TimerActionAccordionDetails from \"./TimerActions/TimerActionAccordionDetails\";\nimport SensorBasedAccordionDetails from \"./SensorBasedActions/SensorBasedAccordionDetails\";\nimport LocationActionAccordionDetails from \"./LocationBasedActions/LocationActionAccordionDetails\";\nimport {commandsByType} from \"../../utils/SensorSpecific\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: \"100%\",\n    },\n    command: {\n        color: theme.palette.primary.main,\n        fontSize: theme.typography.pxToRem(15),\n        padding: theme.spacing(1),\n        margin: theme.spacing(1),\n        flexShrink: 0,\n        borderStyle: \"solid\",\n        borderColor: theme.palette.primary.main,\n        borderRadius: \"10px\",\n        backgroundColor: theme.palette.secondary.main,\n    },\n    headingCommand: {\n        // borderStyle: \"dashed\",\n        borderColor: theme.palette.secondary.main,\n        borderRadius: \"10px\",\n        display: \"flex\",\n        flexWrap: \"wrap\",\n        alignItems: \"center\",\n    },\n    heading: {\n        // fontSize: theme.typography.pxToRem(15),\n        // padding: theme.spacing(1),\n        width: \"100px\",\n        margin: theme.spacing(1),\n        flexShrink: 0,\n    },\n    secondaryHeading: {\n        fontSize: theme.typography.pxToRem(15),\n        color: theme.palette.text.secondary,\n        padding: theme.spacing(1),\n        margin: theme.spacing(1),\n    },\n    summary: {\n        display: \"flex\",\n        alignItems: \"center\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n    },\n\n    deviceInfoIndividual: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        paddingLeft: theme.spacing(2),\n        paddingRight: theme.spacing(2),\n        margin: theme.spacing(1),\n        color: theme.palette.secondary.main,\n    },\n    roomInfo: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        paddingLeft: theme.spacing(2),\n        paddingRight: theme.spacing(2),\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.primary.main,\n        color: \"white\",\n\n        borderRadius: \"10px\",\n    },\n    deviceInfo: {\n        display: \"flex\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n        [theme.breakpoints.down(\"md\")]: {\n            marginTop: theme.spacing(2),\n        },\n    },\n\n    deleteButton: {\n        display: \"flex\",\n        justifyContent: \"center\",\n    },\n}));\n\nexport default function ActionCard(props) {\n    const classes = useStyles();\n\n    const [expanded, setExpanded] = React.useState(false);\n\n    const handleChange = (panel) => (event, isExpanded) => {\n        setExpanded(isExpanded ? panel : false);\n    };\n\n    let details = null;\n    switch (props.action.actionCategory) {\n        case \"Timer Action\":\n            let date;\n            let recurrenceMessage;\n            if (props.action.recurrenceNumber) {\n                recurrenceMessage = `Every ${props.action.recurrenceNumber} ${props.action.recurrenceTimeUnit}`;\n            } else {\n                recurrenceMessage = \"None\";\n            }\n            date = new Date(props.action.startTime);\n            details = (\n                <TimerActionAccordionDetails\n                    recurrenceMessage={recurrenceMessage}\n                    date={date}\n                />\n            );\n            break;\n        case \"Sensor-Based Action\":\n            details = (\n                <SensorBasedAccordionDetails\n                    measurementType={props.action.measurementType}\n                    quantity={props.action.quantity}\n                    comparisonType={props.action.comparisonType}\n                    measurementSensorName={props.action.measurementSensorName}\n                    measurementDeviceId={props.action.measurementDeviceId}\n                    measurementRoomName={props.action.measurementRoomName}\n                    measurementSensorType={props.action.measurementSensorType}\n                    option={props.action.option}\n                />\n            );\n            break;\n        case \"Location-Based Action\":\n            details = (\n                <LocationActionAccordionDetails\n                    radius={props.action.radius}\n                />\n            )\n            break;\n        default:\n            break;\n    }\n\n    const commandDescription = commandsByType(\n        props.action.sensorType,\n        props.action.command\n    );\n    const registrationDate = new Date(props.action.registrationDate);\n    return (\n        <div className={classes.root}>\n            <Accordion\n                expanded={expanded === \"panel1\"}\n                onChange={handleChange(\"panel1\")}\n            >\n                <AccordionSummary\n                    expandIcon={<ExpandMoreIcon/>}\n                    aria-controls=\"panel1bh-content\"\n                    id=\"panel1bh-header\"\n                >\n                    <div className={classes.summary}>\n                        <div className={classes.headingCommand}>\n                            <Typography variant=\"subtitle1\" className={classes.heading}>\n                                {props.action.actionCategory}\n                            </Typography>\n                            <Typography className={classes.command}>\n                                {props.action.sensorType + \" | \"}\n                                {commandDescription.description}\n                            </Typography>\n                        </div>\n\n                        <div className={classes.deviceInfo}>\n                            <div className={classes.roomInfo}>\n                                <RoomIcon/>\n                                <Typography variant=\"subtitle1\">\n                                    {props.action.roomName}\n                                </Typography>\n                            </div>\n                            <div className={classes.deviceInfoIndividual}>\n                                <BlurCircularIcon/>\n                                <Typography variant=\"subtitle1\">\n                                    {props.action.sensorName}\n                                </Typography>\n                            </div>\n                            <div className={classes.deviceInfoIndividual}>\n                                <RouterIcon/>\n                                <Typography variant=\"subtitle1\">\n                                    {props.action.deviceId}\n                                </Typography>\n                            </div>\n                        </div>\n                        <Typography className={classes.secondaryHeading}>\n                            {\"Registered on: \"}\n                            {registrationDate.toLocaleString()}\n                        </Typography>\n                    </div>\n                </AccordionSummary>\n                <AccordionDetails>{details}</AccordionDetails>\n                <Divider/>\n                <div className={classes.deleteButton}>\n                    <DeleteActionDialog\n                        action={props.action}\n                        updateActions={props.updateActions}\n                    />\n                </div>\n            </Accordion>\n        </div>\n    );\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport RouterIcon from \"@material-ui/icons/Router\";\nimport RoomIcon from \"@material-ui/icons/Room\";\nimport BlurCircularIcon from \"@material-ui/icons/BlurCircular\";\n\nconst useStyles = makeStyles((theme) => ({\n  button: {\n    display: \"block\",\n    marginTop: theme.spacing(2),\n  },\n  formControl: {\n    minWidth: 120,\n    maxWidth: 250\n  },\n  menuItem: {\n    padding: theme.spacing(1),\n    display: \"flex\",\n  },\n}));\n\nexport default function ControlledOpenSelect(props) {\n  const classes = useStyles();\n  const [selectedSensor, setSelectedSensor] = React.useState(\"\");\n  const [open, setOpen] = React.useState(false);\n\n  const handleChange = (event) => {\n    setSelectedSensor(event.target.value);\n    props.selectSensor(event.target.value);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  let filteredSensors = null;\n  if (props.sensors) {\n    if (props.isCommandSensor === undefined) {\n      filteredSensors = props.sensors;\n    } else if (props.isCommandSensor) {\n      filteredSensors = props.sensors.filter((sensor) => {\n        return sensor.commandTopic;\n      });\n    } else if (!props.isCommandSensor) {\n      filteredSensors = props.sensors.filter((sensor) => {\n        return !sensor.commandTopic;\n      });\n    }\n  }\n\n  // console.log(selectedSensor);\n  return (\n    <div>\n      <FormControl required className={classes.formControl}>\n        <InputLabel id=\"demo-controlled-open-select-label\">Sensor</InputLabel>\n        <Select\n          labelId=\"demo-controlled-open-select-label\"\n          id=\"demo-controlled-open-select\"\n          open={open}\n          onClose={handleClose}\n          onOpen={handleOpen}\n          value={selectedSensor}\n          onChange={handleChange}\n        >\n          <MenuItem value=\"\">\n            <em>None</em>\n          </MenuItem>\n\n          {filteredSensors\n            ? filteredSensors.map((sensor) => {\n                return (\n                  <MenuItem value={sensor} key={sensor.name}>\n                    <BlurCircularIcon />\n                    {\"  \"}\n                    {sensor.name}\n                    {\"  \"}\n                    <RoomIcon />\n                    {\"  \"}\n                    {sensor.room}\n                    {\"  \"}\n                    <RouterIcon />\n                    {\"  \"}\n                    {sensor.deviceId}\n                  </MenuItem>\n                );\n              })\n            : null}\n        </Select>\n      </FormControl>\n    </div>\n  );\n}\n","import React, {useEffect} from \"react\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport {commandsByType} from \"../../../utils/SensorSpecific\";\n\nconst useStyles = makeStyles((theme) => ({\n    formControl: {\n        // margin: theme.spacing(1),\n        minWidth: 120,\n    },\n    menuItem: {\n        padding: theme.spacing(1),\n    },\n}));\n\n\nexport default function CommandMenu(props) {\n    const classes = useStyles();\n    const [selectedCommand, setSelectedCommand] = React.useState(\"\");\n    const [open, setOpen] = React.useState(false);\n\n    const handleChange = (event) => {\n        setSelectedCommand(event.target.value);\n        props.selectCommand(event.target.value);\n    };\n\n    const handleClose = () => {\n        setOpen(false);\n    };\n\n    const handleOpen = () => {\n        setOpen(true);\n    };\n\n    useEffect(() => {\n        setSelectedCommand('');\n    }, [props.clearEntries]);\n\n    const commandsArray = commandsByType(props.type);\n    return (\n        <div>\n            <FormControl required className={classes.formControl}>\n                <InputLabel id=\"demo-controlled-open-select-label\">Command</InputLabel>\n                <Select\n                    labelId=\"demo-controlled-open-select-label\"\n                    id=\"demo-controlled-open-select\"\n                    open={open}\n                    onClose={handleClose}\n                    onOpen={handleOpen}\n                    value={selectedCommand}\n                    onChange={handleChange}\n                >\n                    {commandsArray\n                        ? commandsArray.map((el, index) => {\n                            return (\n                                <MenuItem value={el.command} key={index}>\n                                    {el.description}\n                                </MenuItem>\n                            );\n                        })\n                        : null}\n                </Select>\n            </FormControl>\n        </div>\n    );\n}\n","import React from \"react\";\nimport { makeStyles, withStyles } from \"@material-ui/core/styles\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport InputBase from \"@material-ui/core/InputBase\";\n\nconst BootstrapInput = withStyles((theme) => ({\n  root: {\n    \"label + &\": {\n      marginTop: theme.spacing(3),\n    },\n  },\n  input: {\n    borderRadius: 4,\n    position: \"relative\",\n    backgroundColor: theme.palette.background.paper,\n    border: \"1px solid #ced4da\",\n    fontSize: 16,\n    padding: \"10px 26px 10px 12px\",\n    transition: theme.transitions.create([\"border-color\", \"box-shadow\"]),\n  },\n}))(InputBase);\n\nconst useStyles = makeStyles((theme) => ({\n  margin: {\n    margin: theme.spacing(1),\n  },\n}));\n\nexport default function CustomizedSelects(props) {\n  const classes = useStyles();\n  const [recurrence, setRecurrence] = React.useState(\"\");\n  const [timeUnits, setTimeUnits] = React.useState(\"\");\n  console.log(recurrence);\n  const handleChange = (event) => {\n    setTimeUnits(event.target.value);\n    props.selectTimeUnits(event.target.value);\n  };\n\n  const handleInput = (event) => {\n    setRecurrence(event.target.value);\n    props.selectRecurrence(event.target.value);\n  };\n  return (\n    <div>\n      <FormControl className={classes.margin} focused>\n        <InputLabel htmlFor=\"demo-customized-textbox\">\n          Recurrence every\n        </InputLabel>\n        <BootstrapInput\n          type=\"number\"\n          id=\"demo-customized-textbox\"\n          value={recurrence}\n          onChange={handleInput}\n        />\n      </FormControl>\n      <FormControl className={classes.margin} focused>\n        <InputLabel id=\"demo-customized-select-label\">Units</InputLabel>\n        <Select\n          labelId=\"demo-customized-select-label\"\n          id=\"demo-customized-select\"\n          value={timeUnits}\n          onChange={handleChange}\n          input={<BootstrapInput />}\n        >\n          <MenuItem value=\"\">\n            <em>None</em>\n          </MenuItem>\n          <MenuItem value={\"Minutes\"}>Minutes</MenuItem>\n          <MenuItem value={\"Hours\"}>Hours</MenuItem>\n          <MenuItem value={\"Days\"}>Days</MenuItem>\n        </Select>\n      </FormControl>\n    </div>\n  );\n}\n","import React, {useRef} from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DateFnsUtils from \"@date-io/date-fns\";\nimport {\n  MuiPickersUtilsProvider,\n  KeyboardTimePicker,\n  KeyboardDatePicker,\n} from \"@material-ui/pickers\";\nimport Button from \"@material-ui/core/Button\";\nimport SelectSensorMenu from \"../common/SelectSensorMenu\";\nimport SelectCommandMenu from \"../common/SelectCommandMenu\";\nimport SelectRepeatMenu from \"./SelectRepeatMenu\";\nimport axios from \"axios\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { backendApiUrl } from \"../../../utils/Config\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    \"& > *\": {\n      margin: theme.spacing(1),\n    },\n  },\n  extendedIcon: {\n    marginRight: theme.spacing(1),\n  },\n  fab: {\n    position: \"fixed\",\n    bottom: theme.spacing(2),\n    right: theme.spacing(4),\n  },\n  picker: {\n    padding: theme.spacing(1),\n  },\n  cancelButton: {\n    marginRight: theme.spacing(1),\n  },\n}));\nexport default function TimerActionDialog(props) {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(true);\n  const [selectedDate, setSelectedDate] = React.useState(new Date());\n  const [selectedSensor, setSelectedSensor] = React.useState(\"\");\n  const sensorRef = useRef(selectedSensor);\n  const [selectedCommand, setSelectedCommand] = React.useState(\"\");\n  const [selectedRecurrence, setSelectedRecurrence] = React.useState(\"\");\n  const [selectedTimeUnits, setSelectedTimeUnits] = React.useState(\"\");\n  const [clearEntries, setClearedEntries] = React.useState(null);\n\n  const [status, setStatus] = React.useState({ message: null, color: null });\n  const [loading, setLoading] = React.useState(false);\n  // console.log(selectedDate, selectedSensor, selectedRecurrence);\n\n  const handleDateChange = (date) => {\n    setSelectedDate(date);\n  };\n\n  const handleClose = () => {\n    props.closeDialog();\n    setOpen(false);\n    setStatus({ message: null, color: null });\n    setSelectedSensor(\"\");\n    setSelectedCommand(\"\");\n    setSelectedRecurrence(\"\");\n    setSelectedTimeUnits(\"\");\n    setSelectedDate(new Date());\n    setClearedEntries(\"null\");\n  };\n\n  const addAction = () => {\n    setStatus({ message: null, color: null });\n    setLoading(true);\n    axios\n      .post(backendApiUrl.server + \"api/timerActions\", {\n        sensorType: selectedSensor.type,\n        sensorName: selectedSensor.name,\n        deviceId: selectedSensor.deviceId,\n        roomName: selectedSensor.room,\n        command: selectedCommand,\n        commandTopic: selectedSensor.commandTopic,\n        registrationDate: Date.now(),\n        timestamp: selectedDate,\n        recurrenceTimeUnit: selectedTimeUnits,\n        recurrenceNumber: selectedRecurrence,\n      })\n      .then((response) => {\n        // console.log(response.data)\n        props.updateActions(response.data._id);\n        setLoading(false);\n        setStatus({ message: \"Action added successfully\", color: \"green\" });\n      })\n      .catch((error) => {\n        if (error.response) {\n          console.log(error.response.data.message);\n          setStatus({ message: error.response.data.message, color: \"red\" });\n        }\n        setLoading(false);\n      });\n  };\n\n  if (selectedSensor !== sensorRef.current) {\n    setSelectedCommand('');\n    sensorRef.current = selectedSensor;\n    setClearedEntries(Math.random());\n  }\n\n  return (\n    <div className={classes.root}>\n      <Dialog\n        disableBackdropClick\n        disableEscapeKeyDown\n        open={open}\n        onClose={handleClose}\n      >\n        <DialogTitle>Schedule an action</DialogTitle>\n        <DialogContent dividers>\n          <div className={classes.picker}>\n            <SelectSensorMenu\n              sensors={props.sensors}\n              isCommandSensor={true}\n              selectSensor={setSelectedSensor}\n            />\n          </div>\n          {selectedSensor === \"\" ? null : (\n            <div className={classes.picker}>\n              <SelectCommandMenu\n                type={selectedSensor.type}\n                selectCommand={setSelectedCommand}\n                clearEntries={clearEntries}\n              />\n            </div>\n          )}\n          <MuiPickersUtilsProvider utils={DateFnsUtils}>\n            <div className={classes.picker}>\n              <KeyboardDatePicker\n                margin=\"normal\"\n                id=\"date-picker-dialog\"\n                label=\"Starting Date Picker\"\n                format=\"MM/dd/yyyy\"\n                value={selectedDate}\n                onChange={handleDateChange}\n                KeyboardButtonProps={{\n                  \"aria-label\": \"change date\",\n                }}\n              />\n            </div>\n            <div className={classes.picker}>\n              <KeyboardTimePicker\n                margin=\"normal\"\n                id=\"time-picker\"\n                label=\"Starting Time Picker\"\n                value={selectedDate}\n                onChange={handleDateChange}\n                KeyboardButtonProps={{\n                  \"aria-label\": \"change time\",\n                }}\n              />\n            </div>\n            {/* </Grid> */}\n          </MuiPickersUtilsProvider>\n          <SelectRepeatMenu\n            selectRecurrence={setSelectedRecurrence}\n            selectTimeUnits={setSelectedTimeUnits}\n          />\n          {status.message && (\n            <>\n              <small style={{ color: status.color }}>{status.message}</small>\n              <br />\n            </>\n          )}\n        </DialogContent>\n        <DialogActions>\n          {loading === true ? (\n            <CircularProgress />\n          ) : (\n            <div>\n              <Button\n                className={classes.cancelButton}\n                variant=\"contained\"\n                onClick={handleClose}\n                color=\"primary\"\n              >\n                Cancel\n              </Button>\n              <Button variant=\"contained\" onClick={addAction} color=\"primary\">\n                Add Action\n              </Button>\n            </div>\n          )}\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React, {useEffect} from \"react\";\nimport { makeStyles, withStyles } from \"@material-ui/core/styles\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport InputBase from \"@material-ui/core/InputBase\";\n\nconst BootstrapInput = withStyles((theme) => ({\n  root: {\n    \"label + &\": {\n      marginTop: theme.spacing(3),\n    },\n  },\n  input: {\n    borderRadius: 4,\n    position: \"relative\",\n    backgroundColor: theme.palette.background.paper,\n    border: \"1px solid #ced4da\",\n    fontSize: 14,\n    padding: \"10px 26px 10px 12px\",\n    transition: theme.transitions.create([\"border-color\", \"box-shadow\"]),\n  },\n}))(InputBase);\n\nconst useStyles = makeStyles((theme) => ({\n  margin: {\n    margin: theme.spacing(1),\n  },\n}));\n\nexport default function CustomizedSelects(props) {\n  const classes = useStyles();\n  const [quantity, setQuantity] = React.useState(\"\");\n  const [comparison, setComparison] = React.useState(\"\");\n  const handleChange = (event) => {\n    setComparison(event.target.value);\n    props.selectComparison(event.target.value);\n  };\n\n  const handleInput = (event) => {\n    setQuantity(event.target.value);\n    props.selectQuantity(event.target.value);\n  };\n\n  useEffect(() => {\n    setQuantity('');\n    setComparison('');\n  }, [props.clearEntries]);\n\n  return (\n    <div>\n      <FormControl className={classes.margin} focused>\n        <InputLabel required id=\"demo-customized-select-label\">\n          Compare\n        </InputLabel>\n        <Select\n          labelId=\"demo-customized-select-label\"\n          id=\"demo-customized-select\"\n          value={comparison}\n          onChange={handleChange}\n          input={<BootstrapInput />}\n        >\n          <MenuItem value=\"\">\n            <em>None</em>\n          </MenuItem>\n          <MenuItem value={\"Below\"}>Below</MenuItem>\n          <MenuItem value={\"Over\"}>Over</MenuItem>\n          <MenuItem value={\"Equal To\"}>Equal To</MenuItem>\n        </Select>\n      </FormControl>\n      <FormControl className={classes.margin} focused>\n        <InputLabel required htmlFor=\"demo-customized-textbox\">Quantity</InputLabel>\n        <BootstrapInput\n          type=\"number\"\n          id=\"demo-customized-textbox\"\n          value={quantity}\n          onChange={handleInput}\n        />\n      </FormControl>\n    </div>\n  );\n}\n","import React, {useEffect} from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport {getSensorOutputName} from \"../../../utils/SensorSpecific\";\n\nconst useStyles = makeStyles((theme) => ({\n  formControl: {\n    // margin: theme.spacing(1),\n    minWidth: 130,\n  },\n  menuItem: {\n    padding: theme.spacing(1),\n  },\n}));\n\n\n\nexport default function MeasurementTypesMenu(props) {\n  const classes = useStyles();\n  const [selectedType, setSelectedType] = React.useState(\"\");\n  const [open, setOpen] = React.useState(false);\n\n  const handleChange = (event) => {\n    setSelectedType(event.target.value);\n    props.selectMeasurementType(event.target.value);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  useEffect(() => {\n    setSelectedType('');\n  }, [props.clearEntries]);\n\n  const measurementTypes = getSensorOutputName(props.type);\n  return (\n    <div>\n      <FormControl required className={classes.formControl}>\n        <InputLabel id=\"demo-controlled-open-select-label\">Measurement</InputLabel>\n        <Select\n          labelId=\"demo-controlled-open-select-label\"\n          id=\"demo-controlled-open-select\"\n          open={open}\n          onClose={handleClose}\n          onOpen={handleOpen}\n          value={selectedType}\n          onChange={handleChange}\n        >\n          {measurementTypes\n            ? measurementTypes.map((el, index) => {\n                return (\n                  <MenuItem value={el} key={index}>\n                    {el}\n                  </MenuItem>\n                );\n              })\n            : null}\n        </Select>\n      </FormControl>\n    </div>\n  );\n}\n","import React, { useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport { getSensorOption } from '../../../utils/SensorSpecific';\n\nconst useStyles = makeStyles((theme) => ({\n  formControl: {\n    // margin: theme.spacing(1),\n    minWidth: 120,\n  },\n  menuItem: {\n    padding: theme.spacing(1),\n  },\n}));\n\nexport default function SensorOptionsMenu(props) {\n  const classes = useStyles();\n  const [selectedOption, setSelectedOption] = React.useState('');\n  const [open, setOpen] = React.useState(false);\n\n  const handleChange = (event) => {\n    setSelectedOption(event.target.value);\n    props.selectOption(event.target.value);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  useEffect(() => {\n    setSelectedOption('');\n  }, [props.clearEntries]);\n  \n  const sensorOptions = getSensorOption(props.outputType);\n  return (\n    <div>\n      <FormControl required className={classes.formControl}>\n        <InputLabel id=\"demo-controlled-open-select-label\">Option</InputLabel>\n        <Select\n          labelId=\"demo-controlled-open-select-label\"\n          id=\"demo-controlled-open-select\"\n          open={open}\n          onClose={handleClose}\n          onOpen={handleOpen}\n          value={selectedOption}\n          onChange={handleChange}\n        >\n          {sensorOptions\n            ? sensorOptions.map((el, index) => {\n                return (\n                  <MenuItem value={el} key={index}>\n                    {el}\n                  </MenuItem>\n                );\n              })\n            : null}\n        </Select>\n      </FormControl>\n    </div>\n  );\n}\n","import React, {useRef} from \"react\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Button from \"@material-ui/core/Button\";\nimport SelectSensorMenu from \"../common/SelectSensorMenu\";\nimport SelectCommandMenu from \"../common/SelectCommandMenu\";\nimport SelectComparedQuantityMenu from \"./SelectComparedQuantityMenu\";\nimport SelectMeasurementTypeMenu from \"./SelectMeasurementTypeMenu\";\nimport SelectSensorOptionsMenu from './SelectSensorOptionsMenu';\nimport axios from \"axios\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Typography from \"@material-ui/core/Typography\";\nimport {backendApiUrl} from \"../../../utils/Config\";\nimport {\n    commandsByType,\n    getSensorOutputType,\n} from '../../../utils/SensorSpecific';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        display: \"flex\",\n    },\n    wrapDiv: {\n        display: \"flex\",\n        justifyContent: \"flex-start\",\n        // alignItems: \"center\",\n        flexDirection: \"column\",\n    },\n    picker: {\n        padding: theme.spacing(1),\n    },\n    cancelButton: {\n        marginRight: theme.spacing(1),\n    },\n    label: {\n        marginTop: theme.spacing(2),\n        marginBottom: theme.spacing(2),\n        paddingLeft: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n        // textAlign: \"center\",\n        color: \"white\",\n        borderRadius: \"10px\",\n    },\n}));\nexport default function SensorBasedActionDialog(props) {\n    const classes = useStyles();\n    const [open, setOpen] = React.useState(true);\n    const [selectedWhenSensor, setSelectedWhenSensor] = React.useState(\"\");\n    const whenSensorRef = useRef(selectedWhenSensor);\n    const [selectedCommandSensor, setSelectedCommandSensor] = React.useState(\"\");\n    const cmdSensorRef = useRef(selectedCommandSensor);\n    const [selectedCommand, setSelectedCommand] = React.useState(\"\");\n    const [selectedMeasurementType, setSelectedMeasurementType] = React.useState(\n        \"\"\n    );\n\n    const [selectedQuantity, setSelectedQuantity] = React.useState(\"\");\n    const [selectedComparisonType, setSelectedComparisonType] = React.useState(\n        \"\"\n    );\n\n    const [selectedSensorOption, setSelectedSensorOption] = React.useState('');\n\n    const [clearWhenEntries, setClearedWhenEntries] = React.useState(null);\n    const [clearCmdEntries, setClearedCmdEntries] = React.useState(null);\n\n    const [status, setStatus] = React.useState({message: null, color: null});\n    const [loading, setLoading] = React.useState(false);\n    // console.log(selectedDate, selectedSensor, selectedRecurrence);\n\n    const handleClose = () => {\n        props.closeDialog();\n        setOpen(false);\n        setStatus({message: null, color: null});\n        setSelectedCommandSensor(\"\");\n        setSelectedWhenSensor(\"\");\n        setSelectedCommand(\"\");\n        setSelectedMeasurementType(\"\");\n        setSelectedQuantity(\"\");\n        setSelectedComparisonType(\"\");\n        setSelectedSensorOption('');\n        setClearedWhenEntries(null);\n        setClearedCmdEntries(null);\n    };\n\n    const addAction = () => {\n        setStatus({message: null, color: null});\n        setLoading(true);\n\n        let cmdOnFail;\n        if (selectedCommandSensor) {\n            const {commandOnFailure} = commandsByType(\n                selectedCommandSensor.type,\n                selectedCommand\n            );\n            cmdOnFail = commandOnFailure;\n        }\n\n        axios\n            .post(backendApiUrl.server + \"api/sensorBasedActions\", {\n                sensorType: selectedCommandSensor.type,\n                sensorName: selectedCommandSensor.name,\n                deviceId: selectedCommandSensor.deviceId,\n                roomName: selectedCommandSensor.room,\n                command: selectedCommand,\n                commandTopic: selectedCommandSensor.commandTopic,\n                registrationDate: Date.now(),\n                measurementSensorName: selectedWhenSensor.name,\n                measurementDeviceId: selectedWhenSensor.deviceId,\n                measurementRoomName: selectedWhenSensor.room,\n                measurementSensorType: selectedWhenSensor.type,\n                commandOnFailure: cmdOnFail,\n                comparisonType: selectedComparisonType,\n                quantity: selectedQuantity,\n                measurementType: selectedMeasurementType,\n                option: selectedSensorOption\n            })\n            .then((response) => {\n                // console.log(response.data)\n                props.updateActions(response.data._id);\n                setLoading(false);\n                setStatus({message: \"Action added successfully\", color: \"green\"});\n            })\n            .catch((error) => {\n                if (error.response) {\n                    console.log(error.response.data.message);\n                    setStatus({message: error.response.data.message, color: \"red\"});\n                }\n                setLoading(false);\n            });\n    };\n\n    if (selectedCommandSensor !== cmdSensorRef.current) {\n        setSelectedCommand('');\n        cmdSensorRef.current = selectedCommandSensor;\n        setClearedCmdEntries(Math.random());\n    }\n\n    if (selectedWhenSensor !== whenSensorRef.current) {\n        setSelectedMeasurementType('');\n        setSelectedQuantity('');\n        setSelectedComparisonType('');\n        setSelectedSensorOption('');\n        whenSensorRef.current = selectedWhenSensor;\n        setClearedWhenEntries(Math.random());\n    }\n\n    let whenSensorOutputMenu = null;\n    if (getSensorOutputType(selectedWhenSensor.type) === 'measurement') {\n        whenSensorOutputMenu = (\n            <SelectComparedQuantityMenu\n                selectComparison={setSelectedComparisonType}\n                selectQuantity={setSelectedQuantity}\n                clearEntries={clearWhenEntries}\n            />\n        );\n    } else if (getSensorOutputType(selectedWhenSensor.type) === 'options') {\n        whenSensorOutputMenu =\n            selectedMeasurementType === '' ? null : (\n                <div className={classes.picker}>\n                    <SelectSensorOptionsMenu\n                        selectOption={setSelectedSensorOption}\n                        outputType={selectedMeasurementType}\n                    />\n                </div>\n            );\n    }\n\n    return (\n        <div className={classes.root}>\n            <Dialog\n                disableBackdropClick\n                disableEscapeKeyDown\n                open={open}\n                onClose={handleClose}\n            >\n                <DialogTitle>Sensor-Based Action</DialogTitle>\n                <DialogContent dividers>\n                    <div className={classes.wrapDiv}>\n                        <div className={classes.picker}>\n                            <Typography className={classes.label} variant=\"subtitle1\">\n                                Trigger\n                            </Typography>\n                            <SelectSensorMenu\n                                sensors={props.sensors}\n                                selectSensor={setSelectedCommandSensor}\n                                isCommandSensor={true}\n                            />\n                        </div>\n                        {selectedCommandSensor === \"\" ? null : (\n                            <div className={classes.picker}>\n                                <SelectCommandMenu\n                                    type={selectedCommandSensor.type}\n                                    selectCommand={setSelectedCommand}\n                                    clearEntries={clearCmdEntries}\n                                />\n                            </div>\n                        )}\n                        <div className={classes.picker}>\n                            <Typography className={classes.label} variant=\"subtitle1\">\n                                When\n                            </Typography>\n                            <SelectSensorMenu\n                                sensors={props.sensors}\n                                selectSensor={setSelectedWhenSensor}\n                                isCommandSensor={false}\n                            />\n                        </div>\n                        {selectedWhenSensor === \"\" ? null : (\n                            <div>\n                                <div className={classes.picker}>\n                                    <SelectMeasurementTypeMenu\n                                        type={selectedWhenSensor.type}\n                                        selectMeasurementType={setSelectedMeasurementType}\n                                        clearEntries={clearWhenEntries}\n                                    />\n                                </div>\n                                {whenSensorOutputMenu}\n                            </div>\n                        )}\n\n                        {status.message && (\n                            <>\n                                <small style={{color: status.color}}>{status.message}</small>\n                                <br/>\n                            </>\n                        )}\n                    </div>\n                </DialogContent>\n                <DialogActions>\n                    {loading === true ? (\n                        <CircularProgress/>\n                    ) : (\n                        <div>\n                            <Button\n                                className={classes.cancelButton}\n                                variant=\"contained\"\n                                onClick={handleClose}\n                                color=\"primary\"\n                            >\n                                Cancel\n                            </Button>\n                            <Button variant=\"contained\" onClick={addAction} color=\"primary\">\n                                Add Action\n                            </Button>\n                        </div>\n                    )}\n                </DialogActions>\n            </Dialog>\n        </div>\n    );\n}\n","import {backendApiUrl} from \"./Config\";\n\nexport const onLocationServicesReady = (callback) => {\n    BackgroundGeolocation.configure({\n        // stopOnStillActivity: true,\n        locationProvider: BackgroundGeolocation.ACTIVITY_PROVIDER,\n        desiredAccuracy: BackgroundGeolocation.HIGH_ACCURACY,\n        stationaryRadius: 50,\n        distanceFilter: 500,\n        notificationTitle: 'Background Tracking',\n        notificationText: 'Enabled',\n        debug: true,\n        interval: 10000,\n        fastestInterval: 5000,\n        activitiesInterval: 10000,\n        url: \"http://192.168.1.66:5000/api/location\",\n        httpHeaders: {\n            'X-FOO': 'bar'\n        },\n        // customize post properties\n        postTemplate: {\n            lat: '@latitude',\n            lon: '@longitude',\n        }\n    });\n\n    BackgroundGeolocation.on('location', function (location) {\n        // handle your locations here\n        // to perform long running operation on iOS\n        // you need to create background task\n        console.log(location);\n\n        BackgroundGeolocation.startTask(function (taskKey) {\n            // execute long running task\n            // eg. ajax post location\n            // IMPORTANT: task has to be ended by endTask\n            BackgroundGeolocation.endTask(taskKey);\n        });\n    });\n\n    BackgroundGeolocation.on('stationary', function (stationaryLocation) {\n        // handle stationary locations here\n    });\n\n    BackgroundGeolocation.on('error', function (error) {\n        console.log('[ERROR] BackgroundGeolocation error:', error.code, error.message);\n    });\n\n    BackgroundGeolocation.on('start', function () {\n        console.log('[INFO] BackgroundGeolocation service has been started');\n    });\n\n    BackgroundGeolocation.on('stop', function () {\n        console.log('[INFO] BackgroundGeolocation service has been stopped');\n    });\n\n    BackgroundGeolocation.on('authorization', function (status) {\n        console.log('[INFO] BackgroundGeolocation authorization status: ' + status);\n        if (status !== BackgroundGeolocation.AUTHORIZED) {\n            // we need to set delay or otherwise alert may not be shown\n            setTimeout(function () {\n                const showSettings = confirm('App requires location tracking permission.\\nIf you are willing to give all the required permissions, restart the app for the changes to take effect.\\nWould you like to open app settings? ');\n\n                if (showSettings) {\n                    return BackgroundGeolocation.showAppSettings();\n                }\n            }, 1000);\n        }\n    });\n\n    BackgroundGeolocation.on('background', function () {\n        console.log('[INFO] App is in background');\n        // you can also reconfigure service (changes will be applied immediately)\n        // BackgroundGeolocation.configure({\n        //     debug: true,\n        // });\n    });\n\n    BackgroundGeolocation.on('foreground', function () {\n        console.log('[INFO] App is in foreground');\n        // BackgroundGeolocation.configure({debug: false});\n    });\n\n    BackgroundGeolocation.on('abort_requested', function () {\n        console.log('[INFO] Server responded with 285 Updates Not Required');\n\n        // Here we can decide whether we want stop the updates or not.\n        // If you've configured the server to return 285, then it means the server does not require further update.\n        // So the normal thing to do here would be to `BackgroundGeolocation.stop()`.\n        // But you might be counting on it to receive location updates in the UI, so you could just reconfigure and set `url` to null.\n    });\n\n    BackgroundGeolocation.on('http_authorization', () => {\n        console.log('[INFO] App needs to authorize the http requests');\n    });\n\n    BackgroundGeolocation.checkStatus(function (status) {\n        console.log('[INFO] BackgroundGeolocation service is running', status.isRunning);\n        console.log('[INFO] BackgroundGeolocation services enabled', status.locationServicesEnabled);\n        console.log('[INFO] BackgroundGeolocation auth status: ' + status.authorization);\n\n        console.log(status.isRunning);\n        // you don't need to check status before start (this is just the example)\n        if (!status.isRunning && status.locationServicesEnabled) {\n            BackgroundGeolocation.start(); //triggers start on start event\n            callback(true);\n        }\n        else if (!status.isRunning) {\n            BackgroundGeolocation.removeAllListeners();\n        }\n    });\n\n    // you can also just start without checking for status\n    // BackgroundGeolocation.start();\n\n\n    // Don't forget to remove listeners at some point!\n\n    //     BackgroundGeolocation.removeAllListeners();\n\n}\n\n\nexport const areLocationPermissionsAccepted = (callback) => {\n    BackgroundGeolocation.checkStatus(function (status) {\n        console.log('[INFO] BackgroundGeolocation service is running', status.isRunning);\n        console.log('[INFO] BackgroundGeolocation services enabled', status.locationServicesEnabled);\n        console.log('[INFO] BackgroundGeolocation auth status: ' + status.authorization);\n\n        if (status.authorization === 1) {\n            callback(true);\n            // onLocationServicesReady();\n        }\n        else {\n            callback(false);\n        }\n        console.log(status.authorization)\n    });\n    return null;\n}\nexport const removeGeoLocationListener = () => {\n    BackgroundGeolocation.removeAllListeners();\n}\n\ndocument.addEventListener('deviceready', onLocationServicesReady, false);\n","import React from \"react\";\nimport { makeStyles, withStyles } from \"@material-ui/core/styles\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputBase from \"@material-ui/core/InputBase\";\n\nconst BootstrapInput = withStyles((theme) => ({\n  root: {\n    \"label + &\": {\n      marginTop: theme.spacing(3),\n    },\n  },\n  input: {\n    borderRadius: 4,\n    position: \"relative\",\n    backgroundColor: theme.palette.background.paper,\n    border: \"1px solid #ced4da\",\n    fontSize: 14,\n    padding: \"10px 26px 10px 12px\",\n    transition: theme.transitions.create([\"border-color\", \"box-shadow\"]),\n  },\n}))(InputBase);\n\nconst useStyles = makeStyles((theme) => ({\n  margin: {\n    margin: theme.spacing(1),\n    paddingTop: theme.spacing(1)\n  },\n}));\n\nexport default function CustomizedSelects(props) {\n  const classes = useStyles();\n  const [radius, setRadius] = React.useState(\"\");\n\n  const handleInput = (event) => {\n    setRadius(event.target.value);\n    props.selectRadius(event.target.value);\n  };\n  return (\n    <div>\n      <FormControl className={classes.margin} focused>\n        <InputLabel required htmlFor=\"demo-customized-textbox\">Radius in meters (Minimum: 100)</InputLabel>\n        <BootstrapInput\n          type=\"number\"\n          id=\"demo-customized-textbox\"\n          value={radius}\n          onChange={handleInput}\n        />\n      </FormControl>\n    </div>\n  );\n}\n","import React, {useRef} from 'react';\nimport {makeStyles} from '@material-ui/core/styles';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Button from '@material-ui/core/Button';\nimport SelectSensorMenu from '../common/SelectSensorMenu';\nimport SelectCommandMenu from '../common/SelectCommandMenu';\nimport SelectRadiusMenu from './SelectRadiusMenu';\nimport axios from 'axios';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport {backendApiUrl} from '../../../utils/Config';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        '& > *': {\n            margin: theme.spacing(1),\n        },\n    },\n    extendedIcon: {\n        marginRight: theme.spacing(1),\n    },\n    fab: {\n        position: 'fixed',\n        bottom: theme.spacing(2),\n        right: theme.spacing(4),\n    },\n    picker: {\n        padding: theme.spacing(1),\n    },\n    cancelButton: {\n        marginRight: theme.spacing(1),\n    },\n    label: {\n        marginTop: theme.spacing(2),\n        marginBottom: theme.spacing(2),\n        padding: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n        // textAlign: \"center\",\n        color: \"white\",\n        borderRadius: \"10px\",\n    },\n}));\nexport default function TimerActionDialog(props) {\n    const classes = useStyles();\n    const [open, setOpen] = React.useState(true);\n    const [selectedSensor, setSelectedSensor] = React.useState('');\n    const sensorRef = useRef(selectedSensor);\n    const [selectedCommand, setSelectedCommand] = React.useState('');\n    const [selectedRadius, setSelectedRadius] = React.useState('');\n    const [clearEntries, setClearedEntries] = React.useState(null);\n\n    const [status, setStatus] = React.useState({message: null, color: null});\n    const [loading, setLoading] = React.useState(false);\n    // console.log(selectedDate, selectedSensor, selectedRecurrence);\n\n    const handleClose = () => {\n        props.closeDialog();\n        setOpen(false);\n        setStatus({message: null, color: null});\n        setSelectedSensor('');\n        setSelectedCommand('');\n        setSelectedRadius('');\n        setClearedEntries(\"null\");\n    };\n\n    const addAction = () => {\n        setStatus({message: null, color: null});\n        setLoading(true);\n        axios\n            .post(backendApiUrl.server + 'api/locationBasedActions', {\n                sensorType: selectedSensor.type,\n                sensorName: selectedSensor.name,\n                deviceId: selectedSensor.deviceId,\n                roomName: selectedSensor.room,\n                command: selectedCommand,\n                commandTopic: selectedSensor.commandTopic,\n                registrationDate: Date.now(),\n                radius: selectedRadius,\n            })\n            .then((response) => {\n                // console.log(response.data)\n                props.updateActions(response.data._id);\n                setLoading(false);\n                setStatus({message: 'Action added successfully', color: 'green'});\n            })\n            .catch((error) => {\n                if (error.response) {\n                    console.log(error.response.data.message);\n                    setStatus({message: error.response.data.message, color: 'red'});\n                }\n                setLoading(false);\n            });\n    };\n\n    if (selectedSensor !== sensorRef.current) {\n        setSelectedCommand('');\n        sensorRef.current = selectedSensor;\n        setClearedEntries(Math.random());\n    }\n\n\n    return (\n        <div className={classes.root}>\n            <Dialog\n                disableBackdropClick\n                disableEscapeKeyDown\n                open={open}\n                onClose={handleClose}\n            >\n                <DialogTitle>Location-Based Action</DialogTitle>\n                <DialogContent dividers>\n                    <div className={classes.picker}>\n                        <SelectSensorMenu\n                            sensors={props.sensors}\n                            isCommandSensor={true}\n                            selectSensor={setSelectedSensor}\n                        />\n                    </div>\n                    {selectedSensor === '' ? null : (\n                        <div className={classes.picker}>\n                            <SelectCommandMenu\n                                type={selectedSensor.type}\n                                selectCommand={setSelectedCommand}\n                                clearEntries={clearEntries}\n                            />\n                        </div>\n                    )}\n                    <SelectRadiusMenu selectRadius={setSelectedRadius}/>\n                    {status.message && (\n                        <>\n                            <small style={{color: status.color}}>{status.message}</small>\n                            <br/>\n                        </>\n                    )}\n                </DialogContent>\n                <DialogActions>\n                    {loading === true ? (\n                        <CircularProgress/>\n                    ) : (\n                        <div>\n                            <Button\n                                className={classes.cancelButton}\n                                variant=\"contained\"\n                                onClick={handleClose}\n                                color=\"primary\"\n                            >\n                                Cancel\n                            </Button>\n                            <Button variant=\"contained\" onClick={addAction} color=\"primary\">\n                                Add Action\n                            </Button>\n                        </div>\n                    )}\n                </DialogActions>\n            </Dialog>\n        </div>\n    );\n}\n","import React, {useEffect} from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport {makeStyles} from '@material-ui/core/styles';\nimport {\n    onLocationServicesReady,\n    areLocationPermissionsAccepted,\n    removeGeoLocationListener\n} from \"../../../utils/Location\"\nimport LocationBasedActionDialog from './LocationBasedActionDialog';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        '& > *': {\n            margin: theme.spacing(1),\n        },\n    },\n}));\n\n\nexport default function EnableLocationServices(props) {\n    const classes = useStyles();\n    const [open, setOpen] = React.useState(true);\n    const [servicesEnabled, setServicesEnabled] = React.useState(null);\n\n    useEffect(() => {\n        areLocationPermissionsAccepted(setServicesEnabled)\n        //\n        // return () => {\n        //     console.log(\"unmounting relay\");\n        //     client.off(\"message\", messageHandler);\n        // };\n    }, []);\n\n    const handleClose = () => {\n        props.closeDialog();\n        setOpen(false);\n    };\n\n\n    const enableServices = () => {\n        onLocationServicesReady(setServicesEnabled)\n        handleClose();\n    };\n    let dialog = null;\n    if (servicesEnabled !== null) {\n        if (servicesEnabled) {\n            // onLocationServicesReady();\n            dialog = (<LocationBasedActionDialog\n                sensors={props.sensors}\n                updateActions={props.updateActions}\n                closeDialog={props.closeDialog}\n            />);\n        } else {\n            removeGeoLocationListener();\n            dialog = (<Dialog\n                open={open}\n                onClose={handleClose}\n            >\n                <DialogTitle>Location-Based Action</DialogTitle>\n                <DialogContent dividers>\n                    When prompted, you must accept all asked permissions in order for the\n                    location services of this app to work. Otherwise this feature will\n                    remain disabled.\n                </DialogContent>\n                <DialogActions>\n                    <Button variant=\"contained\" onClick={enableServices} color=\"primary\">\n                        Enable Location Services\n                    </Button>\n                </DialogActions>\n            </Dialog>);\n        }\n    }\n    return (\n        <div className={classes.root}>\n            {dialog}\n        </div>\n    );\n}\n","import React from 'react';\nimport {makeStyles} from '@material-ui/core/styles';\nimport SpeedDial from '@material-ui/lab/SpeedDial';\nimport SpeedDialIcon from '@material-ui/lab/SpeedDialIcon';\nimport SpeedDialAction from '@material-ui/lab/SpeedDialAction';\nimport TimerIcon from '@material-ui/icons/Timer';\nimport EditLocationIcon from '@material-ui/icons/EditLocation';\nimport BlurCircularIcon from '@material-ui/icons/BlurCircular';\nimport TimerActionDialog from './TimerActions/TimerActionDialog';\nimport SensorBasedActionDialog from './SensorBasedActions/SensorBasedActionDialog';\nimport CloseIcon from '@material-ui/icons/Close';\nimport EnableLocationServices from './LocationBasedActions/EnableLocationServicesDialog';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        position: 'fixed',\n        bottom: theme.spacing(2),\n        right: theme.spacing(2),\n    },\n    speedDial: {\n        position: 'absolute',\n        bottom: theme.spacing(2),\n        right: theme.spacing(2),\n    },\n    action: {\n        margin: theme.spacing(2),\n        backgroundColor: theme.palette.primary.main,\n    },\n}));\n\nexport default function OpenIconSpeedDial(props) {\n    const classes = useStyles();\n    const [open, setOpen] = React.useState(false);\n    const [selectedAction, setSelectedAction] = React.useState(null);\n\n    const handleOpen = () => {\n        setOpen(true);\n    };\n\n    const selectTimerAction = () => {\n        setSelectedAction('timerAction');\n    };\n\n    const selectSensorBasedAction = () => {\n        setSelectedAction('sensorBasedAction');\n    };\n\n    const selectLocationBasedAction = () => {\n        setSelectedAction('locationBasedAction');\n    };\n\n    const closeDialog = () => {\n        setSelectedAction(null);\n    };\n\n    const handleClose = () => {\n        setOpen(false);\n    };\n\n    let dialog = null;\n    switch (selectedAction) {\n        case 'timerAction':\n            dialog = (\n                <TimerActionDialog\n                    sensors={props.sensors}\n                    updateActions={props.updateActions}\n                    closeDialog={closeDialog}\n                />\n            );\n            break;\n        case 'sensorBasedAction':\n            dialog = (\n                <SensorBasedActionDialog\n                    sensors={props.sensors}\n                    updateActions={props.updateActions}\n                    closeDialog={closeDialog}\n                />\n            );\n            break;\n        case 'locationBasedAction':\n            dialog = (\n                <EnableLocationServices\n                    closeDialog={closeDialog}\n                    sensors={props.sensors}\n                    updateActions={props.updateActions}/>)\n            break;\n        default:\n            break;\n    }\n\n    return (\n        <div className={classes.root}>\n            <SpeedDial\n                ariaLabel=\"SpeedDial openIcon\"\n                className={classes.speedDial}\n                icon={<SpeedDialIcon openIcon={<CloseIcon/>}/>}\n                onClose={handleClose}\n                onOpen={handleOpen}\n                open={open}\n            >\n                <SpeedDialAction\n                    className={classes.action}\n                    icon={<BlurCircularIcon/>}\n                    tooltipTitle={'Sensor Based'}\n                    onClick={selectSensorBasedAction}\n                />\n                <SpeedDialAction\n                    className={classes.action}\n                    icon={<EditLocationIcon/>}\n                    tooltipTitle={'Location Based'}\n                    onClick={selectLocationBasedAction}\n                />\n                <SpeedDialAction\n                    className={classes.action}\n                    icon={<TimerIcon/>}\n                    tooltipTitle={'Time Based'}\n                    onClick={selectTimerAction}\n                />\n                {dialog}\n            </SpeedDial>\n        </div>\n    );\n}\n","import React, {useEffect, useState} from \"react\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport ActionCard from \"./ActionCard\";\nimport axios from \"axios\";\nimport NoContentPage from \"../NoContentPage\";\nimport ActionsSpeedDial from \"./ActionsSpeedDial\";\nimport {backendApiUrl} from \"../../utils/Config\";\n\nconst URL = backendApiUrl.server + \"api/actions\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        margin: theme.spacing(1),\n        // padding: theme.spacing(1),\n    },\n}));\n\nexport default function MaterialUIPickers(props) {\n    const classes = useStyles();\n    const [actionData, setActions] = useState({\n        actions: [],\n        isFetching: false,\n    });\n    const [effectUpdate, setEffectUpdate] = useState(null);\n\n    const rerenderOnActionChange = (id) => {\n        setEffectUpdate(id);\n    };\n\n    useEffect(() => {\n        const fetchDevices = async () => {\n            try {\n                setActions({actions: [], isFetching: true});\n                const response = await axios.get(URL);\n                setActions({actions: response.data, isFetching: false});\n            } catch (error) {\n                console.log(error);\n                setActions({actions: [], isFetching: false});\n            }\n        };\n\n        fetchDevices();\n\n        return () => {\n            console.log(\"unmounting actions\");\n        };\n    }, [effectUpdate]);\n\n    return (\n        <div className={classes.root}>\n            {actionData.actions.length !== 0 ? (\n                actionData.actions.map((action) => {\n                    return (\n                        <div className={classes.root} key={action._id}>\n                            <ActionCard\n                                action={action}\n                                updateActions={rerenderOnActionChange}\n                            />\n                        </div>\n                    );\n                })\n            ) : (\n                <NoContentPage displayItem=\"Actions\"/>\n            )}\n            <ActionsSpeedDial\n                sensors={props.sensors}\n                updateActions={rerenderOnActionChange}\n            />\n            {/* <TimerActionDialog\n        sensors={props.sensors}\n        updateActions={rerenderOnActionChange}\n      /> */}\n        </div>\n    );\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Button from \"@material-ui/core/Button\";\nimport { SimpleDialog } from \"./DialogFilterBy\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(1),\n  },\n  title: {\n    flexGrow: 1,\n  },\n}));\n\nexport default function ButtonAppBar(props) {\n  const classes = useStyles();\n  const [openDialog, setOpenDialog] = React.useState({\n    open: false,\n    dialogItems: null,\n  });\n  const [selectedValue, setSelectedValue] = React.useState(undefined);\n\n  const handleClickOpenRooms = () => {\n    setOpenDialog({\n      open: true,\n      dialogItems: {\n        contents: props.rooms,\n        name: \"Rooms\",\n        type: \"room\",\n      },\n    });\n  };\n\n  const handleClickOpenTypes = () => {\n    setOpenDialog({\n      open: true,\n      dialogItems: {\n        contents: props.categories,\n        name: \"Sensor Types\",\n        type: \"sensor-type\",\n      },\n    });\n  };\n\n  const handleClose = (value) => {\n    setOpenDialog({ open: false, dialogItems: null });\n    setSelectedValue(value);\n    if (value) {\n      props.selectItem({ selected: value, type: openDialog.dialogItems.type });\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <AppBar position=\"static\">\n        <Toolbar variant=\"dense\">\n          <Button size=\"small\" onClick={props.showAllSensors} color=\"inherit\">\n            All\n          </Button>\n          <Button size=\"small\" onClick={handleClickOpenRooms} color=\"inherit\">\n            Rooms\n          </Button>\n          <Button size=\"small\" onClick={handleClickOpenTypes} color=\"inherit\">\n            Types\n          </Button>\n        </Toolbar>\n      </AppBar>\n      {openDialog.dialogItems !== null ? (\n        <SimpleDialog\n          name={openDialog.dialogItems.name}\n          type={openDialog.dialogItems.type}\n          contents={openDialog.dialogItems.contents}\n          selectedValue={selectedValue}\n          open={openDialog.open}\n          onClose={handleClose}\n        />\n      ) : null}\n    </div>\n  );\n}\n","import React from \"react\";\nimport clsx from \"clsx\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport Box from \"@material-ui/core/Box\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport List from \"@material-ui/core/List\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Divider from \"@material-ui/core/Divider\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Container from \"@material-ui/core/Container\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\";\nimport Button from \"@material-ui/core/Button\";\nimport { getUser, removeUserSession } from \"../utils/Common\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport Sensors from \"./Sensors/Sensors\";\nimport DashboardIcon from \"@material-ui/icons/Dashboard\";\nimport AssignmentIcon from \"@material-ui/icons/Assignment\";\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\nimport Dialog from \"./DialogFilterBy\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { withRouter } from \"react-router-dom\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport Link from \"@material-ui/core/Link\";\nimport Actions from \"./Actions/Actions\";\nimport MenuBar from \"./MenuBar\";\nimport {FILE_PATH} from \"../utils/CordovaGlobals\";\n\nfunction Copyright() {\n  return (\n    <Typography variant=\"body2\" color=\"textPrimary\" align=\"center\">\n      {\"Copyright Â© \"}\n      {\"Home Automation \"}\n      {new Date().getFullYear()}\n      {\".\"}\n    </Typography>\n  );\n}\n\nconst drawerWidth = 200;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n  },\n  toolbar: {\n    paddingRight: 24, // keep right padding when drawer closed\n  },\n  toolbarIcon: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"flex-end\",\n    padding: \"0 8px\",\n    ...theme.mixins.toolbar,\n  },\n  appBar: {\n    backgroundColor: theme.palette.secondary.main,\n    zIndex: theme.zIndex.drawer + 1,\n    transition: theme.transitions.create([\"width\", \"margin\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  appBarShift: {\n    marginLeft: drawerWidth,\n    width: `calc(100% - ${drawerWidth}px)`,\n    transition: theme.transitions.create([\"width\", \"margin\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  menuButton: {\n    marginRight: 36,\n  },\n  menuButtonHidden: {\n    display: \"none\",\n  },\n  title: {\n    flexGrow: 1,\n    paddingTop: 5,\n  },\n  drawerPaper: {\n    position: \"relative\",\n    whiteSpace: \"nowrap\",\n    width: drawerWidth,\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  drawerPaperClose: {\n    overflowX: \"hidden\",\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    width: theme.spacing(7),\n    [theme.breakpoints.down(\"sm\")]: {\n      width: theme.spacing(0),\n    },\n  },\n  appBarSpacer: theme.mixins.toolbar,\n  content: {\n    // backgroundColor: \"#fcf4e3\",\n    flexGrow: 1,\n    height: \"100vh\",\n    overflow: \"auto\",\n  },\n  container: {\n    paddingTop: theme.spacing(4),\n    paddingBottom: theme.spacing(4),\n  },\n  paper: {\n    padding: theme.spacing(1),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n    borderRadius: \"10px\",\n    backgroundColor: theme.palette.secondary.main,\n  },\n  primaryAction: {\n    borderRadius: \"10px\",\n    [theme.breakpoints.down(\"sm\")]: {\n      display: \"none\",\n    },\n  },\n  dashBoardLabel: {\n    // display: \"inline\",\n    // paddingTop: 3,\n    // paddingBottom: 3,\n    // padding: theme.spacing(1),\n    // paddingRight: theme.spacing(1),\n    // color: \"white\",\n    // backgroundColor: theme.palette.primary.main,\n    // borderRadius: \"10px\",\n  },\n\n  currentTab: {\n    textAlign: \"center\",\n    // borderBottom: `5pxsolid ${theme.palette.secondary.main}`,\n    // width: \"60vh\",\n    // margin: \"0 auto\",\n    marginTop: theme.spacing(2),\n  },\n  hiMessage: {\n    marginRight: theme.spacing(2),\n  },\n  behindBackground: {\n    backgroundImage: `url(${FILE_PATH}/static/media/home-automation4.cc5ee920.svg)`,\n    backgroundPosition: \"center\",\n    backgroundSize: \"cover\",\n    backgroundRepeat: \"no-repeat\",\n    width: \"100vw\",\n    height: \"100vh\",\n  },\n}));\n\nfunction Dashboard(props) {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n  const [selectedItem, selectItem] = React.useState({\n    selected: \"All\",\n    type: \"all\",\n  });\n\n  // handle click event of logout button\n  const handleLogout = () => {\n    // const mqttClient = mqttService.getClient();\n    // mqttService.closeConnection(mqttClient);\n    removeUserSession();\n    props.history.push(\"/login\");\n  };\n\n  const handleDrawerOpen = () => {\n    setOpen(true);\n  };\n  const handleDrawerClose = () => {\n    setOpen(false);\n  };\n\n  const handleAllButton = () => {\n    selectItem({\n      selected: \"All\",\n      type: \"all\",\n    });\n  };\n\n  const showActions = () => {\n    selectItem({\n      selected: \"Actions\",\n      type: \"actions\",\n    });\n  };\n\n  let currentlyDisplayedItem = {\n    tab: \"All\",\n    content: null,\n  };\n  switch (selectedItem.type) {\n    case \"room\":\n      currentlyDisplayedItem.tab = \"Room\";\n      currentlyDisplayedItem.content = selectedItem.selected;\n      break;\n    case \"sensor-type\":\n      currentlyDisplayedItem.tab = \"Sensor Type\";\n      currentlyDisplayedItem.content = selectedItem.selected;\n      break;\n    case \"actions\":\n      currentlyDisplayedItem.tab = \"Actions\";\n      currentlyDisplayedItem.content = null;\n      break;\n    default:\n      currentlyDisplayedItem.tab = \"All\";\n      currentlyDisplayedItem.content = null;\n      break;\n  }\n  const rooms = [...new Set(props.sensors.map((sensor) => sensor.room))];\n  const categories = [...new Set(props.sensors.map((sensor) => sensor.type))];\n  const user = getUser();\n  return (\n    <div className={classes.root}>\n      <CssBaseline />\n      <AppBar\n        position=\"absolute\"\n        className={clsx(classes.appBar, open && classes.appBarShift)}\n      >\n        <Toolbar className={classes.toolbar}>\n          <IconButton\n            edge=\"start\"\n            color=\"inherit\"\n            aria-label=\"open drawer\"\n            onClick={handleDrawerOpen}\n            className={clsx(\n              classes.menuButton,\n              open && classes.menuButtonHidden\n            )}\n          >\n            <MenuIcon />\n          </IconButton>\n          <div className={classes.title}>\n            <Link\n              href=\"/\"\n              component={RouterLink}\n              to=\"/\"\n              color=\"primary\"\n              underline=\"none\"\n              variant=\"h5\"\n            >\n              {<img src={`${FILE_PATH}/static/media/home-automation.1ec2cf5b.svg`} alt=\"\" height={50} />}\n            </Link>\n          </div>\n\n          <Typography variant=\"body2\" className={classes.hiMessage}>\n            {\"Hi, \"}\n            {user.name}\n          </Typography>\n          <Button\n            variant=\"contained\"\n            className={classes.primaryAction}\n            onClick={handleLogout}\n            color=\"primary\"\n          >\n            Log Out\n          </Button>\n        </Toolbar>\n      </AppBar>\n\n      <Drawer\n        variant=\"temporary\"\n        classes={{\n          paper: clsx(classes.drawerPaper, !open && classes.drawerPaperClose),\n        }}\n        open={open}\n        onClose={handleDrawerClose}\n      >\n        <div className={classes.toolbarIcon}>\n          <IconButton onClick={handleDrawerClose}>\n            <ChevronLeftIcon />\n          </IconButton>\n        </div>\n        <Divider />\n        <List>\n          <ListItem button onClick={handleAllButton}>\n            <ListItemIcon>\n              <DashboardIcon color=\"primary\" />\n            </ListItemIcon>\n            <ListItemText primary=\"All\" />\n          </ListItem>\n          <Dialog\n            contents={rooms}\n            selectItem={selectItem}\n            name=\"Rooms\"\n            type=\"room\"\n          />\n          <Dialog\n            contents={categories}\n            selectItem={selectItem}\n            name=\"Sensor Types\"\n            type=\"sensor-type\"\n          />\n        </List>\n        <Divider />\n        <List>\n          <ListItem button onClick={showActions}>\n            <ListItemIcon>\n              <AssignmentIcon color=\"primary\" />\n            </ListItemIcon>\n            <ListItemText primary=\"Actions\" />\n          </ListItem>\n\n          <ListItem button onClick={handleLogout}>\n            <ListItemIcon>\n              <ExitToAppIcon color=\"primary\" />\n            </ListItemIcon>\n            <ListItemText primary=\"Log Out\" />\n          </ListItem>\n        </List>\n      </Drawer>\n      <div className={classes.behindBackground}>\n        <main className={classes.content}>\n          <div className={classes.appBarSpacer} />\n          <MenuBar\n            selectItem={selectItem}\n            rooms={rooms}\n            categories={categories}\n            showAllSensors={handleAllButton}\n          />\n          <div className={classes.currentTab}>\n            <Typography\n              variant=\"h5\"\n              gutterBottom\n              className={classes.dashBoardLabel}\n            >\n              Dashboard\n            </Typography>\n            <Typography variant=\"h6\">\n              {currentlyDisplayedItem.tab}\n              {currentlyDisplayedItem.tab === \"All\" ||\n              currentlyDisplayedItem.tab === \"Actions\"\n                ? null\n                : \" | \"}\n              {currentlyDisplayedItem.content}\n            </Typography>\n          </div>\n          <Container maxWidth=\"lg\" className={classes.container}>\n            {selectedItem.selected === \"Actions\" ? (\n              <div>\n                <Paper className={classes.paper} elevation={10}>\n                  <Actions sensors={props.sensors} />\n                </Paper>\n              </div>\n            ) : (\n              <Sensors\n                sensors={props.sensors}\n                filtered={selectedItem.type}\n                selected={selectedItem.selected}\n              />\n            )}\n            <Box pt={4}>\n              <Copyright />\n            </Box>\n          </Container>\n        </main>\n      </div>\n    </div>\n  );\n}\n\nexport default withRouter(Dashboard);\n","import axios from \"axios\";\nimport mqttService from \"../utils/MQTT\";\nimport React, {useEffect, useState, useRef} from \"react\";\nimport AlertMessage from \"./AlertMessage\";\nimport Dashboard from \"./Dashboard\";\nimport {backendApiUrl} from \"../utils/Config\";\n\nconst URL = backendApiUrl.server + \"api/activeSensors\";\n\nconst FetcherÎœQTT = () => {\n    const [data, setData] = useState({sensors: []});\n    const dataRef = useRef(data);\n\n    useEffect(() => {\n        const fetchDevices = async () => {\n            try {\n                // setData({ sensors: data.sensors, isFetching: true });\n                const response = await axios.get(URL);\n                setData({sensors: response.data});\n\n                dataRef.current = {sensors: response.data};\n\n                for (const sensor of response.data) {\n                    mqttService.subscribe(client, sensor.pubTopic);\n                }\n            } catch (error) {\n                console.log(error);\n                setData({sensors: []});\n            }\n        };\n\n        fetchDevices();\n\n        const client = mqttService.getClient();\n        console.log(client);\n\n        const messageHandler = (topic, payload, packet) => {\n            console.log(payload.toString(), topic);\n\n            if (topic === \"browser\") {\n                const infoObj = JSON.parse(payload.toString());\n                if (infoObj.action === \"disconnected\") {\n                    const newData = {\n                        sensors: dataRef.current.sensors.filter((sensor) => {\n                            if (sensor.deviceId === infoObj.deviceId) {\n                                mqttService.unsubscribe(client, sensor.pubTopic);\n                            }\n                            return sensor.deviceId !== infoObj.deviceId;\n                        }),\n                        alertMessage: {\n                            device: infoObj.deviceId,\n                            reason: infoObj.action,\n                        },\n                    };\n                    dataRef.current = newData;\n                    setData(newData);\n                } else if (infoObj.action === \"connected\") {\n                    const existingSensor = dataRef.current.sensors.find(\n                        (el) => el.deviceId === infoObj.newSensors[0].deviceId\n                    );\n                    if (existingSensor) {\n                        console.log(\"Exists!!! No action taken!\");\n                        return;\n                    } else {\n                        const newData = {\n                            sensors: dataRef.current.sensors.concat(infoObj.newSensors),\n                            alertMessage: {\n                                // show: true,\n                                device: infoObj.newSensors[0].deviceId,\n                                reason: infoObj.action,\n                            },\n                        };\n                        for (const sensor of infoObj.newSensors) {\n                            mqttService.subscribe(client, sensor.pubTopic);\n                        }\n                        dataRef.current = newData;\n                        setData(newData);\n                    }\n                } else if (infoObj.action === \"action\") {\n                    console.log(infoObj);\n                    const newData = {\n                        sensors: dataRef.current.sensors,\n                        alertMessage: {\n                            reason: infoObj.action,\n                            actionCategory: infoObj.actionInfo.actionCategory,\n                            command: infoObj.actionInfo.command,\n                            roomName: infoObj.actionInfo.roomName,\n                            sensorType: infoObj.actionInfo.sensorType,\n                        },\n                    };\n                    dataRef.current = newData;\n                    setData(newData);\n                }\n                return;\n            }\n        };\n\n        client.on(\"message\", messageHandler);\n\n        return () => {\n            console.log(\"Dashboard was unmounted!\");\n            client.off(\"message\", messageHandler);\n        };\n    }, []);\n\n    return (\n        <div>\n            <AlertMessage alertMessage={data.alertMessage}/>\n            <Dashboard sensors={data.sensors} alertMessage={data.alertMessage}/>\n        </div>\n    );\n};\n\nexport default FetcherÎœQTT;\n","export default __webpack_public_path__ + \"static/media/brightness.f2162df0.svg\";","export default __webpack_public_path__ + \"static/media/lightbulb-open2.d67991f2.svg\";","export default __webpack_public_path__ + \"static/media/lightbulb-closed2.909d2ca0.svg\";","export default __webpack_public_path__ + \"static/media/thermometer.26bec6cd.svg\";","export default __webpack_public_path__ + \"static/media/humidity.41d15f93.svg\";","export default __webpack_public_path__ + \"static/media/average.9152ffbf.svg\";","export default __webpack_public_path__ + \"static/media/not-found.cd5a9b2a.svg\";","export default __webpack_public_path__ + \"static/media/home-automation4.cc5ee920.svg\";","export default __webpack_public_path__ + \"static/media/home-automation.1ec2cf5b.svg\";","export default __webpack_public_path__ + \"static/media/home-automation3.2481b425.svg\";","export default __webpack_public_path__ + \"static/media/home-location.cc2515ec.svg\";","export default __webpack_public_path__ + \"static/media/no-motion.de1b03d8.svg\";","export default __webpack_public_path__ + \"static/media/motion.8d3d8610.svg\";","import \"./App.css\";\nimport React, { useEffect, useState } from \"react\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\n\nimport { Switch } from \"react-router-dom\";\nimport Login from \"./components/Login\";\nimport PrivateRoute from \"./utils/PrivateRoute\";\nimport PublicRoute from \"./utils/PublicRoute\";\nimport { getToken, removeUserSession, setUserSession } from \"./utils/Common\";\nimport axios from 'axios';\nimport FetcherMQTT from \"./components/FetcherMQTT\";\nimport AssetImages from \"./utils/AssetImages\"\nfunction App() {\n  const [authLoading, setAuthLoading] = useState(true);\n\n  useEffect(() => {\n    const token = getToken();\n    if (!token) {\n      return;\n    }\n\n    axios\n      .get(`http://localhost:5000/api/verifyToken?token=${token}`)\n      .then((response) => {\n        setUserSession(response.data.token, response.data.user);\n        setAuthLoading(false);\n      })\n      .catch((error) => {\n        alert(error);\n        removeUserSession();\n        setAuthLoading(false);\n      });\n  }, []);\n\n  if (authLoading && getToken()) {\n    return <div className=\"content\">Checking Authentication...</div>;\n  }\n  return (\n    <Router>\n      <Switch>\n        {/* <Route exact path=\"/\" component={Home} /> */}\n\n        <PrivateRoute path=\"/dashboard\" component={FetcherMQTT} />\n        <PublicRoute path=\"/\" component={Login} />\n      </Switch>\n    </Router>\n  );\n}\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { createMuiTheme } from '@material-ui/core/styles';\n\nconst theme = createMuiTheme({\n    \"palette\": {\n        \"background\": {\n            \"default\": \"#FFF\",\n            \"emphasis\": \"#E8EAF6\",\n            \"secondary\": \"#C5CAE9\",\n            \"header\": \"#121037\"\n        },\n        \"text\": {\n            \"primary\": \"#615f5d\",\n            \"secondary\": \"#999693\",\n            \"hint\": \"#ccc8c4\",\n            \"whiteText\": \"white\"\n        },\n        \"primary\": {\n            // \"main\": \"#2ca6d7\",\n            \"main\": \"#383838\",\n            \"light\": \"#333333\",\n            \"dark\": \"#545454\"\n        },\n        \"secondary\": {\n            \"main\": \"#b09058\",\n            // \"main\": \"#737373\",\n            \"light\": \"#deb66f\",\n            \"dark\": \"#9c7f4e\"\n        },\n        \"contrastThreshold\": 1.8\n    },\n    // \"shadows\": [\n    //     \"none\",\n    //     \"none\",\n    //     \"none\",\n    //     \"none\",\n    //     \"none\",\n    //     \"none\",\n    //     \"none\",\n    //     \"none\",\n    //     \"none\",\n    //     \"none\",\n    //     \"none\",\n    //     \"none\",\n    //     \"none\",\n    //     \"none\",\n    //     \"none\",\n    //     \"none\",\n    //     \"none\",\n    //     \"none\",\n    //     \"none\",\n    //     \"none\",\n    //     \"none\",\n    //     \"none\",\n    //     \"none\",\n    //     \"none\",\n    //     \"none\"\n    // ]\n});\n\nexport default theme;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport { ThemeProvider } from '@material-ui/core/styles';\nimport theme from './theme/theme';\n// import Location from \"./utils/Location\"\n\nconst renderReactDom = () => {\n  ReactDOM.render(\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <App />\n    </ThemeProvider>,\n    document.getElementById('root')\n  );\n};\n\nif (window.cordova) {\n  document.addEventListener('deviceready', () => {\n      renderReactDom();\n  }, false);\n} else {\n  renderReactDom();\n}\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}