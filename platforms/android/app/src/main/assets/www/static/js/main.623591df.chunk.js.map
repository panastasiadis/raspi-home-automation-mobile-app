{"version":3,"sources":["utils/Common.js","utils/CordovaGlobals.js","utils/Config.js","components/Login.js","utils/PrivateRoute.js","utils/PublicRoute.js","utils/MQTT.js","utils/SensorSpecific.js","components/AlertMessage.js","components/Sensors/RelayCard.js","components/Sensors/LightIntensityCard.js","components/Sensors/TemperatureHumidityCard.js","components/Sensors/Sensor.js","components/NoContentPage.js","components/Sensors/Sensors.js","components/DialogFilterBy.js","components/Actions/common/DeleteActionDialog.js","components/Actions/TimerActions/TimerActionAccordionDetails.js","components/Actions/SensorBasedActions/SensorBasedAccordionDetails.js","components/Actions/LocationBasedActions/LocationActionAccordionDetails.js","components/Actions/ActionCard.js","components/Actions/common/SelectSensorMenu.js","components/Actions/common/SelectCommandMenu.js","components/Actions/TimerActions/SelectRepeatMenu.js","components/Actions/TimerActions/TimerActionDialog.js","components/Actions/SensorBasedActions/SelectComparedQuantityMenu.js","components/Actions/SensorBasedActions/SelectMeasurementTypeMenu.js","components/Actions/SensorBasedActions/SensorBasedActionDialog.js","utils/Location.js","components/Actions/LocationBasedActions/SelectRadiusMenu.js","components/Actions/LocationBasedActions/LocationBasedActionDialog.js","components/Actions/LocationBasedActions/EnableLocationServicesDialog.js","components/Actions/ActionsSpeedDial.js","components/Actions/Actions.js","components/MenuBar.js","components/Dashboard.js","components/FetcherMQTT.js","assets/brightness.svg","assets/lightbulb-open2.svg","assets/lightbulb-closed2.svg","assets/thermometer.svg","assets/humidity.svg","assets/average.svg","assets/not-found.svg","assets/home-automation4.svg","assets/home-automation.svg","assets/home-automation3.svg","assets/home-location.svg","App.js","reportWebVitals.js","theme/theme.js","index.js"],"names":["getToken","sessionStorage","getItem","removeUserSession","removeItem","setUserSession","token","user","setItem","JSON","stringify","FILE_PATH","document","addEventListener","window","cordova","file","applicationDirectory","backendApiUrl","Copyright","Typography","variant","color","align","Date","getFullYear","useStyles","makeStyles","theme","root","height","image","backgroundImage","backgroundRepeat","backgroundColor","palette","type","grey","backgroundSize","backgroundPosition","paper","margin","spacing","display","flexDirection","alignItems","avatar","secondary","main","form","width","marginTop","submit","SignInSide","props","classes","username","useFormInput","password","useState","error","setError","setLoading","Grid","container","component","className","CssBaseline","item","xs","sm","md","Paper","elevation","square","Avatar","noValidate","TextField","required","fullWidth","id","label","name","autoComplete","autoFocus","onChange","style","Button","onClick","axios","post","value","then","response","data","history","push","catch","console","log","alert","status","message","Box","mt","initialValue","setValue","e","target","PrivateRoute","Component","rest","render","to","pathname","state","from","location","PublicRoute","client","websocketUrl","clientId","Math","random","toString","substr","options","keepalive","protocolId","protocolVersion","clean","reconnectPeriod","connectTimeout","will","topic","payload","qos","retain","rejectUnauthorized","mqttService","getClient","mqtt","connect","subscribe","on","err","end","publishMessage","publish","granted","onMessage","callBack","packet","unsubscribe","closeConnection","undefined","extractMqttTopicInfo","mqttTopic","splitStr","split","room","deviceId","sensorName","SENSOR_TYPE","commandsByType","command","description","commandOnFailure","getMeasurementUnitsName","measurementName","Alert","AlertMessage","device","reason","severity","notificationMessage","alertMessage","open","setOpen","handleClose","event","useEffect","actionMessage","actionsByType","sensorType","actionCategory","roomName","Snackbar","onClose","autoHideDuration","anchorOrigin","vertical","horizontal","borderRadius","flexWrap","justifyContent","info","flexGrow","deviceInfoIndividual","paddingLeft","paddingRight","divContent","padding","imageLightOpen","imageLightClosed","currentState","onOff","marginLeft","borderStyle","borderColor","roomInfo","primary","circularProgress","OutlinedCard","relayState","setRelayState","switchValue","spinner","disabled","spinnerState","setSpinnerState","messageHandler","off","CircularProgress","Switch","ev","checked","progressBar","textAlign","brightnessIcon","degrees","fontWeight","CircularProgressWithLabel","position","size","top","left","bottom","right","round","brightness","percentage","currBrightness","setCurrBrightness","React","luxStr","luxPercentage","parseFloat","imageTemperature","imageHumidity","imageAverage","tempHum","averageMeasurementsDiv","avgTemp","avgHum","isFetching","averageData","setAverageData","temperature","humidity","currTempHum","setCurrTempHum","displayedAvg","a","get","total","measurementBucket","temperaturesSum","humiditiesSum","measurementsCounter","length","fetchDevices","overflow","title","roomTitle","SensorGridItem","sensor","lg","pubTopic","commandTopic","divNoContent","NoContentPage","gutterBottom","displayItem","Sensors","sensors","filtered","filter","selected","justify","map","dialogPaper","emptyContentLabel","SimpleDialog","Dialog","aria-labelledby","DialogTitle","contents","List","ListItem","button","ListItemAvatar","ListItemText","SimpleDialogDemo","selectedValue","setSelectedValue","ListItemIcon","selectItem","ResponsiveDialog","IconButton","DialogContent","DialogContentText","DialogActions","delete","action","_id","updateActions","accordionContent","timeInfoIndividual","dateLabel","TimerActionContent","date","toLocaleString","recurrenceMessage","whenDescription","whenSensorDescription","labelDynamicContent","marginRight","deviceInfo","breakpoints","down","measurementType","toLowerCase","comparisonType","quantity","measurementSensorType","measurementRoomName","measurementSensorName","measurementDeviceId","radiusMeters","LocationActionContent","src","alt","radius","fontSize","typography","pxToRem","flexShrink","headingCommand","heading","secondaryHeading","text","summary","deleteButton","ActionCard","expanded","setExpanded","details","recurrenceNumber","recurrenceTimeUnit","startTime","panel","commandDescription","registrationDate","Accordion","isExpanded","AccordionSummary","expandIcon","aria-controls","AccordionDetails","Divider","formControl","minWidth","maxWidth","menuItem","ControlledOpenSelect","selectedSensor","setSelectedSensor","filteredSensors","isCommandSensor","FormControl","InputLabel","Select","labelId","onOpen","selectSensor","MenuItem","CommandMenu","selectedCommand","setSelectedCommand","commandsArray","selectCommand","el","index","BootstrapInput","withStyles","input","background","border","transition","transitions","create","InputBase","CustomizedSelects","recurrence","setRecurrence","timeUnits","setTimeUnits","focused","htmlFor","selectRecurrence","selectTimeUnits","extendedIcon","fab","picker","cancelButton","TimerActionDialog","selectedDate","setSelectedDate","selectedRecurrence","setSelectedRecurrence","selectedTimeUnits","setSelectedTimeUnits","setStatus","loading","handleDateChange","closeDialog","disableBackdropClick","disableEscapeKeyDown","dividers","utils","DateFnsUtils","format","KeyboardButtonProps","now","timestamp","setQuantity","comparison","setComparison","selectComparison","selectQuantity","MeasurementTypesMenu","selectedType","setSelectedType","measurementTypes","getMeasurementNamesByType","selectMeasurementType","wrapDiv","marginBottom","SensorBasedActionDialog","selectedWhenSensor","setSelectedWhenSensor","selectedCommandSensor","setSelectedCommandSensor","selectedMeasurementType","setSelectedMeasurementType","selectedQuantity","setSelectedQuantity","selectedComparisonType","setSelectedComparisonType","onLocationServicesReady","callback","BackgroundGeolocation","configure","locationProvider","ACTIVITY_PROVIDER","desiredAccuracy","HIGH_ACCURACY","stationaryRadius","distanceFilter","notificationTitle","notificationText","debug","interval","fastestInterval","activitiesInterval","url","httpHeaders","postTemplate","lat","lon","startTask","taskKey","endTask","stationaryLocation","code","AUTHORIZED","setTimeout","confirm","showAppSettings","checkStatus","isRunning","locationServicesEnabled","authorization","start","removeAllListeners","paddingTop","setRadius","selectRadius","selectedRadius","setSelectedRadius","EnableLocationServices","servicesEnabled","setServicesEnabled","dialog","speedDial","OpenIconSpeedDial","selectedAction","setSelectedAction","SpeedDial","ariaLabel","icon","SpeedDialIcon","openIcon","SpeedDialAction","tooltipTitle","URL","MaterialUIPickers","actions","actionData","setActions","effectUpdate","setEffectUpdate","rerenderOnActionChange","menuButton","ButtonAppBar","dialogItems","openDialog","setOpenDialog","AppBar","Toolbar","showAllSensors","rooms","categories","toolbar","toolbarIcon","mixins","appBar","zIndex","drawer","easing","sharp","duration","leavingScreen","appBarShift","enteringScreen","menuButtonHidden","drawerPaper","whiteSpace","drawerPaperClose","overflowX","appBarSpacer","content","paddingBottom","primaryAction","dashBoardLabel","currentTab","hiMessage","behindBackground","withRouter","selectedItem","handleLogout","handleDrawerClose","handleAllButton","currentlyDisplayedItem","tab","Set","userStr","parse","getUser","clsx","edge","aria-label","Link","href","RouterLink","underline","Drawer","Container","pt","FetcherÎœQTT","setData","dataRef","useRef","current","infoObj","newData","find","newSensors","concat","actionInfo","App","authLoading","setAuthLoading","path","FetcherMQTT","Login","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","createMuiTheme","renderReactDom","ReactDOM","ThemeProvider","getElementById"],"mappings":"4fAWaA,EAAW,WACtB,OAAOC,eAAeC,QAAQ,UAAY,MAI/BC,EAAoB,WAC/BF,eAAeG,WAAW,SAC1BH,eAAeG,WAAW,SAIfC,EAAiB,SAACC,EAAOC,GACpCN,eAAeO,QAAQ,QAASF,GAChCL,eAAeO,QAAQ,OAAQC,KAAKC,UAAUH,KCxB5CI,EAAY,GAEhBC,SAASC,iBAAiB,eAAe,WACrCF,EAAS,UAAMG,OAAOC,QAAQC,KAAKC,qBAA1B,UACV,GCJI,IAAMC,EACH,4BADGA,EAEP,2BCcN,SAASC,IACP,OACE,eAACC,EAAA,EAAD,CAAYC,QAAQ,QAAQC,MAAM,gBAAgBC,MAAM,SAAxD,UACG,kBACA,oBACA,IAAIC,MAAOC,cACX,OAKP,IAAMC,EAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACJC,OAAQ,SAEVC,MAAO,CACLC,gBAAgB,OAAD,OAASrB,EAAT,gDACfsB,iBAAkB,YAClBC,gBACyB,UAAvBN,EAAMO,QAAQC,KACVR,EAAMO,QAAQE,KAAK,IACnBT,EAAMO,QAAQE,KAAK,KACzBC,eAAgB,QAChBC,mBAAoB,UAEtBC,MAAO,CACLC,OAAQb,EAAMc,QAAQ,EAAG,GACzBC,QAAS,OACTC,cAAe,SACfC,WAAY,UAEdC,OAAQ,CACNL,OAAQb,EAAMc,QAAQ,GACtBR,gBAAiBN,EAAMO,QAAQY,UAAUC,MAE3CC,KAAM,CACJC,MAAO,OACPC,UAAWvB,EAAMc,QAAQ,IAE3BU,OAAQ,CACNX,OAAQb,EAAMc,QAAQ,EAAG,EAAG,QAIjB,SAASW,EAAWC,GACjC,IAAMC,EAAU7B,IACV8B,EAAWC,EAAa,IACxBC,EAAWD,EAAa,IAHU,EAKdE,mBAAS,MALK,mBAKjCC,EALiC,KAK1BC,EAL0B,OAMVF,oBAAS,GANC,mBAMxBG,GANwB,WAqCxC,OACE,eAACC,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,OAAOC,UAAWX,EAAQ1B,KAApD,UACE,cAACsC,EAAA,EAAD,IACA,cAACJ,EAAA,EAAD,CAAMK,MAAI,EAACC,IAAI,EAAOC,GAAI,EAAGC,GAAI,EAAGL,UAAWX,EAAQxB,QACvD,cAACgC,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAGC,GAAI,EAAGN,UAAWO,IAAOC,UAAW,EAAGC,QAAM,EAAvE,SACE,sBAAKR,UAAWX,EAAQf,MAAxB,UACE,cAACmC,EAAA,EAAD,CAAQT,UAAWX,EAAQT,OAA3B,SACE,cAAC,IAAD,MAEF,cAAC1B,EAAA,EAAD,CAAY6C,UAAU,KAAK5C,QAAQ,KAAnC,qBAGA,uBAAM6C,UAAWX,EAAQN,KAAM2B,YAAU,EAAzC,UACE,cAACC,EAAA,EAAD,CACExD,QAAQ,SACRC,MAAM,YACNmB,OAAO,SACPqC,UAAQ,EACRC,WAAS,EACTC,GAAG,WACHC,MAAM,WACNC,KAAK,WACLC,aAAa,WACbC,WAAS,EACTC,SAAU7B,EAAS6B,WAErB,cAACR,EAAA,EAAD,CACExD,QAAQ,SACRC,MAAM,YACNmB,OAAO,SACPqC,UAAQ,EACRC,WAAS,EACTG,KAAK,WACLD,MAAM,WACN7C,KAAK,WACL4C,GAAG,WACHG,aAAa,mBACbE,SAAU3B,EAAS2B,WAEpBzB,GACC,qCACE,uBAAO0B,MAAO,CAAEhE,MAAO,OAAvB,SAAiCsC,IACjC,0BAGJ,cAAC2B,EAAA,EAAD,CACEnD,KAAK,SACL2C,WAAS,EACT1D,QAAQ,YACRC,MAAM,UACN4C,UAAWX,EAAQH,OACnBoC,QA/EQ,WAClB3B,EAAS,MACTC,GAAW,GAEX2B,IACGC,KAAKxE,EAAuB,mBAAoB,CAC/CsC,SAAUA,EAASmC,MACnBjC,SAAUA,EAASiC,QAEpBC,MAAK,SAACC,GACL/B,GAAW,GACXzD,EAAewF,EAASC,KAAKxF,MAAOuF,EAASC,KAAKvF,MAClD+C,EAAMyC,QAAQC,KAAK,iBAEpBC,OAAM,SAACrC,GACNsC,QAAQC,IAAIvC,GACZsC,QAAQC,IAAIvC,EAAMiC,UAElBO,MAAMxC,GACNE,GAAW,GACPF,EAAMiC,SACsB,MAA1BjC,EAAMiC,SAASQ,QAA4C,MAA1BzC,EAAMiC,SAASQ,QAClDxC,EAASD,EAAMiC,SAASC,KAAKQ,SAE1BzC,EAAS,qDAiDZ,qBAUA,cAAC0C,EAAA,EAAD,CAAKC,GAAI,EAAT,SACE,cAACrF,EAAD,iBASd,IAAMsC,EAAe,SAACgD,GAAkB,IAAD,EACX9C,mBAAS8C,GADE,mBAC9Bd,EAD8B,KACvBe,EADuB,KAMrC,MAAO,CACLf,QACAN,SALmB,SAACsB,GACpBD,EAASC,EAAEC,OAAOjB,U,iBCxJPkB,MATf,YAA0D,IAAvBC,EAAsB,EAAjC7C,UAAyB8C,EAAQ,6BACvD,OACE,cAAC,IAAD,2BACMA,GADN,IAEEC,OAAQ,SAAC1D,GAAD,OAAWtD,IAAa,cAAC8G,EAAD,eAAexD,IAAY,cAAC,IAAD,CAAU2D,GAAI,CAAEC,SAAU,IAAKC,MAAO,CAAEC,KAAM9D,EAAM+D,kBCWtGC,ICfXC,EDeWD,EAff,YAAyD,IAAvBR,EAAsB,EAAjC7C,UAAyB8C,EAAQ,6BACtD,OACE,cAAC,IAAD,2BACMA,GADN,IAEEC,OAAQ,SAAC1D,GAAD,OACLtD,IAGC,cAAC,IAAD,CAAUiH,GAAI,CAAEC,SAAU,gBAF1B,cAACJ,EAAD,eAAexD,S,oDCRnBkE,EAAetG,EACfuG,EAAW,iBAAmBC,KAAKC,SAASC,SAAS,IAAIC,OAAO,EAAG,GAGrEC,EAAU,CACZC,UAAW,GACXN,SAAUA,EACVO,WAAY,OACZC,gBAAiB,EACjBC,OAAO,EACPC,gBAAiB,IACjBC,eAAgB,IAChBC,KAAM,CACJC,MAAO,UACPC,QAAS,kCACTC,IAAK,EACLC,QAAQ,GAEVC,oBAAoB,GA+EPC,EAVK,CAClBC,UAnDgB,WAIhB,OAHKrB,KAhBLA,EAASsB,IAAKC,QAAQtB,EAAcM,IAE7BiB,UAAU,WAEjBxB,EAAOyB,GAAG,SAAS,SAACC,GAClB/C,QAAQC,IAAR,wBAA6BqB,EAA7B,WAAoDyB,GACpD1B,EAAO2B,SAGT3B,EAAOyB,GAAG,SAAS,WACjB9C,QAAQC,IAAIsB,EAAW,qBASlBF,GAgDP4B,eArCqB,SAAC5B,EAAQe,EAAOhC,GACrCiB,EAAO6B,QAAQd,EAAOhC,IAqCtByC,UAlCgB,SAACxB,EAAQe,GAMzB,OAAOf,EAAOwB,UAAUT,GALP,SAACW,EAAKI,GACjBJ,GACF/C,QAAQC,IAAI,mCAgChBmD,UA/CgB,SAAC/B,EAAQgC,GACzBhC,EAAOyB,GAAG,WAAW,SAACV,EAAOhC,EAASkD,GACpCtD,QAAQC,IAAIG,EAAQsB,WAAYU,GAEhCiB,EAAShC,EAAQe,EAAOhC,OA4C1BmD,YA3BkB,SAAClC,EAAQe,GAC3Bf,EAAOkC,YAAYnB,IA2BnBoB,gBAxBsB,SAACnC,GACvBA,EAAO2B,MACP3B,OAASoC,GAuBTC,qBApB2B,SAACC,GAC5B,IAAMC,EAAWD,EAAUE,MAAM,KADS,cAGCD,EAHD,GAK1C,MAAO,CACLE,KANwC,KAOxCC,SAPwC,KAQxC7H,KARwC,KASxC8H,WATwC,Q,kBC7E/BC,EACM,YADNA,EAEW,uBAFXA,EAGM,kBAqBNC,GAAiB,SAAChI,EAAMiI,GACnC,OAAQjI,GACN,KAAK+H,EACH,OAAQE,GACN,IAAK,KACH,MAAO,CACLA,QAAS,KACTC,YAAa,qBACbC,iBAAkB,OAEtB,IAAK,MACH,MAAO,CACLF,QAAS,MACTC,YAAa,sBACbC,iBAAkB,MAGtB,QACE,MAAO,CACL,CACEF,QAAS,KACTC,YAAa,qBACbC,iBAAkB,OAEpB,CACEF,QAAS,MACTC,YAAa,sBACbC,iBAAkB,UAoBnBC,GAA0B,SAACC,GACtC,OAAQA,GACN,IAAK,wBACH,MAAO,UACT,IAAK,eAEL,IAAK,sBACH,MAAO,MCxEb,SAASC,GAAMpH,GACX,OAAO,cAAC,IAAD,aAAUmB,UAAW,EAAGpD,QAAQ,UAAaiC,IAGxD,IAAM5B,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrCC,KAAM,CACFqB,MAAO,OACP,YAAa,CACTC,UAAWvB,EAAMc,QAAQ,SAKtB,SAASiI,GAAarH,GACjC,IAgBIsH,EACAC,EAMAC,EASAC,EAhCExH,EAAU7B,KADwB,EAGhBiC,qBAASL,EAAM0H,cAHC,mBAGjCC,EAHiC,KAG3BC,EAH2B,KAKlCC,EAAc,SAACC,EAAOP,GACT,cAAXA,GAGJK,GAAQ,IAyBZ,GArBAG,qBAAU,WACNH,IAAQ5H,EAAM0H,gBACf,CAAC1H,IAIAA,EAAM0H,eACNJ,EAAStH,EAAM0H,aAAaJ,OAC5BC,EAASvH,EAAM0H,aAAaH,QAIjB,cAAXA,EACAC,EAAW,UACO,iBAAXD,EACPC,EAAW,QACO,WAAXD,IACPC,EAAW,QAIA,WAAXD,EAAqB,CACrB,IAAMS,EDhDe,SAAClJ,EAAMiI,GAClC,OAAQjI,GACN,KAAK+H,EACH,OAAQE,GACN,IAAK,KACH,MAAO,yBAET,IAAK,MACH,MAAO,4BCwCakB,CAClBjI,EAAM0H,aAAaQ,WACnBlI,EAAM0H,aAAaX,SAEvBU,EAAmB,UAAMzH,EAAM0H,aAAaS,eAAzB,aAA4CH,EAA5C,aAA8DhI,EAAM0H,aAAaQ,WAAjF,cAAiGlI,EAAM0H,aAAaU,SAApH,UAEnBX,EAAmB,UAAMH,EAAN,gBAAoBC,GAG3C,OACI,qBAAK3G,UAAWX,EAAQ1B,KAAxB,SACI,cAAC8J,EAAA,EAAD,CACIV,KAAMA,EACNW,QAAST,EACTU,iBAAkB,IAClBC,aAAc,CAACC,SAAU,SAAUC,WAAY,UAJnD,SAMI,cAAC,GAAD,CAAOlB,SAAUA,EAAUc,QAAST,EAApC,SACKJ,Q,6PC5DfrJ,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CAEJK,gBAAiB,QACjB+J,aAAc,OACdtJ,QAAS,OACTuJ,SAAU,OACVrJ,WAAY,SACZsJ,eAAgB,UAGlBC,KAAM,CACJzJ,QAAS,OACTuJ,SAAU,OACVG,SAAU,EACVzJ,cAAe,SACfuJ,eAAgB,eAChBF,aAAc,OAGdxJ,OAAQb,EAAMc,QAAQ,IAExB4J,qBAAsB,CACpB3J,QAAS,OACTwJ,eAAgB,SAChBtJ,WAAY,SACZ0J,YAAa3K,EAAMc,QAAQ,GAC3B8J,aAAc5K,EAAMc,QAAQ,GAC5BD,OAAQb,EAAMc,QAAQ,GACtBpB,MAAOM,EAAMO,QAAQY,UAAUC,MAEjCyJ,WAAY,CACV9J,QAAS,OACTE,WAAY,SACZD,cAAe,SACf8J,QAAS9K,EAAMc,QAAQ,IAEzBiK,eAAgB,CACdlK,OAAQb,EAAMc,QAAQ,GACtBgK,QAAS9K,EAAMc,QAAQ,GACvBV,gBAAgB,OAAD,OAASrB,EAAT,+CACf4B,mBAAoB,SACpBD,eAAgB,UAChBL,iBAAkB,YAClBiB,MAAO,GACPpB,OAAQ,IAEV8K,iBAAkB,CAChBnK,OAAQb,EAAMc,QAAQ,GACtBgK,QAAS9K,EAAMc,QAAQ,GACvBV,gBAAgB,OAAD,OAASrB,EAAT,iDACf4B,mBAAoB,SACpBD,eAAgB,UAChBL,iBAAkB,YAClBiB,MAAO,GACPpB,OAAQ,IAEV+K,aAAc,CACZlK,QAAS,OACTE,WAAY,SACZ6J,QAAS9K,EAAMc,QAAQ,IAEzBoK,MAAO,CACLC,WAAYnL,EAAMc,QAAQ,GAC1BgK,QAAS9K,EAAMc,QAAQ,GACvBpB,MAAOM,EAAMO,QAAQY,UAAUC,KAC/BgK,YAAa,SACbC,YAAarL,EAAMO,QAAQY,UAAUC,KACrCiJ,aAAc,QAEhBiB,SAAU,CACRvK,QAAS,OACTwJ,eAAgB,SAChBtJ,WAAY,SACZ0J,YAAa3K,EAAMc,QAAQ,GAC3B8J,aAAc5K,EAAMc,QAAQ,GAC5BD,OAAQb,EAAMc,QAAQ,GACtBR,gBAAiBN,EAAMO,QAAQgL,QAAQnK,KACvC1B,MAAO,QAGP2K,aAAc,QAEhBmB,iBAAkB,CAChBzK,QAAS,SACT,YAAa,CACXoK,WAAYnL,EAAMc,QAAQ,SAKjB,SAAS2K,GAAa/J,GACnC,IAAMC,EAAU7B,KAD0B,EAENiC,mBAAS,cAFH,mBAEnC2J,EAFmC,KAEvBC,EAFuB,KAGpCC,EAA6B,OAAfF,EAHsB,EAIF3J,mBAAS,CAC/C8J,SAAS,EACTC,UAAU,IAN8B,mBAInCC,EAJmC,KAIrBC,EAJqB,KAuC1C,OAlBAvC,qBAAU,WACR,IAAM9D,EAASoB,EAAYC,YAErBiF,EAAiB,SAACvF,EAAOC,EAASiB,GACtCtD,QAAQC,IAAIoC,EAAQX,WAAYU,GAC5BA,IAAUhF,EAAMgF,QAClBiF,EAAchF,EAAQX,YACtBgG,EAAgB,CAAEH,SAAS,EAAOC,UAAU,MAMhD,OAFAnG,EAAOyB,GAAG,UAAW6E,GAEd,WACL3H,QAAQC,IAAI,oBACZoB,EAAOuG,IAAI,UAAWD,MAEvB,CAACvK,EAAMgF,QAER,sBAAKpE,UAAWX,EAAQ1B,KAAxB,UACE,sBAAKqC,UAAWX,EAAQkJ,WAAxB,UACkB,OAAfa,EACC,qBAAKpJ,UAAWX,EAAQoJ,iBAExB,qBAAKzI,UAAWX,EAAQqJ,mBAE1B,sBAAK1I,UAAWX,EAAQsJ,aAAxB,UACE,cAACzL,EAAA,EAAD,CAAYC,QAAQ,YAApB,SAAiC,mBACjC,cAACD,EAAA,EAAD,CAAY8C,UAAWX,EAAQuJ,MAAOzL,QAAQ,YAA9C,SACGiM,QAIqB,IAAzBK,EAAaF,QACZ,qBAAKvJ,UAAWX,EAAQ6J,iBAAxB,SACE,cAACW,GAAA,EAAD,MAEA,KACJ,cAACC,GAAA,EAAD,CACE3I,SAnDgB,SAAC4I,GACvB,IAAM1G,EAASoB,EAAYC,YAC3B1C,QAAQC,IAAIoB,EAAQjE,EAAM+G,SACtB4D,EAAGrH,OAAOsH,QACZvF,EAAYQ,eAAe5B,EAAQjE,EAAM+G,QAAS,MAElD1B,EAAYQ,eAAe5B,EAAQjE,EAAM+G,QAAS,OAGpDuD,EAAgB,CAAEH,SAAS,EAAMC,UAAU,KA2CrCQ,QAASV,EACTE,SAAUC,EAAaD,cAG3B,sBAAKxJ,UAAWX,EAAQ6I,KAAxB,UACE,sBAAKlI,UAAWX,EAAQ2J,SAAxB,UACE,cAAC,KAAD,IACA,cAAC9L,EAAA,EAAD,CAAYC,QAAQ,KAApB,SAA0BiC,EAAMoI,cAElC,sBAAKxH,UAAWX,EAAQ+I,qBAAxB,UACE,cAAC,KAAD,IACA,cAAClL,EAAA,EAAD,CAAYC,QAAQ,YAApB,SAAiCiC,EAAM4B,UAEzC,sBAAKhB,UAAWX,EAAQ+I,qBAAxB,UACE,cAAC,KAAD,IACA,cAAClL,EAAA,EAAD,CAAYC,QAAQ,YAApB,SAAiCiC,EAAMsH,kBCrKjD,IAAMlJ,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CAEJK,gBAAiB,QACjB+J,aAAc,OACdtJ,QAAS,OACTuJ,SAAU,OACVrJ,WAAY,SACZsJ,eAAgB,UAGlBC,KAAM,CACJzJ,QAAS,OACTuJ,SAAU,OACVG,SAAU,EACVzJ,cAAe,SACfuJ,eAAgB,eAChBF,aAAc,OAGdxJ,OAAQb,EAAMc,QAAQ,IAExB4J,qBAAsB,CACpB3J,QAAS,OACTwJ,eAAgB,SAChBtJ,WAAY,SACZ0J,YAAa3K,EAAMc,QAAQ,GAC3B8J,aAAc5K,EAAMc,QAAQ,GAC5BD,OAAQb,EAAMc,QAAQ,GACtBpB,MAAOM,EAAMO,QAAQY,UAAUC,MAEjCyJ,WAAY,CACV9J,QAAS,OACTE,WAAY,SACZD,cAAe,SACf8J,QAAS9K,EAAMc,QAAQ,IAEzBwK,SAAU,CACRvK,QAAS,OACTwJ,eAAgB,SAChBtJ,WAAY,SACZ0J,YAAa3K,EAAMc,QAAQ,GAC3B8J,aAAc5K,EAAMc,QAAQ,GAC5BD,OAAQb,EAAMc,QAAQ,GACtBR,gBAAiBN,EAAMO,QAAQgL,QAAQnK,KACvC1B,MAAO,QAGP2K,aAAc,QAEhBkC,YAAa,CACXC,UAAW,SAEXlL,MAAO,QAETmL,eAAgB,CACd5L,OAAQb,EAAMc,QAAQ,GACtBgK,QAAS9K,EAAMc,QAAQ,GACvBV,gBAAgB,OAAD,OAASrB,EAAT,0CACf4B,mBAAoB,SACpBD,eAAgB,UAChBL,iBAAkB,YAClBiB,MAAO,GACPpB,OAAQ,IAEVwM,QAAS,CACPF,UAAW,SACXlM,gBAAiBN,EAAMO,QAAQY,UAAUC,KACzCuJ,YAAa3K,EAAMc,QAAQ,GAC3B8J,aAAc5K,EAAMc,QAAQ,GAC5BpB,MAAO,QACP2K,aAAc,OACdsC,WAAY,YAIhB,SAASC,GAA0BlL,GACjC,IAAMC,EAAU7B,KAEZiE,EAAQrC,EAAMqC,MAIlB,OAHIrC,EAAMqC,MAAQ,MAChBA,EAAQ,KAGR,eAACY,EAAA,EAAD,CAAKkI,SAAS,WAAW9L,QAAQ,cAAjC,UACE,cAACoL,GAAA,EAAD,CAAkB1M,QAAQ,cAAcsE,MAAOA,EAAO+I,KAAM,MAC5D,cAACnI,EAAA,EAAD,CACEoI,IAAK,EACLC,KAAM,EACNC,OAAQ,EACRC,MAAO,EACPL,SAAS,WACT9L,QAAQ,OACRE,WAAW,SACXsJ,eAAe,SARjB,SAUE,sBAAKjI,UAAWX,EAAQkJ,WAAxB,UACE,qBAAKvI,UAAWX,EAAQ8K,iBACxB,cAACjN,EAAA,EAAD,CACEC,QAAQ,QACR4C,UAAU,MACV3C,MAAM,gBAHR,mBAIKoG,KAAKqH,MAAMpJ,GAJhB,eAYK,SAAS0H,GAAa/J,GACnC,IAAMC,EAAU7B,KAD0B,EAGEiC,mBAAS,CACnDqL,WAAY,aACZC,WAAY,IAL4B,mBAGnCC,EAHmC,KAGnBC,EAHmB,KA4B1C,OApBAC,IAAM/D,WAAU,WACd,IAAM9D,EAASoB,EAAYC,YAErBiF,EAAiB,SAACvF,EAAOC,EAASiB,GAEtC,GADAtD,QAAQC,IAAIoC,EAAQX,WAAYU,GAC5BA,IAAUhF,EAAMgF,MAAO,CACzB,IAAM+G,EAAS9G,EAAQX,WACjB0H,EAAgBC,WAAWF,GACjCF,EAAkB,CAAEH,WAAYK,EAAQJ,WAAYK,MAMxD,OAFA/H,EAAOyB,GAAG,UAAW6E,GAEd,WACL3H,QAAQC,IAAI,8BACZoB,EAAOuG,IAAI,UAAWD,MAEvB,CAACvK,EAAMgF,QAGR,sBAAKpE,UAAWX,EAAQ1B,KAAxB,UACE,sBAAKqC,UAAWX,EAAQkJ,WAAxB,UACE,qBAAKvI,UAAWX,EAAQ4K,YAAxB,SACE,cAACK,GAAD,CAA2B7I,MAAOuJ,EAAeD,eAEnD,cAAC7N,EAAA,EAAD,CAAY8C,UAAWX,EAAQ+K,QAA/B,mBACMY,EAAeF,WADrB,aAIF,sBAAK9K,UAAWX,EAAQ6I,KAAxB,UACE,sBAAKlI,UAAWX,EAAQ2J,SAAxB,UACE,cAAC,KAAD,IACA,cAAC9L,EAAA,EAAD,CAAYC,QAAQ,KAApB,SAA0BiC,EAAMoI,cAElC,sBAAKxH,UAAWX,EAAQ+I,qBAAxB,UACE,cAAC,KAAD,IACA,cAAClL,EAAA,EAAD,CAAYC,QAAQ,YAApB,SAAiCiC,EAAM4G,gBAEzC,sBAAKhG,UAAWX,EAAQ+I,qBAAxB,UACE,cAAC,KAAD,IACA,cAAClL,EAAA,EAAD,CAAYC,QAAQ,YAApB,SAAiCiC,EAAMsH,kBChKjD,IAAMlJ,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CAEJK,gBAAiB,QACjB+J,aAAc,OACdtJ,QAAS,OACTuJ,SAAU,OACVrJ,WAAY,SACZsJ,eAAgB,UAGlBmC,QAAS,CACPF,UAAW,SACXlM,gBAAiBN,EAAMO,QAAQY,UAAUC,KACzCuJ,YAAa3K,EAAMc,QAAQ,GAC3B8J,aAAc5K,EAAMc,QAAQ,GAC5BpB,MAAO,QACP2K,aAAc,OACdsC,WAAY,QAEdiB,iBAAkB,CAChB/M,OAAQb,EAAMc,QAAQ,GACtBgK,QAAS9K,EAAMc,QAAQ,GACvBV,gBAAgB,OAAD,OAASrB,EAAT,2CACf4B,mBAAoB,SACpBD,eAAgB,UAChBL,iBAAkB,YAClBiB,MAAO,GACPpB,OAAQ,IAEV2N,cAAe,CACbhN,OAAQb,EAAMc,QAAQ,GACtBgK,QAAS9K,EAAMc,QAAQ,GACvBV,gBAAgB,OAAD,OAASrB,EAAT,wCACf4B,mBAAoB,SACpBD,eAAgB,UAChBL,iBAAkB,YAClBiB,MAAO,GACPpB,OAAQ,IAEV4N,aAAc,CACZjN,OAAQb,EAAMc,QAAQ,GACtBgK,QAAS9K,EAAMc,QAAQ,GACvBV,gBAAgB,OAAD,OAASrB,EAAT,uCACf4B,mBAAoB,SACpBD,eAAgB,UAChBL,iBAAkB,YAClBiB,MAAO,GACPpB,OAAQ,IAEV2K,WAAY,CACV9J,QAAS,OACTE,WAAY,SACZD,cAAe,SACf8J,QAAS9K,EAAMc,QAAQ,IAEzB0J,KAAM,CACJzJ,QAAS,OACTuJ,SAAU,OACVG,SAAU,EACVzJ,cAAe,SACfuJ,eAAgB,eAGhBF,aAAc,OACdxJ,OAAQb,EAAMc,QAAQ,IAExB4J,qBAAsB,CACpB3J,QAAS,OACTwJ,eAAgB,SAChBtJ,WAAY,SACZ0J,YAAa3K,EAAMc,QAAQ,GAC3B8J,aAAc5K,EAAMc,QAAQ,GAC5BD,OAAQb,EAAMc,QAAQ,GAEtBpB,MAAOM,EAAMO,QAAQY,UAAUC,KAC/BiJ,aAAc,QAEhBiB,SAAU,CACRvK,QAAS,OACTwJ,eAAgB,SAChBtJ,WAAY,SACZ0J,YAAa3K,EAAMc,QAAQ,GAC3B8J,aAAc5K,EAAMc,QAAQ,GAC5BD,OAAQb,EAAMc,QAAQ,GACtBR,gBAAiBN,EAAMO,QAAQgL,QAAQnK,KACvC1B,MAAO,QAEP2K,aAAc,QAEhB0D,QAAS,CACPhN,QAAS,OACTuJ,SAAU,OACVC,eAAgB,UAElByD,uBAAwB,CAEtBjN,QAAS,OACTE,WAAY,SACZD,cAAe,SAEfV,gBAAiBN,EAAMO,QAAQY,UAAUC,KACzC0J,QAAS9K,EAAMc,QAAQ,GACvBuJ,aAAc,OACdxJ,OAAQb,EAAMc,QAAQ,GACtBpB,MAAO,aAKI,SAAS+L,GAAa/J,GACnC,IAAMC,EAAU7B,KAD0B,EAGJiC,mBAAS,CAC7CkM,QAAS,KACTC,OAAQ,KACRC,YAAY,IAN4B,mBAGnCC,EAHmC,KAGtBC,EAHsB,OASJtM,mBAAS,CAC7CuM,YAAa,aACbC,SAAU,eAX8B,mBASnCC,EATmC,KAStBC,EATsB,KActCC,EAAe,iBA2DnB,OAzD4B,OAAxBN,EAAYH,UACdS,EAAY,UAAM5I,KAAKqH,MAAMiB,EAAYH,SAA7B,wBACVnI,KAAKqH,MAAMiB,EAAYF,QADb,MAIdzE,qBAAU,YACU,uCAAG,wCAAAkF,EAAA,sEAEjBN,EAAe,CAAEJ,QAAS,KAAMC,OAAQ,KAAMC,YAAY,IAFzC,SAGMtK,IAAM+K,IAAN,UAClBtP,EADkB,4BACsBoC,EAAM4G,aAJlC,OAGXrE,EAHW,OAObgK,EAAU,EACVC,EAAS,EACTW,EAAQ,EATK,cAUe5K,EAASC,MAVxB,IAUjB,2BAAW4K,EAAoC,QAC7Cb,GAAWa,EAAkBC,gBAC7Bb,GAAUY,EAAkBE,cAC5BH,GAASC,EAAkBG,oBAbZ,8BAejB3K,QAAQC,IAAIN,EAASC,MACQ,IAAzBD,EAASC,KAAKgL,QAGhBb,EAAe,CACbJ,QAHFA,GAAoBY,EAIlBX,OAHFA,GAAkBW,EAIhBV,YAAY,IAtBC,kDA0BjB7J,QAAQC,IAAR,MACA8J,EAAe,CAAEJ,QAAS,KAAMC,OAAQ,KAAMC,YAAY,IA3BzC,0DAAH,qDA+BlBgB,GAEA,IAAMxJ,EAASoB,EAAYC,YAErBiF,EAAiB,SAACvF,EAAOC,EAASiB,GAEtC,GADAtD,QAAQC,IAAIoC,EAAQX,WAAYU,GAC5BA,IAAUhF,EAAMgF,MAAO,CACzB,IAAMwB,EAAWvB,EAAQX,WAAWmC,MAAM,KAC1CsG,EAAe,CAAEH,YAAapG,EAAS,GAAIqG,SAAUrG,EAAS,OAMlE,OAFAvC,EAAOyB,GAAG,UAAW6E,GAEd,WACL3H,QAAQC,IAAI,uBACZoB,EAAOuG,IAAI,UAAWD,MAEvB,CAACvK,EAAMgF,MAAOhF,EAAM4G,aAGrB,sBAAKhG,UAAWX,EAAQ1B,KAAxB,UACE,sBAAKqC,UAAWX,EAAQqM,uBAAxB,UACE,cAACxO,EAAA,EAAD,CAAYC,QAAQ,YAApB,SAAiC,YACjC,qBAAK6C,UAAWX,EAAQmM,eACxB,cAACtO,EAAA,EAAD,CAAY8C,UAAWX,EAAQ+K,QAA/B,SAAyCgC,OAE3C,sBAAKpM,UAAWX,EAAQoM,QAAxB,UACE,sBAAKzL,UAAWX,EAAQkJ,WAAxB,UACE,cAACrL,EAAA,EAAD,CAAYC,QAAQ,YAApB,yBACA,qBAAK6C,UAAWX,EAAQiM,mBACxB,eAACpO,EAAA,EAAD,CAAY8C,UAAWX,EAAQ+K,QAA/B,oBACM8B,EAAYF,YADlB,UAEE,6BAGJ,sBAAKhM,UAAWX,EAAQkJ,WAAxB,UACE,cAACrL,EAAA,EAAD,CAAYC,QAAQ,YAApB,sBACA,qBAAK6C,UAAWX,EAAQkM,gBACxB,eAACrO,EAAA,EAAD,CAAY8C,UAAWX,EAAQ+K,QAA/B,UACG8B,EAAYD,SADf,KAEE,gCAKN,sBAAKjM,UAAWX,EAAQ6I,KAAxB,UACE,sBAAKlI,UAAWX,EAAQ2J,SAAxB,UACE,cAAC,KAAD,IACA,cAAC9L,EAAA,EAAD,CAAYC,QAAQ,KAApB,SAA0BiC,EAAMoI,cAElC,sBAAKxH,UAAWX,EAAQ+I,qBAAxB,UACE,cAAC,KAAD,IACA,cAAClL,EAAA,EAAD,CAAYC,QAAQ,YAApB,SAAiCiC,EAAM4G,gBAEzC,sBAAKhG,UAAWX,EAAQ+I,qBAAxB,UACE,cAAC,KAAD,IACA,cAAClL,EAAA,EAAD,CAAYC,QAAQ,YAApB,SAAiCiC,EAAMsH,kBC9NjD,IAAMlJ,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCY,MAAO,CACLkK,QAAS9K,EAAMc,QAAQ,GACvBC,QAAS,OACTqO,SAAU,OACVpO,cAAe,SACfV,gBAAiBN,EAAMO,QAAQY,UAAUC,KACzCiJ,aAAc,QAEhBgF,MAAO,CACL/O,gBAAiBN,EAAMO,QAAQY,UAAUC,KACzC1B,MAAO,QACP2K,aAAc,OACdM,YAAa3K,EAAMc,QAAQ,GAC3B8J,aAAc5K,EAAMc,QAAQ,GAC5B0L,UAAW,UAEb8C,UAAW,CACT9C,UAAW,SACXlM,gBAAiBN,EAAMO,QAAQgL,QAAQnK,KACvC1B,MAAO,QACP2K,aAAc,OACdM,YAAa3K,EAAMc,QAAQ,GAC3B8J,aAAc5K,EAAMc,QAAQ,GAC5BD,OAAQb,EAAMc,QAAQ,QAIX,SAASyO,GAAe7N,GACrC,IAAMC,EAAU7B,KAChB,OAAI4B,EAAM8N,OAAOhP,OAAS+H,EAEtB,cAACpG,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,OAAQE,GAAI,OAAQ8M,GAAI,OAAvC,SACE,eAAC7M,EAAA,EAAD,CAAON,UAAWX,EAAQf,MAAOiC,UAAW,EAA5C,UACE,cAACrD,EAAA,EAAD,CAAYC,QAAQ,KAAK6C,UAAWX,EAAQ0N,MAA5C,6BAGA,cAAC,GAAD,CACE3I,MAAOhF,EAAM8N,OAAOE,SACpB5F,SAAUpI,EAAM8N,OAAOpH,KACvBY,OAAQtH,EAAM8N,OAAOnH,SACrBC,WAAY5G,EAAM8N,OAAOlM,YAKxB5B,EAAM8N,OAAOhP,OAAS+H,EAE7B,cAACpG,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,OAAQE,GAAI,OAAQ8M,GAAI,OAAvC,SACE,eAAC7M,EAAA,EAAD,CAAON,UAAWX,EAAQf,MAAOiC,UAAW,EAA5C,UACE,cAACrD,EAAA,EAAD,CAAYC,QAAQ,KAAK6C,UAAWX,EAAQ0N,MAA5C,oCAMA,cAAC,GAAD,CACE3I,MAAOhF,EAAM8N,OAAOE,SACpB5F,SAAUpI,EAAM8N,OAAOpH,KACvBY,OAAQtH,EAAM8N,OAAOnH,SACrBC,WAAY5G,EAAM8N,OAAOlM,YAKxB5B,EAAM8N,OAAOhP,OAAS+H,EAE7B,cAACpG,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,OAAQE,GAAI,OAAQ8M,GAAI,OAAvC,SACE,eAAC7M,EAAA,EAAD,CAAON,UAAWX,EAAQf,MAAOiC,UAAW,EAA5C,UACE,cAACrD,EAAA,EAAD,CAAYC,QAAQ,KAAK6C,UAAWX,EAAQ0N,MAA5C,oBAMA,cAAC,GAAD,CACEvF,SAAUpI,EAAM8N,OAAOpH,KACvBY,OAAQtH,EAAM8N,OAAOnH,SACrB/E,KAAM5B,EAAM8N,OAAOlM,KACnBmF,QAAS/G,EAAM8N,OAAOG,aACtBjJ,MAAOhF,EAAM8N,OAAOE,gBAMrB,KC7FX,IAAM5P,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCG,MAAO,CACLU,OAAQb,EAAMc,QAAQ,GACtBgK,QAAS9K,EAAMc,QAAQ,GACvBV,gBAAgB,OAAD,OAASrB,EAAT,yCACf4B,mBAAoB,SACpBD,eAAgB,UAChBL,iBAAkB,YAClBiB,MAAO,OACPpB,OAAQ,QAEV0P,aAAc,CACZ/O,OAAQb,EAAMc,QAAQ,GACtBC,QAAS,OACTuJ,SAAU,OACVrJ,WAAY,SACZsJ,eAAgB,UAElB8E,MAAO,CACLxO,OAAQb,EAAMc,QAAQ,GACtBgK,QAAS9K,EAAMc,QAAQ,GACvBpB,MAAO,QACP8M,UAAW,cAIA,SAASqD,GAAcnO,GACpC,IAAMC,EAAU7B,KAChB,OACE,sBAAKwC,UAAWX,EAAQiO,aAAxB,UACE,cAACpQ,EAAA,EAAD,CACEC,QAAQ,KACR4C,UAAU,KACVyN,cAAY,EACZxN,UAAWX,EAAQ0N,MAJrB,SAMG3N,EAAMqO,YAAN,aAA0BrO,EAAMqO,YAAhC,4BAEH,qBAAKzN,UAAWX,EAAQxB,WCnC9B,IAAML,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCY,MAAO,CACLkK,QAAS9K,EAAMc,QAAQ,GACvBC,QAAS,OACTqO,SAAU,OACVpO,cAAe,SACfV,gBAAiBN,EAAMO,QAAQY,UAAUC,UAI9B,SAAS4O,GAAQtO,GAC9B,IAAMC,EAAU7B,KAEZmQ,EAAUvO,EAAMuO,QAOpB,MANuB,SAAnBvO,EAAMwO,SACRD,EAAUvO,EAAMuO,QAAQE,QAAO,SAACX,GAAD,OAAYA,EAAOpH,OAAS1G,EAAM0O,YACrC,gBAAnB1O,EAAMwO,WACfD,EAAUvO,EAAMuO,QAAQE,QAAO,SAACX,GAAD,OAAYA,EAAOhP,OAASkB,EAAM0O,aAG5C,IAAnBH,EAAQf,OAER,cAACtM,EAAA,EAAD,CAAON,UAAWX,EAAQf,MAAOiC,UAAW,GAA5C,SACE,cAACgN,GAAD,CAAeE,YAAa,cAMhC,cAAC5N,EAAA,EAAD,CAAMC,WAAS,EAACtB,QAAS,EAAGuP,QAAQ,SAApC,SACGJ,EAAQK,KAAI,SAACd,GACZ,OAAO,cAAC,GAAD,CAAQA,OAAQA,GAAaA,EAAOlM,W,gKCnB7CxD,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACJ,QAAS,CACPY,OAAQb,EAAMc,QAAQ,KAG1BI,OAAQ,CACNL,OAAQb,EAAMc,QAAQ,GACtBR,gBAAiBN,EAAMO,QAAQY,UAAUC,MAE3CmP,YAAa,GAGbC,kBAAmB,CACjB3P,OAAO,QAIJ,SAAS4P,GAAa/O,GAC3B,IAAMC,EAAU7B,KACRkK,EAAkBtI,EAAlBsI,QAASX,EAAS3H,EAAT2H,KAUjB,OACE,qBAAK/G,UAAWX,EAAQ1B,KAAxB,SAEA,eAACyQ,GAAA,EAAD,CACE/O,QAAS,CAAEf,MAAOe,EAAQ4O,aAC1BvG,QAbgB,WAClBA,OAAQjC,IAaN4I,kBAAgB,sBAChBtH,KAAMA,EAJR,UAME,cAACuH,GAAA,EAAD,CAAaxN,GAAG,sBAAhB,SAAuC1B,EAAM4B,OAClB,IAA1B5B,EAAMmP,SAAS3B,OACd,cAAC4B,GAAA,EAAD,UACGpP,EAAMmP,SAASP,KAAI,SAAC9N,GACnB,OACE,eAACuO,GAAA,EAAD,CACEC,QAAM,EACNpN,QAAS,WAnBrBoG,EAmB+CxH,IAFrC,UAKE,cAACyO,GAAA,EAAD,UACE,cAAClO,EAAA,EAAD,CAAQT,UAAWX,EAAQT,OAA3B,SACkB,SAAfQ,EAAMlB,KACL,cAAC,KAAD,IAEA,cAAC,KAAD,QAIN,cAAC0Q,GAAA,EAAD,CAAc3F,QAAS/I,MAXlBA,QAiBb,eAAChD,EAAA,EAAD,CACEC,QAAQ,QACRC,MAAM,YACNC,MAAM,SACN2C,UAAWX,EAAQ6O,kBAJrB,UAMG,MACA9O,EAAM4B,KACN,kBAQI,SAAS6N,GAAiBzP,GAAQ,IAAD,EACtB8L,IAAMzL,UAAS,GADO,mBACvCsH,EADuC,KACjCC,EADiC,OAEJkE,IAAMzL,cAASgG,GAFX,mBAEvCqJ,EAFuC,KAExBC,EAFwB,KAgB9C,OACE,gCACE,eAACN,GAAA,EAAD,CAAUC,QAAM,EAACpN,QAdG,WACtB0F,GAAQ,IAaN,UACE,cAACgI,GAAA,EAAD,UACkB,SAAf5P,EAAMlB,KAAkB,cAAC,KAAD,CAAUd,MAAM,YAAc,cAAC,KAAD,CAAcA,MAAM,cAE7E,cAACwR,GAAA,EAAD,CAAc3F,QAAS7J,EAAM4B,UAE/B,cAACmN,GAAD,CACEnN,KAAM5B,EAAM4B,KACZ9C,KAAMkB,EAAMlB,KACZqQ,SAAUnP,EAAMmP,SAChBO,cAAeA,EACf/H,KAAMA,EACNW,QAtBc,SAACjG,GACnBuF,GAAQ,GACR+H,EAAiBtN,GACbA,GACFrC,EAAM6P,WAAW,CAAEnB,SAAUrM,EAAOvD,KAAMkB,EAAMlB,a,oHCnGvC,SAASgR,GAAiB9P,GAAQ,IAAD,EACtB8L,IAAMzL,UAAS,GADO,mBACvCsH,EADuC,KACjCC,EADiC,OAEpBvH,mBAAS,MAFW,mBAEvCC,EAFuC,KAEhCC,EAFgC,KAQxCsH,EAAc,WAClBD,GAAQ,GACRrH,EAAS,OA0BX,OACE,gCACE,cAACwP,GAAA,EAAD,CAAY7N,QAlCQ,WACtB0F,GAAQ,IAiCgC5J,MAAM,UAA5C,SACE,cAAC,KAAD,MAEF,eAACgR,GAAA,EAAD,CACErH,KAAMA,EACNW,QAAST,EACToH,kBAAgB,0BAHlB,UAKE,cAACC,GAAA,EAAD,CAAaxN,GAAG,0BAAhB,SAA2C,YAC3C,eAACsO,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,2DAGC3P,GACC,qCACE,uBAAO0B,MAAO,CAAEhE,MAAO,OAAvB,SAAiCsC,IACjC,6BAIN,eAAC4P,GAAA,EAAD,WACE,cAACjO,EAAA,EAAD,CACElE,QAAQ,YACR+D,WAAS,EACTI,QAAS2F,EACT7J,MAAM,UAJR,oBAQA,cAACiE,EAAA,EAAD,CACElE,QAAQ,YACR+D,WAAS,EACTI,QAzDW,WACnB3B,EAAS,MAET4B,IACGgO,OADH,UACavS,EADb,uBACgDoC,EAAMoQ,OAAOC,KAAO,CAChE7N,KAAMxC,EAAMoQ,OAAOC,MAEpB/N,MAAK,SAACC,GACLvC,EAAMsQ,cACJtQ,EAAMoQ,OAAOC,IAAI/L,WAAaF,KAAKC,SAASC,SAAS,IAAIC,OAAO,EAAG,IAErEqD,GAAQ,MAETjF,OAAM,SAACrC,GACNsC,QAAQC,IAAIvC,EAAMiC,UACdjC,EAAMiC,SACsB,MAA1BjC,EAAMiC,SAASQ,QACjBxC,EAASD,EAAMiC,SAASC,KAAKQ,SAE1BzC,EAAS,qDAuCZvC,MAAM,UAJR,6B,8CC1EJI,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCiS,iBAAkB,CAChB3R,gBAAiBN,EAAMO,QAAQY,UAAUC,KACzC1B,MAAO,QACP4B,MAAO,OACPP,QAAS,OACTuJ,SAAU,OACVC,eAAgB,eAChBF,aAAc,QAEhB6H,mBAAoB,CAClBnR,QAAS,OACTE,WAAY,SACZ0J,YAAa3K,EAAMc,QAAQ,GAC3B8J,aAAc5K,EAAMc,QAAQ,GAC5BD,OAAQb,EAAMc,QAAQ,IAExBqR,UAAW,CACThH,WAAYnL,EAAMc,QAAQ,QAKf,SAASsR,GAAmB1Q,GACzC,IAAMC,EAAU7B,KAEhB,OACE,sBAAKwC,UAAWX,EAAQsQ,iBAAxB,UACE,sBAAK3P,UAAWX,EAAQuQ,mBAAxB,UACE,cAAC,KAAD,IACA,cAAC1S,EAAA,EAAD,CAAY8C,UAAWX,EAAQwQ,UAAW1S,QAAQ,YAAlD,kCACqBiC,EAAM2Q,KAAKC,uBAGlC,sBAAKhQ,UAAWX,EAAQuQ,mBAAxB,UACE,cAAC,KAAD,IACA,cAAC1S,EAAA,EAAD,CAAY8C,UAAWX,EAAQwQ,UAAW1S,QAAQ,YAAlD,SAA+DiC,EAAM6Q,0BCjC7E,IAAMzS,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrCiS,iBAAkB,CACd3R,gBAAiBN,EAAMO,QAAQY,UAAUC,KACzC1B,MAAO,QACP4B,MAAO,OACPP,QAAS,OACTuJ,SAAU,OACVC,eAAgB,eAChBF,aAAc,QAElBmI,gBAAiB,CACbzR,QAAS,OAETE,WAAY,SACZ0J,YAAa3K,EAAMc,QAAQ,GAC3B8J,aAAc5K,EAAMc,QAAQ,GAC5BD,OAAQb,EAAMc,QAAQ,GACtBwJ,SAAU,QAEdmI,sBAAuB,CACnBpI,aAAc,OACd/J,gBAAiB,QAEjBS,QAAS,OACTE,WAAY,SACZ0J,YAAa3K,EAAMc,QAAQ,GAC3B8J,aAAc5K,EAAMc,QAAQ,GAC5BD,OAAQb,EAAMc,QAAQ,GACtBwJ,SAAU,QAEdoI,oBAAqB,CACjBvH,WAAYnL,EAAMc,QAAQ,GAC1B6R,YAAa3S,EAAMc,QAAQ,GAC3BR,gBAAiBN,EAAMO,QAAQgL,QAAQnK,KACvCuJ,YAAa3K,EAAMc,QAAQ,GAC3B8J,aAAc5K,EAAMc,QAAQ,GAC5BuJ,aAAc,QAElBK,qBAAsB,CAClB3J,QAAS,OACTE,WAAY,SACZ0J,YAAa3K,EAAMc,QAAQ,GAC3B8J,aAAc5K,EAAMc,QAAQ,GAC5BD,OAAQb,EAAMc,QAAQ,GAEtBpB,MAAOM,EAAMO,QAAQY,UAAUC,KAG/BiJ,aAAc,QAElBiB,SAAU,CACNvK,QAAS,OACTwJ,eAAgB,SAChBtJ,WAAY,SACZ0J,YAAa3K,EAAMc,QAAQ,GAC3B8J,aAAc5K,EAAMc,QAAQ,GAC5BD,OAAQb,EAAMc,QAAQ,GACtBR,gBAAiBN,EAAMO,QAAQgL,QAAQnK,KACvC1B,MAAO,QAEP2K,aAAc,QAElBuI,WAAW,cACP7R,QAAS,OACTuJ,SAAU,OACVC,eAAgB,cACfvK,EAAM6S,YAAYC,KAAK,MAAQ,CAC5BvR,UAAWvB,EAAMc,QAAQ,SAKtB,SAASsR,GAAmB1Q,GACvC,IAAMC,EAAU7B,KAEhB,OACI,sBAAKwC,UAAWX,EAAQsQ,iBAAxB,UACI,qBAAK3P,UAAWX,EAAQ6Q,gBAAxB,SACI,cAAChT,EAAA,EAAD,CAAYC,QAAQ,YAApB,wBACaiC,EAAMqR,gBAAgBC,cADnC,eACuDtR,EAAMuR,eAAeD,cAD5E,YAC6FtR,EAAMwR,SADnG,YAC+GtK,GAAwBlH,EAAMqR,iBAD7I,SAIJ,qBAAKzQ,UAAWX,EAAQ8Q,sBAAxB,SACI,cAACjT,EAAA,EAAD,CAAYC,QAAQ,YAAYC,MAAM,YAAtC,SAAmD,WAAagC,EAAMyR,0BAE1E,sBAAK7Q,UAAWX,EAAQ8Q,sBAAxB,UACI,sBAAKnQ,UAAWX,EAAQ2J,SAAxB,UACI,cAAC,KAAD,IACA,cAAC9L,EAAA,EAAD,CAAYC,QAAQ,YAApB,SAAiCiC,EAAM0R,yBAE3C,sBAAK9Q,UAAWX,EAAQ+I,qBAAxB,UACI,cAAC,KAAD,IACA,cAAClL,EAAA,EAAD,CAAYC,QAAQ,YAApB,SACKiC,EAAM2R,2BAGf,sBAAK/Q,UAAWX,EAAQ+I,qBAAxB,UACI,cAAC,KAAD,IACA,cAAClL,EAAA,EAAD,CAAYC,QAAQ,YAApB,SACKiC,EAAM4R,+BCtG/B,IAAMxT,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrCiS,iBAAkB,CACd3R,gBAAiBN,EAAMO,QAAQY,UAAUC,KACzC1B,MAAO,QACP4B,MAAO,OACPP,QAAS,OACTuJ,SAAU,OACVC,eAAgB,eAChBF,aAAc,QAElBG,KAAM,CACFzJ,QAAS,OACTE,WAAY,SACZ0J,YAAa3K,EAAMc,QAAQ,GAC3B8J,aAAc5K,EAAMc,QAAQ,GAC5BD,OAAQb,EAAMc,QAAQ,IAE1BuC,MAAO,CACH8H,WAAYnL,EAAMc,QAAQ,IAE9ByS,aAAc,CACVpI,WAAYnL,EAAMc,QAAQ,GAC1B6J,YAAa3K,EAAMc,QAAQ,GAC3B8J,aAAc5K,EAAMc,QAAQ,GAC5BR,gBAAiBN,EAAMO,QAAQgL,QAAQnK,KACvCiJ,aAAc,OACd3K,MAAO,aAIA,SAAS8T,GAAsB9R,GAC1C,IAAMC,EAAU7B,KAEhB,OACI,qBAAKwC,UAAWX,EAAQsQ,iBAAxB,SACI,sBAAK3P,UAAWX,EAAQ6I,KAAxB,UACI,qBAAKiJ,IAAG,UAAK1U,EAAL,4CAA0D2U,IAAI,gBAAgBpS,MAAM,KAAKpB,OAAO,OACxG,cAACV,EAAA,EAAD,CAAY8C,UAAWX,EAAQ0B,MAAO5D,QAAQ,YAA9C,SACK,YAEL,cAACD,EAAA,EAAD,CAAY8C,UAAWX,EAAQ4R,aAAc9T,QAAQ,YAArD,mBACQiC,EAAMiS,UAEd,cAACnU,EAAA,EAAD,CAAY8C,UAAWX,EAAQ0B,MAAO5D,QAAQ,YAA9C,SACK,gBChCrB,IAAMK,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrCC,KAAM,CACFqB,MAAO,QAEXmH,QAAS,CACL/I,MAAOM,EAAMO,QAAQgL,QAAQnK,KAC7BwS,SAAU5T,EAAM6T,WAAWC,QAAQ,IACnChJ,QAAS9K,EAAMc,QAAQ,GACvBD,OAAQb,EAAMc,QAAQ,GACtBiT,WAAY,EACZ3I,YAAa,QACbC,YAAarL,EAAMO,QAAQgL,QAAQnK,KACnCiJ,aAAc,OACd/J,gBAAiBN,EAAMO,QAAQY,UAAUC,MAE7C4S,eAAgB,CAEZ3I,YAAarL,EAAMO,QAAQY,UAAUC,KACrCiJ,aAAc,OACdtJ,QAAS,OACTuJ,SAAU,OACVrJ,WAAY,UAEhBgT,QAAS,CAGL3S,MAAO,QACPT,OAAQb,EAAMc,QAAQ,GACtBiT,WAAY,GAEhBG,iBAAkB,CACdN,SAAU5T,EAAM6T,WAAWC,QAAQ,IACnCpU,MAAOM,EAAMO,QAAQ4T,KAAKhT,UAC1B2J,QAAS9K,EAAMc,QAAQ,GACvBD,OAAQb,EAAMc,QAAQ,IAE1BsT,QAAS,CACLrT,QAAS,OACTE,WAAY,SACZqJ,SAAU,OACVC,eAAgB,cAGpBG,qBAAsB,CAClB3J,QAAS,OACTwJ,eAAgB,SAChBtJ,WAAY,SACZ0J,YAAa3K,EAAMc,QAAQ,GAC3B8J,aAAc5K,EAAMc,QAAQ,GAC5BD,OAAQb,EAAMc,QAAQ,GACtBpB,MAAOM,EAAMO,QAAQY,UAAUC,MAEnCkK,SAAU,CACNvK,QAAS,OACTwJ,eAAgB,SAChBtJ,WAAY,SACZ0J,YAAa3K,EAAMc,QAAQ,GAC3B8J,aAAc5K,EAAMc,QAAQ,GAC5BD,OAAQb,EAAMc,QAAQ,GACtBR,gBAAiBN,EAAMO,QAAQgL,QAAQnK,KACvC1B,MAAO,QAEP2K,aAAc,QAElBuI,WAAW,cACP7R,QAAS,OACTuJ,SAAU,OACVC,eAAgB,cACfvK,EAAM6S,YAAYC,KAAK,MAAQ,CAC5BvR,UAAWvB,EAAMc,QAAQ,KAIjCuT,aAAc,CACVtT,QAAS,OACTwJ,eAAgB,cAIT,SAAS+J,GAAW5S,GAC/B,IAAMC,EAAU7B,KADsB,EAGN0N,IAAMzL,UAAS,GAHT,mBAG/BwS,EAH+B,KAGrBC,EAHqB,KASlCC,EAAU,KACd,OAAQ/S,EAAMoQ,OAAOjI,gBACjB,IAAK,eACD,IAAIwI,EACAE,EAEAA,EADA7Q,EAAMoQ,OAAO4C,iBACI,gBAAYhT,EAAMoQ,OAAO4C,iBAAzB,YAA6ChT,EAAMoQ,OAAO6C,oBAEvD,OAExBtC,EAAO,IAAIzS,KAAK8B,EAAMoQ,OAAO8C,WAC7BH,EACI,cAAC,GAAD,CACIlC,kBAAmBA,EACnBF,KAAMA,IAGd,MACJ,IAAK,sBACDoC,EACI,cAAC,GAAD,CACI1B,gBAAiBrR,EAAMoQ,OAAOiB,gBAC9BG,SAAUxR,EAAMoQ,OAAOoB,SACvBD,eAAgBvR,EAAMoQ,OAAOmB,eAC7BI,sBAAuB3R,EAAMoQ,OAAOuB,sBACpCC,oBAAqB5R,EAAMoQ,OAAOwB,oBAClCF,oBAAqB1R,EAAMoQ,OAAOsB,oBAClCD,sBAAuBzR,EAAMoQ,OAAOqB,wBAG5C,MACJ,IAAK,wBACDsB,EACI,cAAC,GAAD,CACId,OAAQjS,EAAMoQ,OAAO6B,SAQrC,IA9CsBkB,EA8ChBC,EAAqBtM,GACvB9G,EAAMoQ,OAAOlI,WACblI,EAAMoQ,OAAOrJ,SAEXsM,EAAmB,IAAInV,KAAK8B,EAAMoQ,OAAOiD,kBAC/C,OACI,qBAAKzS,UAAWX,EAAQ1B,KAAxB,SACI,eAAC+U,GAAA,EAAD,CACIT,SAAuB,WAAbA,EACV9Q,UAvDUoR,EAuDa,SAvDH,SAACrL,EAAOyL,GACpCT,IAAYS,GAAaJ,KAoDrB,UAII,cAACK,GAAA,EAAD,CACIC,WAAY,cAAC,KAAD,IACZC,gBAAc,mBACdhS,GAAG,kBAHP,SAKI,sBAAKd,UAAWX,EAAQyS,QAAxB,UACI,sBAAK9R,UAAWX,EAAQqS,eAAxB,UACI,cAACxU,EAAA,EAAD,CAAYC,QAAQ,YAAY6C,UAAWX,EAAQsS,QAAnD,SACKvS,EAAMoQ,OAAOjI,iBAElB,eAACrK,EAAA,EAAD,CAAY8C,UAAWX,EAAQ8G,QAA/B,UACK/G,EAAMoQ,OAAOlI,WAAa,MAC1BkL,EAAmBpM,kBAI5B,sBAAKpG,UAAWX,EAAQiR,WAAxB,UACI,sBAAKtQ,UAAWX,EAAQ2J,SAAxB,UACI,cAAC,KAAD,IACA,cAAC9L,EAAA,EAAD,CAAYC,QAAQ,YAApB,SACKiC,EAAMoQ,OAAOhI,cAGtB,sBAAKxH,UAAWX,EAAQ+I,qBAAxB,UACI,cAAC,KAAD,IACA,cAAClL,EAAA,EAAD,CAAYC,QAAQ,YAApB,SACKiC,EAAMoQ,OAAOxJ,gBAGtB,sBAAKhG,UAAWX,EAAQ+I,qBAAxB,UACI,cAAC,KAAD,IACA,cAAClL,EAAA,EAAD,CAAYC,QAAQ,YAApB,SACKiC,EAAMoQ,OAAOzJ,iBAI1B,eAAC7I,EAAA,EAAD,CAAY8C,UAAWX,EAAQuS,iBAA/B,UACK,kBACAa,EAAiBzC,yBAI9B,cAAC+C,GAAA,EAAD,UAAmBZ,IACnB,cAACa,GAAA,EAAD,IACA,qBAAKhT,UAAWX,EAAQ0S,aAAxB,SACI,cAAC,GAAD,CACIvC,OAAQpQ,EAAMoQ,OACdE,cAAetQ,EAAMsQ,uB,2JCnMvClS,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCgR,OAAQ,CACNjQ,QAAS,QACTQ,UAAWvB,EAAMc,QAAQ,IAE3ByU,YAAa,CACXC,SAAU,IACVC,SAAU,KAEZC,SAAU,CACR5K,QAAS9K,EAAMc,QAAQ,GACvBC,QAAS,YAIE,SAAS4U,GAAqBjU,GAC3C,IAAMC,EAAU7B,KADkC,EAEN0N,IAAMzL,SAAS,IAFT,mBAE3C6T,EAF2C,KAE3BC,EAF2B,OAG1BrI,IAAMzL,UAAS,GAHW,mBAG3CsH,EAH2C,KAGrCC,EAHqC,KAkB9CwM,EAAkB,KAgBtB,OAfIpU,EAAMuO,eACsBlI,IAA1BrG,EAAMqU,gBACRD,EAAkBpU,EAAMuO,QACfvO,EAAMqU,gBACfD,EAAkBpU,EAAMuO,QAAQE,QAAO,SAACX,GACtC,OAAOA,EAAOG,gBAENjO,EAAMqU,kBAChBD,EAAkBpU,EAAMuO,QAAQE,QAAO,SAACX,GACtC,OAAQA,EAAOG,kBAOnB,8BACE,eAACqG,GAAA,EAAD,CAAa9S,UAAQ,EAACZ,UAAWX,EAAQ4T,YAAzC,UACE,cAACU,GAAA,EAAD,CAAY7S,GAAG,oCAAf,oBACA,eAAC8S,GAAA,EAAD,CACEC,QAAQ,oCACR/S,GAAG,8BACHiG,KAAMA,EACNW,QAhCY,WAClBV,GAAQ,IAgCF8M,OA7BW,WACjB9M,GAAQ,IA6BFvF,MAAO6R,EACPnS,SAxCa,SAAC+F,GACpBqM,EAAkBrM,EAAMxE,OAAOjB,OAC/BrC,EAAM2U,aAAa7M,EAAMxE,OAAOjB,QA+B5B,UASE,cAACuS,GAAA,EAAD,CAAUvS,MAAM,GAAhB,SACE,wCAGD+R,EACGA,EAAgBxF,KAAI,SAACd,GACnB,OACE,eAAC8G,GAAA,EAAD,CAAUvS,MAAOyL,EAAjB,UACE,cAAC,KAAD,IACC,KACAA,EAAOlM,KACP,KACD,cAAC,KAAD,IACC,KACAkM,EAAOpH,KACP,KACD,cAAC,KAAD,IACC,KACAoH,EAAOnH,WAXoBmH,EAAOlM,SAezC,aCtFd,IAAMxD,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCuV,YAAa,CAEXC,SAAU,KAEZE,SAAU,CACR5K,QAAS9K,EAAMc,QAAQ,QAMZ,SAASyV,GAAY7U,GAClC,IAAMC,EAAU7B,KADyB,EAEK0N,IAAMzL,SAAS,IAFpB,mBAElCyU,EAFkC,KAEjBC,EAFiB,OAGjBjJ,IAAMzL,UAAS,GAHE,mBAGlCsH,EAHkC,KAG5BC,EAH4B,KAkBnCoN,EAAgBlO,GAAe9G,EAAMlB,MAC3C,OACE,8BACE,eAACwV,GAAA,EAAD,CAAa9S,UAAQ,EAACZ,UAAWX,EAAQ4T,YAAzC,UACE,cAACU,GAAA,EAAD,CAAY7S,GAAG,oCAAf,qBACA,cAAC8S,GAAA,EAAD,CACEC,QAAQ,oCACR/S,GAAG,8BACHiG,KAAMA,EACNW,QAjBY,WAClBV,GAAQ,IAiBF8M,OAdW,WACjB9M,GAAQ,IAcFvF,MAAOyS,EACP/S,SAzBa,SAAC+F,GACpBiN,EAAmBjN,EAAMxE,OAAOjB,OAChCrC,EAAMiV,cAAcnN,EAAMxE,OAAOjB,QAgB7B,SASG2S,EACGA,EAAcpG,KAAI,SAACsG,EAAIC,GACrB,OACE,cAACP,GAAA,EAAD,CAAUvS,MAAO6S,EAAGnO,QAApB,SACGmO,EAAGlO,aAD4BmO,MAKtC,Y,sBCpDRC,GAAiBC,cAAW,SAAC/W,GAAD,MAAY,CAC5CC,KAAM,CACJ,YAAa,CACXsB,UAAWvB,EAAMc,QAAQ,KAG7BkW,MAAO,CACL3M,aAAc,EACdwC,SAAU,WACVvM,gBAAiBN,EAAMO,QAAQ0W,WAAWrW,MAC1CsW,OAAQ,oBACRtD,SAAU,GACV9I,QAAS,sBACTqM,WAAYnX,EAAMoX,YAAYC,OAAO,CAAC,eAAgB,mBAbnCN,CAenBO,MAEExX,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCa,OAAQ,CACNA,OAAQb,EAAMc,QAAQ,QAIX,SAASyW,GAAkB7V,GACxC,IAAMC,EAAU7B,KAD+B,EAEX0N,IAAMzL,SAAS,IAFJ,mBAExCyV,EAFwC,KAE5BC,EAF4B,OAGbjK,IAAMzL,SAAS,IAHF,mBAGxC2V,EAHwC,KAG7BC,EAH6B,KAI/CrT,QAAQC,IAAIiT,GAUZ,OACE,gCACE,eAACxB,GAAA,EAAD,CAAa1T,UAAWX,EAAQd,OAAQ+W,SAAO,EAA/C,UACE,cAAC3B,GAAA,EAAD,CAAY4B,QAAQ,0BAApB,8BAGA,cAACf,GAAD,CACEtW,KAAK,SACL4C,GAAG,0BACHW,MAAOyT,EACP/T,SAdY,SAAC+F,GACnBiO,EAAcjO,EAAMxE,OAAOjB,OAC3BrC,EAAMoW,iBAAiBtO,EAAMxE,OAAOjB,aAelC,eAACiS,GAAA,EAAD,CAAa1T,UAAWX,EAAQd,OAAQ+W,SAAO,EAA/C,UACE,cAAC3B,GAAA,EAAD,CAAY7S,GAAG,+BAAf,mBACA,eAAC8S,GAAA,EAAD,CACEC,QAAQ,+BACR/S,GAAG,yBACHW,MAAO2T,EACPjU,SA5Ba,SAAC+F,GACpBmO,EAAanO,EAAMxE,OAAOjB,OAC1BrC,EAAMqW,gBAAgBvO,EAAMxE,OAAOjB,QA2B7BiT,MAAO,cAACF,GAAD,IALT,UAOE,cAACR,GAAA,EAAD,CAAUvS,MAAM,GAAhB,SACE,wCAEF,cAACuS,GAAA,EAAD,CAAUvS,MAAO,UAAjB,qBACA,cAACuS,GAAA,EAAD,CAAUvS,MAAO,QAAjB,mBACA,cAACuS,GAAA,EAAD,CAAUvS,MAAO,OAAjB,2BCpDV,IAAMjE,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACJ,QAAS,CACPY,OAAQb,EAAMc,QAAQ,KAG1BkX,aAAc,CACZrF,YAAa3S,EAAMc,QAAQ,IAE7BmX,IAAK,CACHpL,SAAU,QACVI,OAAQjN,EAAMc,QAAQ,GACtBoM,MAAOlN,EAAMc,QAAQ,IAEvBoX,OAAQ,CACNpN,QAAS9K,EAAMc,QAAQ,IAEzBqX,aAAc,CACZxF,YAAa3S,EAAMc,QAAQ,QAGhB,SAASsX,GAAkB1W,GACxC,IAAMC,EAAU7B,KAD+B,EAEvB0N,IAAMzL,UAAS,GAFQ,mBAExCsH,EAFwC,KAElCC,EAFkC,OAGPkE,IAAMzL,SAAS,IAAInC,MAHZ,mBAGxCyY,EAHwC,KAG1BC,EAH0B,OAIH9K,IAAMzL,SAAS,IAJZ,mBAIxC6T,EAJwC,KAIxBC,EAJwB,OAKDrI,IAAMzL,SAAS,IALd,mBAKxCyU,EALwC,KAKvBC,EALuB,OAMKjJ,IAAMzL,SAAS,IANpB,mBAMxCwW,EANwC,KAMpBC,EANoB,OAOGhL,IAAMzL,SAAS,IAPlB,mBAOxC0W,EAPwC,KAOrBC,EAPqB,OASnBlL,IAAMzL,SAAS,CAAE2C,QAAS,KAAMhF,MAAO,OATpB,mBASxC+E,EATwC,KAShCkU,EATgC,OAUjBnL,IAAMzL,UAAS,GAVE,mBAUxC6W,EAVwC,KAU/B1W,EAV+B,KAazC2W,EAAmB,SAACxG,GACxBiG,EAAgBjG,IAGZ9I,EAAc,WAClB7H,EAAMoX,cACNxP,GAAQ,GACRqP,EAAU,CAAEjU,QAAS,KAAMhF,MAAO,OAClCmW,EAAkB,IAClBY,EAAmB,IACnB+B,EAAsB,IACtBE,EAAqB,IACrBJ,EAAgB,IAAI1Y,OAkCtB,OACE,qBAAK0C,UAAWX,EAAQ1B,KAAxB,SACE,eAACyQ,GAAA,EAAD,CACEqI,sBAAoB,EACpBC,sBAAoB,EACpB3P,KAAMA,EACNW,QAAST,EAJX,UAME,cAACqH,GAAA,EAAD,iCACA,eAACc,GAAA,EAAD,CAAeuH,UAAQ,EAAvB,UACE,qBAAK3W,UAAWX,EAAQuW,OAAxB,SACE,cAAC,GAAD,CACEjI,QAASvO,EAAMuO,QACf8F,iBAAiB,EACjBM,aAAcR,MAGE,KAAnBD,EAAwB,KACvB,qBAAKtT,UAAWX,EAAQuW,OAAxB,SACE,cAAC,GAAD,CACE1X,KAAMoV,EAAepV,KACrBmW,cAAeF,MAIrB,eAAC,KAAD,CAAyByC,MAAOC,KAAhC,UACE,qBAAK7W,UAAWX,EAAQuW,OAAxB,SACE,cAAC,KAAD,CACErX,OAAO,SACPuC,GAAG,qBACHC,MAAM,uBACN+V,OAAO,aACPrV,MAAOsU,EACP5U,SAAUoV,EACVQ,oBAAqB,CACnB,aAAc,mBAIpB,qBAAK/W,UAAWX,EAAQuW,OAAxB,SACE,cAAC,KAAD,CACErX,OAAO,SACPuC,GAAG,cACHC,MAAM,uBACNU,MAAOsU,EACP5U,SAAUoV,EACVQ,oBAAqB,CACnB,aAAc,sBAMtB,cAAC,GAAD,CACEvB,iBAAkBU,EAClBT,gBAAiBW,IAElBjU,EAAOC,SACN,qCACE,uBAAOhB,MAAO,CAAEhE,MAAO+E,EAAO/E,OAA9B,SAAwC+E,EAAOC,UAC/C,6BAIN,cAACkN,GAAA,EAAD,WACe,IAAZgH,EACC,cAACzM,GAAA,EAAD,IAEA,gCACE,cAACxI,EAAA,EAAD,CACErB,UAAWX,EAAQwW,aACnB1Y,QAAQ,YACRmE,QAAS2F,EACT7J,MAAM,UAJR,oBAQA,cAACiE,EAAA,EAAD,CAAQlE,QAAQ,YAAYmE,QA5GtB,WAChB+U,EAAU,CAAEjU,QAAS,KAAMhF,MAAO,OAClCwC,GAAW,GACX2B,IACGC,KAAKxE,EAAuB,mBAAoB,CAC/CsK,WAAYgM,EAAepV,KAC3B8H,WAAYsN,EAAetS,KAC3B+E,SAAUuN,EAAevN,SACzByB,SAAU8L,EAAexN,KACzBK,QAAS+N,EACT7G,aAAciG,EAAejG,aAC7BoF,iBAAkBnV,KAAK0Z,MACvBC,UAAWlB,EACX1D,mBAAoB8D,EACpB/D,iBAAkB6D,IAEnBvU,MAAK,SAACC,GAELvC,EAAMsQ,cAAc/N,EAASC,KAAK6N,KAClC7P,GAAW,GACXyW,EAAU,CAAEjU,QAAS,4BAA6BhF,MAAO,aAE1D2E,OAAM,SAACrC,GACFA,EAAMiC,WACRK,QAAQC,IAAIvC,EAAMiC,SAASC,KAAKQ,SAChCiU,EAAU,CAAEjU,QAAS1C,EAAMiC,SAASC,KAAKQ,QAAShF,MAAO,SAE3DwC,GAAW,OAiF2CxC,MAAM,UAAtD,kCCzKd,IAAMoX,GAAiBC,cAAW,SAAC/W,GAAD,MAAY,CAC5CC,KAAM,CACJ,YAAa,CACXsB,UAAWvB,EAAMc,QAAQ,KAG7BkW,MAAO,CACL3M,aAAc,EACdwC,SAAU,WACVvM,gBAAiBN,EAAMO,QAAQ0W,WAAWrW,MAC1CsW,OAAQ,oBACRtD,SAAU,GACV9I,QAAS,sBACTqM,WAAYnX,EAAMoX,YAAYC,OAAO,CAAC,eAAgB,mBAbnCN,CAenBO,MAEExX,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCa,OAAQ,CACNA,OAAQb,EAAMc,QAAQ,QAIX,SAASyW,GAAkB7V,GACxC,IAAMC,EAAU7B,KAD+B,EAEf0N,IAAMzL,SAAS,IAFA,mBAExCmR,EAFwC,KAE9BsG,EAF8B,OAGXhM,IAAMzL,SAAS,IAHJ,mBAGxC0X,EAHwC,KAG5BC,EAH4B,KAa/C,OACE,gCACE,eAAC1D,GAAA,EAAD,CAAa1T,UAAWX,EAAQd,OAAQ+W,SAAO,EAA/C,UACE,cAAC3B,GAAA,EAAD,CAAY/S,UAAQ,EAACE,GAAG,+BAAxB,qBAGA,eAAC8S,GAAA,EAAD,CACEC,QAAQ,+BACR/S,GAAG,yBACHW,MAAO0V,EACPhW,SAnBa,SAAC+F,GACpBkQ,EAAclQ,EAAMxE,OAAOjB,OAC3BrC,EAAMiY,iBAAiBnQ,EAAMxE,OAAOjB,QAkB9BiT,MAAO,cAAC,GAAD,IALT,UAOE,cAACV,GAAA,EAAD,CAAUvS,MAAM,GAAhB,SACE,wCAEF,cAACuS,GAAA,EAAD,CAAUvS,MAAO,QAAjB,mBACA,cAACuS,GAAA,EAAD,CAAUvS,MAAO,OAAjB,kBACA,cAACuS,GAAA,EAAD,CAAUvS,MAAO,WAAjB,4BAGJ,eAACiS,GAAA,EAAD,CAAa1T,UAAWX,EAAQd,OAAQ+W,SAAO,EAA/C,UACE,cAAC3B,GAAA,EAAD,CAAY/S,UAAQ,EAAC2U,QAAQ,0BAA7B,sBACA,cAAC,GAAD,CACErX,KAAK,SACL4C,GAAG,0BACHW,MAAOmP,EACPzP,SA/BY,SAAC+F,GACnBgQ,EAAYhQ,EAAMxE,OAAOjB,OACzBrC,EAAMkY,eAAepQ,EAAMxE,OAAOjB,gBClCtC,IAAMjE,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCuV,YAAa,CAEXC,SAAU,KAEZE,SAAU,CACR5K,QAAS9K,EAAMc,QAAQ,QAMZ,SAAS+Y,GAAqBnY,GAC3C,IAAMC,EAAU7B,KADkC,EAEV0N,IAAMzL,SAAS,IAFL,mBAE3C+X,EAF2C,KAE7BC,EAF6B,OAG1BvM,IAAMzL,UAAS,GAHW,mBAG3CsH,EAH2C,KAGrCC,EAHqC,KAkB5C0Q,EnBsBiC,SAACxZ,GACxC,OAAQA,GACN,KAAK+H,EACH,MAAO,CAAC,wBAAyB,gBACnC,KAAKA,EACH,MAAO,CAAC,wBmB3Ba0R,CAA0BvY,EAAMlB,MACzD,OACE,8BACE,eAACwV,GAAA,EAAD,CAAa9S,UAAQ,EAACZ,UAAWX,EAAQ4T,YAAzC,UACE,cAACU,GAAA,EAAD,CAAY7S,GAAG,oCAAf,yBACA,cAAC8S,GAAA,EAAD,CACEC,QAAQ,oCACR/S,GAAG,8BACHiG,KAAMA,EACNW,QAjBY,WAClBV,GAAQ,IAiBF8M,OAdW,WACjB9M,GAAQ,IAcFvF,MAAO+V,EACPrW,SAzBa,SAAC+F,GACpBuQ,EAAgBvQ,EAAMxE,OAAOjB,OAC7BrC,EAAMwY,sBAAsB1Q,EAAMxE,OAAOjB,QAgBrC,SASGiW,EACGA,EAAiB1J,KAAI,SAACsG,EAAIC,GACxB,OACE,cAACP,GAAA,EAAD,CAAUvS,MAAO6S,EAAjB,SACGA,GADuBC,MAK9B,YC3Cd,IAAM/W,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACJc,QAAS,QAEXoZ,QAAS,CACPpZ,QAAS,OACTwJ,eAAgB,aAEhBvJ,cAAe,UAEjBkX,OAAQ,CACNpN,QAAS9K,EAAMc,QAAQ,IAEzBqX,aAAc,CACZxF,YAAa3S,EAAMc,QAAQ,IAE7BuC,MAAO,CACL9B,UAAWvB,EAAMc,QAAQ,GACzBsZ,aAAcpa,EAAMc,QAAQ,GAC5B6J,YAAa3K,EAAMc,QAAQ,GAC3BR,gBAAiBN,EAAMO,QAAQY,UAAUC,KAEzC1B,MAAO,QACP2K,aAAc,YAGH,SAASgQ,GAAwB3Y,GAC9C,IAAMC,EAAU7B,KADqC,EAE7B0N,IAAMzL,UAAS,GAFc,mBAE9CsH,EAF8C,KAExCC,EAFwC,OAGDkE,IAAMzL,SAAS,IAHd,mBAG9CuY,EAH8C,KAG1BC,EAH0B,OAIK/M,IAAMzL,SAAS,IAJpB,mBAI9CyY,EAJ8C,KAIvBC,EAJuB,OAKPjN,IAAMzL,SAAS,IALR,mBAK9CyU,EAL8C,KAK7BC,EAL6B,OAMSjJ,IAAMzL,SAClE,IAPmD,mBAM9C2Y,EAN8C,KAMrBC,EANqB,OAULnN,IAAMzL,SAAS,IAVV,mBAU9C6Y,EAV8C,KAU5BC,EAV4B,OAWOrN,IAAMzL,SAChE,IAZmD,mBAW9C+Y,EAX8C,KAWtBC,EAXsB,OAezBvN,IAAMzL,SAAS,CAAE2C,QAAS,KAAMhF,MAAO,OAfd,mBAe9C+E,EAf8C,KAetCkU,EAfsC,OAgBvBnL,IAAMzL,UAAS,GAhBQ,mBAgB9C6W,EAhB8C,KAgBrC1W,EAhBqC,KAmB/CqH,EAAc,WAClB7H,EAAMoX,cACNxP,GAAQ,GACRqP,EAAU,CAAEjU,QAAS,KAAMhF,MAAO,OAClC+a,EAAyB,IACzBF,EAAsB,IACtB9D,EAAmB,IACnBkE,EAA2B,IAC3BE,EAAoB,IACpBE,EAA0B,KA6C5B,OACE,qBAAKzY,UAAWX,EAAQ1B,KAAxB,SACE,eAACyQ,GAAA,EAAD,CACEqI,sBAAoB,EACpBC,sBAAoB,EACpB3P,KAAMA,EACNW,QAAST,EAJX,UAME,cAACqH,GAAA,EAAD,kCACA,cAACc,GAAA,EAAD,CAAeuH,UAAQ,EAAvB,SACE,sBAAK3W,UAAWX,EAAQwY,QAAxB,UACE,sBAAK7X,UAAWX,EAAQuW,OAAxB,UACE,cAAC1Y,EAAA,EAAD,CAAY8C,UAAWX,EAAQ0B,MAAO5D,QAAQ,YAA9C,qBAGA,cAAC,GAAD,CACEwQ,QAASvO,EAAMuO,QACfoG,aAAcoE,EACd1E,iBAAiB,OAGM,KAA1ByE,EAA+B,KAC9B,qBAAKlY,UAAWX,EAAQuW,OAAxB,SACE,cAAC,GAAD,CACE1X,KAAMga,EAAsBha,KAC5BmW,cAAeF,MAIrB,sBAAKnU,UAAWX,EAAQuW,OAAxB,UACE,cAAC1Y,EAAA,EAAD,CAAY8C,UAAWX,EAAQ0B,MAAO5D,QAAQ,YAA9C,kBAGA,cAAC,GAAD,CACEwQ,QAASvO,EAAMuO,QACfoG,aAAckE,EACdxE,iBAAiB,OAGG,KAAvBuE,EAA4B,KAC3B,qBAAKhY,UAAWX,EAAQuW,OAAxB,SACE,cAAC,GAAD,CACE1X,KAAM8Z,EAAmB9Z,KACzB0Z,sBAAuBS,MAK7B,cAAC,GAAD,CACEhB,iBAAkBoB,EAClBnB,eAAgBiB,IAEjBpW,EAAOC,SACN,qCACE,uBAAOhB,MAAO,CAAEhE,MAAO+E,EAAO/E,OAA9B,SAAwC+E,EAAOC,UAC/C,+BAKR,cAACkN,GAAA,EAAD,WACe,IAAZgH,EACC,cAACzM,GAAA,EAAD,IAEA,gCACE,cAACxI,EAAA,EAAD,CACErB,UAAWX,EAAQwW,aACnB1Y,QAAQ,YACRmE,QAAS2F,EACT7J,MAAM,UAJR,oBAQA,cAACiE,EAAA,EAAD,CAAQlE,QAAQ,YAAYmE,QAnHtB,WAChB+U,EAAU,CAAEjU,QAAS,KAAMhF,MAAO,OAClCwC,GAAW,GAFW,IAIdyG,EAAqBH,GACzBgS,EAAsBha,KACtBgW,GAFI7N,iBAKR9E,IACGC,KAAKxE,EAAuB,yBAA0B,CACrDsK,WAAY4Q,EAAsBha,KAClC8H,WAAYkS,EAAsBlX,KAClC+E,SAAUmS,EAAsBnS,SAChCyB,SAAU0Q,EAAsBpS,KAChCK,QAAS+N,EACT7G,aAAc6K,EAAsB7K,aACpCoF,iBAAkBnV,KAAK0Z,MACvBjG,sBAAuBiH,EAAmBhX,KAC1CgQ,oBAAqBgH,EAAmBjS,SACxC+K,oBAAqBkH,EAAmBlS,KACxC+K,sBAAuBmH,EAAmB9Z,KAC1CmI,iBAAkBA,EAClBsK,eAAgB6H,EAChB5H,SAAU0H,EACV7H,gBAAiB2H,IAElB1W,MAAK,SAACC,GAELvC,EAAMsQ,cAAc/N,EAASC,KAAK6N,KAClC7P,GAAW,GACXyW,EAAU,CAAEjU,QAAS,4BAA6BhF,MAAO,aAE1D2E,OAAM,SAACrC,GACFA,EAAMiC,WACRK,QAAQC,IAAIvC,EAAMiC,SAASC,KAAKQ,SAChCiU,EAAU,CAAEjU,QAAS1C,EAAMiC,SAASC,KAAKQ,QAAShF,MAAO,SAE3DwC,GAAW,OA6E2CxC,MAAM,UAAtD,kC,yBC3LDsb,GAA0B,SAACC,GACpCC,sBAAsBC,UAAU,CAE5BC,iBAAkBF,sBAAsBG,kBACxCC,gBAAiBJ,sBAAsBK,cACvCC,iBAAkB,GAClBC,eAAgB,IAChBC,kBAAmB,sBACnBC,iBAAkB,UAClBC,OAAO,EACPC,SAAU,IACVC,gBAAiB,IACjBC,mBAAoB,IACpBC,IAAK,wCACLC,YAAa,CACT,QAAS,OAGbC,aAAc,CACVC,IAAK,YACLC,IAAK,gBAIblB,sBAAsB9T,GAAG,YAAY,SAAU3B,GAI3CnB,QAAQC,IAAIkB,GAEZyV,sBAAsBmB,WAAU,SAAUC,GAItCpB,sBAAsBqB,QAAQD,SAItCpB,sBAAsB9T,GAAG,cAAc,SAAUoV,OAIjDtB,sBAAsB9T,GAAG,SAAS,SAAUpF,GACxCsC,QAAQC,IAAI,uCAAwCvC,EAAMya,KAAMza,EAAM0C,YAG1EwW,sBAAsB9T,GAAG,SAAS,WAC9B9C,QAAQC,IAAI,4DAGhB2W,sBAAsB9T,GAAG,QAAQ,WAC7B9C,QAAQC,IAAI,4DAGhB2W,sBAAsB9T,GAAG,iBAAiB,SAAU3C,GAChDH,QAAQC,IAAI,sDAAwDE,GAChEA,IAAWyW,sBAAsBwB,YAEjCC,YAAW,WAGP,GAFqBC,QAAQ,+LAGzB,OAAO1B,sBAAsB2B,oBAElC,QAIX3B,sBAAsB9T,GAAG,cAAc,WACnC9C,QAAQC,IAAI,kCAOhB2W,sBAAsB9T,GAAG,cAAc,WACnC9C,QAAQC,IAAI,kCAIhB2W,sBAAsB9T,GAAG,mBAAmB,WACxC9C,QAAQC,IAAI,4DAQhB2W,sBAAsB9T,GAAG,sBAAsB,WAC3C9C,QAAQC,IAAI,sDAGhB2W,sBAAsB4B,aAAY,SAAUrY,GACxCH,QAAQC,IAAI,kDAAmDE,EAAOsY,WACtEzY,QAAQC,IAAI,gDAAiDE,EAAOuY,yBACpE1Y,QAAQC,IAAI,6CAA+CE,EAAOwY,eAElE3Y,QAAQC,IAAIE,EAAOsY,YAEdtY,EAAOsY,WAAatY,EAAOuY,yBAC5B9B,sBAAsBgC,QACtBjC,GAAS,IAEHxW,EAAOsY,WACb7B,sBAAsBiC,yBAoClCne,SAASC,iBAAiB,cAAe+b,IAAyB,GC1IlE,IAAMlE,GAAiBC,cAAW,SAAC/W,GAAD,MAAY,CAC5CC,KAAM,CACJ,YAAa,CACXsB,UAAWvB,EAAMc,QAAQ,KAG7BkW,MAAO,CACL3M,aAAc,EACdwC,SAAU,WACVvM,gBAAiBN,EAAMO,QAAQ0W,WAAWrW,MAC1CsW,OAAQ,oBACRtD,SAAU,GACV9I,QAAS,sBACTqM,WAAYnX,EAAMoX,YAAYC,OAAO,CAAC,eAAgB,mBAbnCN,CAenBO,MAEExX,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCa,OAAQ,CACNA,OAAQb,EAAMc,QAAQ,GACtBsc,WAAYpd,EAAMc,QAAQ,QAIf,SAASyW,GAAkB7V,GACxC,IAAMC,EAAU7B,KAD+B,EAEnB0N,IAAMzL,SAAS,IAFI,mBAExC4R,EAFwC,KAEhC0J,EAFgC,KAQ/C,OACE,8BACE,eAACrH,GAAA,EAAD,CAAa1T,UAAWX,EAAQd,OAAQ+W,SAAO,EAA/C,UACE,cAAC3B,GAAA,EAAD,CAAY/S,UAAQ,EAAC2U,QAAQ,0BAA7B,6CACA,cAAC,GAAD,CACErX,KAAK,SACL4C,GAAG,0BACHW,MAAO4P,EACPlQ,SAZY,SAAC+F,GACnB6T,EAAU7T,EAAMxE,OAAOjB,OACvBrC,EAAM4b,aAAa9T,EAAMxE,OAAOjB,eCtBpC,IAAMjE,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACJ,QAAS,CACPY,OAAQb,EAAMc,QAAQ,KAG1BkX,aAAc,CACZrF,YAAa3S,EAAMc,QAAQ,IAE7BmX,IAAK,CACHpL,SAAU,QACVI,OAAQjN,EAAMc,QAAQ,GACtBoM,MAAOlN,EAAMc,QAAQ,IAEvBoX,OAAQ,CACNpN,QAAS9K,EAAMc,QAAQ,IAEzBqX,aAAc,CACZxF,YAAa3S,EAAMc,QAAQ,IAE7BuC,MAAO,CACL9B,UAAWvB,EAAMc,QAAQ,GACzBsZ,aAAcpa,EAAMc,QAAQ,GAC5BgK,QAAS9K,EAAMc,QAAQ,GACvBR,gBAAiBN,EAAMO,QAAQY,UAAUC,KAEzC1B,MAAO,QACP2K,aAAc,YAGH,SAAS+N,GAAkB1W,GACxC,IAAMC,EAAU7B,KAD+B,EAEvB0N,IAAMzL,UAAS,GAFQ,mBAExCsH,EAFwC,KAElCC,EAFkC,OAGHkE,IAAMzL,SAAS,IAHZ,mBAGxC6T,EAHwC,KAGxBC,EAHwB,OAIDrI,IAAMzL,SAAS,IAJd,mBAIxCyU,EAJwC,KAIvBC,EAJuB,OAKHjJ,IAAMzL,SAAS,IALZ,mBAKxCwb,EALwC,KAKxBC,EALwB,OAOnBhQ,IAAMzL,SAAS,CAAE2C,QAAS,KAAMhF,MAAO,OAPpB,mBAOxC+E,EAPwC,KAOhCkU,EAPgC,OAQjBnL,IAAMzL,UAAS,GARE,mBAQxC6W,EARwC,KAQ/B1W,EAR+B,KAWzCqH,EAAc,WAClB7H,EAAMoX,cACNxP,GAAQ,GACRqP,EAAU,CAAEjU,QAAS,KAAMhF,MAAO,OAClCmW,EAAkB,IAClBY,EAAmB,IACnB+G,EAAkB,KAgCpB,OACE,qBAAKlb,UAAWX,EAAQ1B,KAAxB,SACE,eAACyQ,GAAA,EAAD,CACEqI,sBAAoB,EACpBC,sBAAoB,EACpB3P,KAAMA,EACNW,QAAST,EAJX,UAME,cAACqH,GAAA,EAAD,oCACA,eAACc,GAAA,EAAD,CAAeuH,UAAQ,EAAvB,UACE,qBAAK3W,UAAWX,EAAQuW,OAAxB,SACE,cAAC,GAAD,CACEjI,QAASvO,EAAMuO,QACf8F,iBAAiB,EACjBM,aAAcR,MAGE,KAAnBD,EAAwB,KACvB,qBAAKtT,UAAWX,EAAQuW,OAAxB,SACE,cAAC,GAAD,CACE1X,KAAMoV,EAAepV,KACrBmW,cAAeF,MAIrB,cAAC,GAAD,CAAkB6G,aAAcE,IAC/B/Y,EAAOC,SACN,qCACE,uBAAOhB,MAAO,CAAEhE,MAAO+E,EAAO/E,OAA9B,SAAwC+E,EAAOC,UAC/C,6BAIN,cAACkN,GAAA,EAAD,WACe,IAAZgH,EACC,cAACzM,GAAA,EAAD,IAEA,gCACE,cAACxI,EAAA,EAAD,CACErB,UAAWX,EAAQwW,aACnB1Y,QAAQ,YACRmE,QAAS2F,EACT7J,MAAM,UAJR,oBAQA,cAACiE,EAAA,EAAD,CAAQlE,QAAQ,YAAYmE,QA3EtB,WAChB+U,EAAU,CAAEjU,QAAS,KAAMhF,MAAO,OAClCwC,GAAW,GACX2B,IACGC,KAAKxE,EAAuB,2BAA4B,CACvDsK,WAAYgM,EAAepV,KAC3B8H,WAAYsN,EAAetS,KAC3B+E,SAAUuN,EAAevN,SACzByB,SAAU8L,EAAexN,KACzBK,QAAS+N,EACT7G,aAAciG,EAAejG,aAC7BoF,iBAAkBnV,KAAK0Z,MACvB3F,OAAQ4J,IAETvZ,MAAK,SAACC,GAELvC,EAAMsQ,cAAc/N,EAASC,KAAK6N,KAClC7P,GAAW,GACXyW,EAAU,CAAEjU,QAAS,4BAA6BhF,MAAO,aAE1D2E,OAAM,SAACrC,GACFA,EAAMiC,WACRK,QAAQC,IAAIvC,EAAMiC,SAASC,KAAKQ,SAChCiU,EAAU,CAAEjU,QAAS1C,EAAMiC,SAASC,KAAKQ,QAAShF,MAAO,SAE3DwC,GAAW,OAkD2CxC,MAAM,UAAtD,kCC7Hd,IAAMI,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrCC,KAAM,CACF,QAAS,CACLY,OAAQb,EAAMc,QAAQ,SAMnB,SAAS2c,GAAuB/b,GAC3C,IAAMC,EAAU7B,KADkC,EAE1B0N,IAAMzL,UAAS,GAFW,mBAE3CsH,EAF2C,KAErCC,EAFqC,OAGJkE,IAAMzL,SAAS,MAHX,mBAG3C2b,EAH2C,KAG1BC,EAH0B,KAKlDlU,qBAAU,WH+FgC,IAACwR,IG9FR0C,EH+FnCzC,sBAAsB4B,aAAY,SAAUrY,GACxCH,QAAQC,IAAI,kDAAmDE,EAAOsY,WACtEzY,QAAQC,IAAI,gDAAiDE,EAAOuY,yBACpE1Y,QAAQC,IAAI,6CAA+CE,EAAOwY,eAErC,IAAzBxY,EAAOwY,cACPhC,GAAS,GAITA,GAAS,GAEb3W,QAAQC,IAAIE,EAAOwY,oBGrGpB,IAEH,IAAM1T,EAAc,WAChB7H,EAAMoX,cACNxP,GAAQ,IAQRsU,EAAS,KA6Bb,OA5BwB,OAApBF,IACIA,EAEAE,EAAU,cAAC,GAAD,CACN3N,QAASvO,EAAMuO,QACf+B,cAAetQ,EAAMsQ,cACrB8G,YAAapX,EAAMoX,eHuF/BoC,sBAAsBiC,qBGnFdS,EAAU,eAAClN,GAAA,EAAD,CACNrH,KAAMA,EACNW,QAAST,EAFH,UAIN,cAACqH,GAAA,EAAD,oCACA,cAACc,GAAA,EAAD,CAAeuH,UAAQ,EAAvB,uKAKA,cAACrH,GAAA,EAAD,UACI,cAACjO,EAAA,EAAD,CAAQlE,QAAQ,YAAYmE,QA1BrB,WACnBoX,GAAwB2C,GACxBpU,KAwBiE7J,MAAM,UAA3D,6CAQZ,qBAAK4C,UAAWX,EAAQ1B,KAAxB,SACK2d,ICjEb,IAAM9d,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrCC,KAAM,CACF4M,SAAU,QACVI,OAAQjN,EAAMc,QAAQ,GACtBoM,MAAOlN,EAAMc,QAAQ,IAEzB+c,UAAW,CACPhR,SAAU,WACVI,OAAQjN,EAAMc,QAAQ,GACtBoM,MAAOlN,EAAMc,QAAQ,IAEzBgR,OAAQ,CACJjR,OAAQb,EAAMc,QAAQ,GACtBR,gBAAiBN,EAAMO,QAAQgL,QAAQnK,UAIhC,SAAS0c,GAAkBpc,GACtC,IAAMC,EAAU7B,KAD6B,EAErB0N,IAAMzL,UAAS,GAFM,mBAEtCsH,EAFsC,KAEhCC,EAFgC,OAGDkE,IAAMzL,SAAS,MAHd,mBAGtCgc,EAHsC,KAGtBC,EAHsB,KAqBvClF,EAAc,WAChBkF,EAAkB,OAOlBJ,EAAS,KACb,OAAQG,GACJ,IAAK,cACDH,EACI,cAACxF,GAAD,CACInI,QAASvO,EAAMuO,QACf+B,cAAetQ,EAAMsQ,cACrB8G,YAAaA,IAGrB,MACJ,IAAK,oBACD8E,EACI,cAACvD,GAAD,CACIpK,QAASvO,EAAMuO,QACf+B,cAAetQ,EAAMsQ,cACrB8G,YAAaA,IAGrB,MACJ,IAAK,sBACD8E,EACI,cAACH,GAAD,CACI3E,YAAaA,EACb7I,QAASvO,EAAMuO,QACf+B,cAAetQ,EAAMsQ,gBAMrC,OACI,qBAAK1P,UAAWX,EAAQ1B,KAAxB,SACI,eAACge,GAAA,EAAD,CACIC,UAAU,qBACV5b,UAAWX,EAAQkc,UACnBM,KAAM,cAACC,GAAA,EAAD,CAAeC,SAAU,cAAC,KAAD,MAC/BrU,QAzCQ,WAChBV,GAAQ,IAyCA8M,OA9DO,WACf9M,GAAQ,IA8DAD,KAAMA,EANV,UAQI,cAACiV,GAAA,EAAD,CACIhc,UAAWX,EAAQmQ,OACnBqM,KAAM,cAAC,KAAD,IACNI,aAAc,eACd3a,QA7DgB,WAC5Boa,EAAkB,wBA8DV,cAACM,GAAA,EAAD,CACIhc,UAAWX,EAAQmQ,OACnBqM,KAAM,cAAC,KAAD,IACNI,aAAc,iBACd3a,QA/DkB,WAC9Boa,EAAkB,0BAgEV,cAACM,GAAA,EAAD,CACIhc,UAAWX,EAAQmQ,OACnBqM,KAAM,cAAC,KAAD,IACNI,aAAc,aACd3a,QA7EU,WACtBoa,EAAkB,kBA8ETJ,OC9GjB,IAAMY,GAAMlf,EAAuB,cAE7BQ,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrCC,KAAM,CACFY,OAAQb,EAAMc,QAAQ,QAKf,SAAS2d,GAAkB/c,GACtC,IAAMC,EAAU7B,KAD6B,EAEZiC,mBAAS,CACtC2c,QAAS,GACTvQ,YAAY,IAJ6B,mBAEtCwQ,EAFsC,KAE1BC,EAF0B,OAML7c,mBAAS,MANJ,mBAMtC8c,EANsC,KAMxBC,EANwB,KAQvCC,EAAyB,SAAC3b,GAC5B0b,EAAgB1b,IAsBpB,OAnBAqG,qBAAU,WAcN,OAbkB,uCAAG,4BAAAkF,EAAA,sEAEbiQ,EAAW,CAACF,QAAS,GAAIvQ,YAAY,IAFxB,SAGUtK,IAAM+K,IAAI4P,IAHpB,OAGPva,EAHO,OAIb2a,EAAW,CAACF,QAASza,EAASC,KAAMiK,YAAY,IAJnC,gDAMb7J,QAAQC,IAAR,MACAqa,EAAW,CAACF,QAAS,GAAIvQ,YAAY,IAPxB,yDAAH,oDAWlBgB,GAEO,WACH7K,QAAQC,IAAI,yBAEjB,CAACsa,IAGA,sBAAKvc,UAAWX,EAAQ1B,KAAxB,UACmC,IAA9B0e,EAAWD,QAAQxP,OAChByP,EAAWD,QAAQpO,KAAI,SAACwB,GACpB,OACI,qBAAKxP,UAAWX,EAAQ1B,KAAxB,SACI,cAACqU,GAAD,CACIxC,OAAQA,EACRE,cAAe+M,KAHYjN,EAAOC,QASlD,cAAClC,GAAD,CAAeE,YAAY,YAE/B,cAAC,GAAD,CACIE,QAASvO,EAAMuO,QACf+B,cAAe+M,OC3D/B,IAAMjf,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACJwK,SAAU,GAEZuU,WAAY,CACVrM,YAAa3S,EAAMc,QAAQ,IAE7BuO,MAAO,CACL5E,SAAU,OAIC,SAASwU,GAAavd,GACnC,IAAMC,EAAU7B,KAD0B,EAEN0N,IAAMzL,SAAS,CACjDsH,MAAM,EACN6V,YAAa,OAJ2B,mBAEnCC,EAFmC,KAEvBC,EAFuB,OAMA5R,IAAMzL,cAASgG,GANf,mBAMnCqJ,EANmC,KAMpBC,EANoB,KAsC1C,OACE,sBAAK/O,UAAWX,EAAQ1B,KAAxB,UACE,cAACof,GAAA,EAAD,CAAQxS,SAAS,SAAjB,SACE,eAACyS,GAAA,EAAD,CAAS7f,QAAQ,QAAjB,UACE,cAACkE,EAAA,EAAD,CAAQmJ,KAAK,QAAQlJ,QAASlC,EAAM6d,eAAgB7f,MAAM,UAA1D,iBAGA,cAACiE,EAAA,EAAD,CAAQmJ,KAAK,QAAQlJ,QArCA,WAC3Bwb,EAAc,CACZ/V,MAAM,EACN6V,YAAa,CACXrO,SAAUnP,EAAM8d,MAChBlc,KAAM,QACN9C,KAAM,WA+BgDd,MAAM,UAA1D,mBAGA,cAACiE,EAAA,EAAD,CAAQmJ,KAAK,QAAQlJ,QA7BA,WAC3Bwb,EAAc,CACZ/V,MAAM,EACN6V,YAAa,CACXrO,SAAUnP,EAAM+d,WAChBnc,KAAM,eACN9C,KAAM,kBAuBgDd,MAAM,UAA1D,wBAKwB,OAA3Byf,EAAWD,YACV,cAACzO,GAAD,CACEnN,KAAM6b,EAAWD,YAAY5b,KAC7B9C,KAAM2e,EAAWD,YAAY1e,KAC7BqQ,SAAUsO,EAAWD,YAAYrO,SACjCO,cAAeA,EACf/H,KAAM8V,EAAW9V,KACjBW,QA9BY,SAACjG,GACnBqb,EAAc,CAAE/V,MAAM,EAAO6V,YAAa,OAC1C7N,EAAiBtN,GACbA,GACFrC,EAAM6P,WAAW,CAAEnB,SAAUrM,EAAOvD,KAAM2e,EAAWD,YAAY1e,UA4B7D,QChDV,SAASjB,KACP,OACE,eAACC,EAAA,EAAD,CAAYC,QAAQ,QAAQC,MAAM,cAAcC,MAAM,SAAtD,UACG,kBACA,oBACA,IAAIC,MAAOC,cACX,OAKP,IAEMC,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACJc,QAAS,QAEX2e,QAAS,CACP9U,aAAc,IAEhB+U,YAAY,aACV5e,QAAS,OACTE,WAAY,SACZsJ,eAAgB,WAChBO,QAAS,SACN9K,EAAM4f,OAAOF,SAElBG,OAAQ,CACNvf,gBAAiBN,EAAMO,QAAQY,UAAUC,KACzC0e,OAAQ9f,EAAM8f,OAAOC,OAAS,EAC9B5I,WAAYnX,EAAMoX,YAAYC,OAAO,CAAC,QAAS,UAAW,CACxD2I,OAAQhgB,EAAMoX,YAAY4I,OAAOC,MACjCC,SAAUlgB,EAAMoX,YAAY8I,SAASC,iBAGzCC,YAAa,CACXjV,WAzBgB,IA0BhB7J,MAAM,eAAD,OA1BW,IA0BX,OACL6V,WAAYnX,EAAMoX,YAAYC,OAAO,CAAC,QAAS,UAAW,CACxD2I,OAAQhgB,EAAMoX,YAAY4I,OAAOC,MACjCC,SAAUlgB,EAAMoX,YAAY8I,SAASG,kBAGzCrB,WAAY,CACVrM,YAAa,IAEf2N,iBAAkB,CAChBvf,QAAS,QAEXsO,MAAO,CACL5E,SAAU,EACV2S,WAAY,GAEdmD,YAAa,CACX1T,SAAU,WACV2T,WAAY,SACZlf,MA7CgB,IA8ChB6V,WAAYnX,EAAMoX,YAAYC,OAAO,QAAS,CAC5C2I,OAAQhgB,EAAMoX,YAAY4I,OAAOC,MACjCC,SAAUlgB,EAAMoX,YAAY8I,SAASG,kBAGzCI,iBAAiB,cACfC,UAAW,SACXvJ,WAAYnX,EAAMoX,YAAYC,OAAO,QAAS,CAC5C2I,OAAQhgB,EAAMoX,YAAY4I,OAAOC,MACjCC,SAAUlgB,EAAMoX,YAAY8I,SAASC,gBAEvC7e,MAAOtB,EAAMc,QAAQ,IACpBd,EAAM6S,YAAYC,KAAK,MAAQ,CAC9BxR,MAAOtB,EAAMc,QAAQ,KAGzB6f,aAAc3gB,EAAM4f,OAAOF,QAC3BkB,QAAS,CAEPnW,SAAU,EACVvK,OAAQ,QACRkP,SAAU,QAEZhN,UAAW,CACTgb,WAAYpd,EAAMc,QAAQ,GAC1B+f,cAAe7gB,EAAMc,QAAQ,IAE/BF,MAAO,CACLkK,QAAS9K,EAAMc,QAAQ,GACvBC,QAAS,OACTqO,SAAU,OACVpO,cAAe,SACfqJ,aAAc,OACd/J,gBAAiBN,EAAMO,QAAQY,UAAUC,MAE3C0f,cAAc,cACZzW,aAAc,QACbrK,EAAM6S,YAAYC,KAAK,MAAQ,CAC9B/R,QAAS,SAGbggB,eAAgB,GAWhBC,WAAY,CACVxU,UAAW,SAIXjL,UAAWvB,EAAMc,QAAQ,IAE3BmgB,UAAW,CACTtO,YAAa3S,EAAMc,QAAQ,IAE7BogB,iBAAkB,CAChB9gB,gBAAgB,OAAD,OAASrB,EAAT,gDACf4B,mBAAoB,SACpBD,eAAgB,QAChBL,iBAAkB,YAClBiB,MAAO,QACPpB,OAAQ,aAuNGihB,oBAnNf,SAAmBzf,GACjB,IAAMC,EAAU7B,KADQ,EAEA0N,IAAMzL,UAAS,GAFf,mBAEjBsH,EAFiB,KAEXC,EAFW,OAGWkE,IAAMzL,SAAS,CAChDqO,SAAU,MACV5P,KAAM,QALgB,mBAGjB4gB,EAHiB,KAGH7P,EAHG,KASlB8P,EAAe,WAGnB9iB,IACAmD,EAAMyC,QAAQC,KAAK,WAMfkd,EAAoB,WACxBhY,GAAQ,IAGJiY,EAAkB,WACtBhQ,EAAW,CACTnB,SAAU,MACV5P,KAAM,SAWNghB,EAAyB,CAC3BC,IAAK,MACLb,QAAS,MAEX,OAAQQ,EAAa5gB,MACnB,IAAK,OACHghB,EAAuBC,IAAM,OAC7BD,EAAuBZ,QAAUQ,EAAahR,SAC9C,MACF,IAAK,cACHoR,EAAuBC,IAAM,cAC7BD,EAAuBZ,QAAUQ,EAAahR,SAC9C,MACF,IAAK,UACHoR,EAAuBC,IAAM,UAC7BD,EAAuBZ,QAAU,KACjC,MACF,QACEY,EAAuBC,IAAM,MAC7BD,EAAuBZ,QAAU,KAGrC,IAAMpB,EAAK,aAAO,IAAIkC,IAAIhgB,EAAMuO,QAAQK,KAAI,SAACd,GAAD,OAAYA,EAAOpH,UACzDqX,EAAU,aAAO,IAAIiC,IAAIhgB,EAAMuO,QAAQK,KAAI,SAACd,GAAD,OAAYA,EAAOhP,UAC9D7B,EnC9Ne,WACrB,IAAMgjB,EAAUtjB,eAAeC,QAAQ,QACvC,OAAIqjB,EACK9iB,KAAK+iB,MAAMD,GAEX,KmCyNIE,GACb,OACE,sBAAKvf,UAAWX,EAAQ1B,KAAxB,UACE,cAACsC,EAAA,EAAD,IACA,cAAC8c,GAAA,EAAD,CACExS,SAAS,WACTvK,UAAWwf,aAAKngB,EAAQke,OAAQxW,GAAQ1H,EAAQye,aAFlD,SAIE,eAACd,GAAA,EAAD,CAAShd,UAAWX,EAAQ+d,QAA5B,UACE,cAACjO,GAAA,EAAD,CACEsQ,KAAK,QACLriB,MAAM,UACNsiB,aAAW,cACXpe,QA1De,WACvB0F,GAAQ,IA0DAhH,UAAWwf,aACTngB,EAAQqd,WACR3V,GAAQ1H,EAAQ2e,kBAPpB,SAUE,cAAC,KAAD,MAEF,qBAAKhe,UAAWX,EAAQ0N,MAAxB,SACE,cAAC4S,GAAA,EAAD,CACEC,KAAK,IACL7f,UAAW8f,IACX9c,GAAG,IACH3F,MAAM,UACN0iB,UAAU,OACV3iB,QAAQ,KANV,SAQG,qBAAKgU,IAAG,UAAK1U,EAAL,8CAA4D2U,IAAI,GAAGxT,OAAQ,SAIxF,eAACV,EAAA,EAAD,CAAYC,QAAQ,QAAQ6C,UAAWX,EAAQsf,UAA/C,UACG,OACAtiB,EAAK2E,QAER,cAACK,EAAA,EAAD,CACElE,QAAQ,YACR6C,UAAWX,EAAQmf,cACnBld,QAASyd,EACT3hB,MAAM,UAJR,0BAWJ,eAAC2iB,GAAA,EAAD,CACE5iB,QAAQ,YACRkC,QAAS,CACPf,MAAOkhB,aAAKngB,EAAQ4e,aAAclX,GAAQ1H,EAAQ8e,mBAEpDpX,KAAMA,EACNW,QAASsX,EANX,UAQE,qBAAKhf,UAAWX,EAAQge,YAAxB,SACE,cAAClO,GAAA,EAAD,CAAY7N,QAAS0d,EAArB,SACE,cAAC,KAAD,QAGJ,cAAChM,GAAA,EAAD,IACA,eAACxE,GAAA,EAAD,WACE,eAACC,GAAA,EAAD,CAAUC,QAAM,EAACpN,QAAS2d,EAA1B,UACE,cAACjQ,GAAA,EAAD,UACE,cAAC,KAAD,CAAe5R,MAAM,cAEvB,cAACwR,GAAA,EAAD,CAAc3F,QAAQ,WAExB,cAAC,GAAD,CACEsF,SAAU2O,EACVjO,WAAYA,EACZjO,KAAK,QACL9C,KAAK,SAEP,cAAC,GAAD,CACEqQ,SAAU4O,EACVlO,WAAYA,EACZjO,KAAK,eACL9C,KAAK,mBAGT,cAAC8U,GAAA,EAAD,IACA,eAACxE,GAAA,EAAD,WACE,eAACC,GAAA,EAAD,CAAUC,QAAM,EAACpN,QApHL,WAClB2N,EAAW,CACTnB,SAAU,UACV5P,KAAM,aAiHF,UACE,cAAC8Q,GAAA,EAAD,UACE,cAAC,KAAD,CAAgB5R,MAAM,cAExB,cAACwR,GAAA,EAAD,CAAc3F,QAAQ,eAGxB,eAACwF,GAAA,EAAD,CAAUC,QAAM,EAACpN,QAASyd,EAA1B,UACE,cAAC/P,GAAA,EAAD,UACE,cAAC,KAAD,CAAe5R,MAAM,cAEvB,cAACwR,GAAA,EAAD,CAAc3F,QAAQ,qBAI5B,qBAAKjJ,UAAWX,EAAQuf,iBAAxB,SACE,uBAAM5e,UAAWX,EAAQif,QAAzB,UACE,qBAAKte,UAAWX,EAAQgf,eACxB,cAAC,GAAD,CACEpP,WAAYA,EACZiO,MAAOA,EACPC,WAAYA,EACZF,eAAgBgC,IAElB,sBAAKjf,UAAWX,EAAQqf,WAAxB,UACE,cAACxhB,EAAA,EAAD,CACEC,QAAQ,KACRqQ,cAAY,EACZxN,UAAWX,EAAQof,eAHrB,uBAOA,eAACvhB,EAAA,EAAD,CAAYC,QAAQ,KAApB,UACG+hB,EAAuBC,IACQ,QAA/BD,EAAuBC,KACO,YAA/BD,EAAuBC,IACnB,KACA,MACHD,EAAuBZ,cAG5B,eAAC0B,GAAA,EAAD,CAAW7M,SAAS,KAAKnT,UAAWX,EAAQS,UAA5C,UAC6B,YAA1Bgf,EAAahR,SACZ,8BACE,cAACxN,EAAA,EAAD,CAAON,UAAWX,EAAQf,MAAOiC,UAAW,GAA5C,SACE,cAAC,GAAD,CAASoN,QAASvO,EAAMuO,cAI5B,cAACD,GAAD,CACEC,QAASvO,EAAMuO,QACfC,SAAUkR,EAAa5gB,KACvB4P,SAAUgR,EAAahR,WAG3B,cAACzL,EAAA,EAAD,CAAK4d,GAAI,EAAT,SACE,cAAC,GAAD,oBCrWR/D,GAAMlf,EAAuB,oBA0GpBkjB,GAxGK,WAAO,IAAD,EACEzgB,mBAAS,CAACkO,QAAS,KADrB,mBACf/L,EADe,KACTue,EADS,KAEhBC,EAAUC,iBAAOze,GA8FvB,OA5FAuF,qBAAU,YACY,uCAAG,kCAAAkF,EAAA,+EAGU9K,IAAM+K,IAAI4P,IAHpB,OAGPva,EAHO,OAIbwe,EAAQ,CAACxS,QAAShM,EAASC,OAE3Bwe,EAAQE,QAAU,CAAC3S,QAAShM,EAASC,MANxB,cAQQD,EAASC,MARjB,IAQb,2BAAWsL,EAAyB,QAChCzI,EAAYI,UAAUxB,EAAQ6J,EAAOE,UAT5B,gFAYbpL,QAAQC,IAAR,MACAke,EAAQ,CAACxS,QAAS,KAbL,0DAAH,qDAiBlBd,GAEA,IAAMxJ,EAASoB,EAAYC,YAC3B1C,QAAQC,IAAIoB,GAEZ,IAAMsG,EAAiB,SAACvF,EAAOC,EAASiB,GAGpC,GAFAtD,QAAQC,IAAIoC,EAAQX,WAAYU,GAElB,YAAVA,OAAJ,CACI,IAAMmc,EAAUhkB,KAAK+iB,MAAMjb,EAAQX,YACnC,GAAuB,iBAAnB6c,EAAQ/Q,OAA2B,CACnC,IAAMgR,EAAU,CACZ7S,QAASyS,EAAQE,QAAQ3S,QAAQE,QAAO,SAACX,GAIrC,OAHIA,EAAOnH,WAAawa,EAAQxa,UAC5BtB,EAAYc,YAAYlC,EAAQ6J,EAAOE,UAEpCF,EAAOnH,WAAawa,EAAQxa,YAEvCe,aAAc,CACVJ,OAAQ6Z,EAAQxa,SAChBY,OAAQ4Z,EAAQ/Q,SAGxB4Q,EAAQE,QAAUE,EAClBL,EAAQK,QACL,GAAuB,cAAnBD,EAAQ/Q,OAAwB,CAIvC,GAHuB4Q,EAAQE,QAAQ3S,QAAQ8S,MAC3C,SAACnM,GAAD,OAAQA,EAAGvO,WAAawa,EAAQG,WAAW,GAAG3a,YAI9C,YADA/D,QAAQC,IAAI,8BAGZ,IADG,EACGue,EAAU,CACZ7S,QAASyS,EAAQE,QAAQ3S,QAAQgT,OAAOJ,EAAQG,YAChD5Z,aAAc,CAEVJ,OAAQ6Z,EAAQG,WAAW,GAAG3a,SAC9BY,OAAQ4Z,EAAQ/Q,SANrB,cASkB+Q,EAAQG,YAT1B,IASH,2BAAyC,CAAC,IAA/BxT,EAA8B,QACrCzI,EAAYI,UAAUxB,EAAQ6J,EAAOE,WAVtC,8BAYHgT,EAAQE,QAAUE,EAClBL,EAAQK,QAET,GAAuB,WAAnBD,EAAQ/Q,OAAqB,CACpCxN,QAAQC,IAAIse,GACZ,IAAMC,EAAU,CACZ7S,QAASyS,EAAQE,QAAQ3S,QACzB7G,aAAc,CACVH,OAAQ4Z,EAAQ/Q,OAChBjI,eAAgBgZ,EAAQK,WAAWrZ,eACnCpB,QAASoa,EAAQK,WAAWza,QAC5BqB,SAAU+Y,EAAQK,WAAWpZ,SAC7BF,WAAYiZ,EAAQK,WAAWtZ,aAGvC8Y,EAAQE,QAAUE,EAClBL,EAAQK,MAQpB,OAFAnd,EAAOyB,GAAG,UAAW6E,GAEd,WACH3H,QAAQC,IAAI,4BACZoB,EAAOuG,IAAI,UAAWD,MAE3B,IAGC,gCACI,cAAClD,GAAD,CAAcK,aAAclF,EAAKkF,eACjC,cAAC,GAAD,CAAW6G,QAAS/L,EAAK+L,QAAS7G,aAAclF,EAAKkF,mBC5GlD,ICAA,ICAA,ICAA,ICAA,ICAA,ICAA,ICAA,ICAA,ICAA,ICAA,ICgDA+Z,OApCf,WAAgB,IAAD,EACyBphB,oBAAS,GADlC,mBACNqhB,EADM,KACOC,EADP,KAsBb,OAnBA5Z,qBAAU,WACR,IAAM/K,EAAQN,IACTM,GAILmF,IACG+K,IADH,sDACsDlQ,IACnDsF,MAAK,SAACC,GACLxF,EAAewF,EAASC,KAAKxF,MAAOuF,EAASC,KAAKvF,MAClD0kB,GAAe,MAEhBhf,OAAM,SAACrC,GACNwC,MAAMxC,GACNzD,IACA8kB,GAAe,QAElB,IAECD,GAAehlB,IACV,qBAAKkE,UAAU,UAAf,wCAGP,cAAC,IAAD,UACE,eAAC,IAAD,WAGE,cAAC,EAAD,CAAcghB,KAAK,aAAajhB,UAAWkhB,KAC3C,cAAC,EAAD,CAAaD,KAAK,IAAIjhB,UAAWmhB,UC/B1BC,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqB3f,MAAK,YAAkD,IAA/C4f,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,O,oBCoDC1jB,GAzDDikB,aAAe,CACzB,QAAW,CACP,WAAc,CACV,QAAW,OACX,SAAY,UACZ,UAAa,UACb,OAAU,WAEd,KAAQ,CACJ,QAAW,UACX,UAAa,UACb,KAAQ,UACR,UAAa,SAEjB,QAAW,CAEP,KAAQ,UACR,MAAS,UACT,KAAQ,WAEZ,UAAa,CACT,KAAQ,UAER,MAAS,UACT,KAAQ,WAEZ,kBAAqB,OClBvBC,GAAiB,WACrBC,IAAS/e,OACP,eAACgf,GAAA,EAAD,CAAepkB,MAAOA,GAAtB,UACE,cAACuC,EAAA,EAAD,IACA,cAAC,GAAD,OAEFvD,SAASqlB,eAAe,UAIxBnlB,OAAOC,QACTH,SAASC,iBAAiB,eAAe,WACrCilB,QACD,GAEHA,KAMFT,O","file":"static/js/main.623591df.chunk.js","sourcesContent":["// return the user data from the session storage\nexport const getUser = () => {\n  const userStr = sessionStorage.getItem(\"user\");\n  if (userStr) {\n    return JSON.parse(userStr);\n  } else {\n    return null;\n  }\n};\n\n// return the token from the session storage\nexport const getToken = () => {\n  return sessionStorage.getItem(\"token\") || null;\n};\n\n// remove the token and user from the session storage\nexport const removeUserSession = () => {\n  sessionStorage.removeItem(\"token\");\n  sessionStorage.removeItem(\"user\");\n};\n\n// set the token and user from the session storage\nexport const setUserSession = (token, user) => {\n  sessionStorage.setItem(\"token\", token);\n  sessionStorage.setItem(\"user\", JSON.stringify(user));\n};\n","let FILE_PATH = '';\n\ndocument.addEventListener('deviceready', () => {\n    FILE_PATH = `${window.cordova.file.applicationDirectory}www`;\n}, false);\n\nexport {FILE_PATH};","export const backendApiUrl = {\n  server: \"http://192.168.1.66:5000/\",\n  ws: \"http://192.168.1.66:8883\",\n};\n","import React, { useState } from \"react\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Box from \"@material-ui/core/Box\";\nimport Grid from \"@material-ui/core/Grid\";\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport axios from \"axios\";\nimport { setUserSession } from \"../utils/Common\";\nimport {FILE_PATH} from '../utils/CordovaGlobals'\nimport { backendApiUrl } from \"../utils/Config\";\n\nfunction Copyright() {\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      {\"Copyright Â© \"}\n      {\"Home Automation \"}\n      {new Date().getFullYear()}\n      {\".\"}\n    </Typography>\n  );\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    height: \"100vh\",\n  },\n  image: {\n    backgroundImage: `url(${FILE_PATH}/static/media/home-automation3.2481b425.svg)`,\n    backgroundRepeat: \"no-repeat\",\n    backgroundColor:\n      theme.palette.type === \"light\"\n        ? theme.palette.grey[50]\n        : theme.palette.grey[900],\n    backgroundSize: \"cover\",\n    backgroundPosition: \"center\",\n  },\n  paper: {\n    margin: theme.spacing(8, 4),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: \"100%\", // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nexport default function SignInSide(props) {\n  const classes = useStyles();\n  const username = useFormInput(\"\");\n  const password = useFormInput(\"\");\n\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  // handle button click of login form\n  const handleLogin = () => {\n    setError(null);\n    setLoading(true);\n\n    axios\n      .post(backendApiUrl.server + \"api/users/signin\", {\n        username: username.value,\n        password: password.value,\n      })\n      .then((response) => {\n        setLoading(false);\n        setUserSession(response.data.token, response.data.user);\n        props.history.push(\"/dashboard\");\n      })\n      .catch((error) => {\n        console.log(error)\n        console.log(error.response)\n        // console.log(error.response.data);\n        alert(error);\n        setLoading(false);\n        if (error.response) {\n          if (error.response.status === 401 || error.response.status === 400) {\n            setError(error.response.data.message);\n          }\n        } else setError(\"Something went wrong. Please try again later.\");\n      });\n  };\n\n  return (\n    <Grid container component=\"main\" className={classes.root}>\n      <CssBaseline />\n      <Grid item xs={false} sm={4} md={7} className={classes.image} />\n      <Grid item xs={12} sm={8} md={5} component={Paper} elevation={6} square>\n        <div className={classes.paper}>\n          <Avatar className={classes.avatar}>\n            <LockOutlinedIcon />\n          </Avatar>\n          <Typography component=\"h1\" variant=\"h5\">\n            Sign in\n          </Typography>\n          <form className={classes.form} noValidate>\n            <TextField\n              variant=\"filled\"\n              color=\"secondary\"\n              margin=\"normal\"\n              required\n              fullWidth\n              id=\"username\"\n              label=\"Username\"\n              name=\"username\"\n              autoComplete=\"username\"\n              autoFocus\n              onChange={username.onChange}\n            />\n            <TextField\n              variant=\"filled\"\n              color=\"secondary\"\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"password\"\n              label=\"Password\"\n              type=\"password\"\n              id=\"password\"\n              autoComplete=\"current-password\"\n              onChange={password.onChange}\n            />\n            {error && (\n              <>\n                <small style={{ color: \"red\" }}>{error}</small>\n                <br />\n              </>\n            )}\n            <Button\n              type=\"button\"\n              fullWidth\n              variant=\"contained\"\n              color=\"primary\"\n              className={classes.submit}\n              onClick={handleLogin}\n            >\n              Sign In\n            </Button>\n            <Box mt={5}>\n              <Copyright />\n            </Box>\n          </form>\n        </div>\n      </Grid>\n    </Grid>\n  );\n}\n\nconst useFormInput = (initialValue) => {\n  const [value, setValue] = useState(initialValue);\n\n  const handleChange = (e) => {\n    setValue(e.target.value);\n  };\n  return {\n    value,\n    onChange: handleChange,\n  };\n};\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { getToken } from './Common';\n \n// handle the private routes\nfunction PrivateRoute({ component: Component, ...rest }) {\n  return (\n    <Route\n      {...rest}\n      render={(props) => getToken() ? <Component {...props} /> : <Redirect to={{ pathname: '/', state: { from: props.location } }} />}\n    />\n  )\n}\n \nexport default PrivateRoute;","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { getToken } from \"./Common\";\n\n// handle the public routes\nfunction PublicRoute({ component: Component, ...rest }) {\n  return (\n    <Route\n      {...rest}\n      render={(props) =>\n        !getToken() ? (\n          <Component {...props} />\n        ) : (\n          <Redirect to={{ pathname: \"/dashboard\" }} />\n        )\n      }\n    />\n  );\n}\n\nexport default PublicRoute;\n","import mqtt from \"mqtt\";\nimport { backendApiUrl } from \"./Config\";\n\nconst websocketUrl = backendApiUrl.ws;\nconst clientId = \"mqttjs_brower_\" + Math.random().toString(16).substr(2, 4);\nlet client;\n\nvar options = {\n  keepalive: 30,\n  clientId: clientId,\n  protocolId: \"MQTT\",\n  protocolVersion: 4,\n  clean: true,\n  reconnectPeriod: 1000,\n  connectTimeout: 30 * 1000,\n  will: {\n    topic: \"WillMsg\",\n    payload: \"Connection Closed abnormally..!\",\n    qos: 0,\n    retain: false,\n  },\n  rejectUnauthorized: false,\n};\n\nconst initClient = (errorHandler) => {\n  client = mqtt.connect(websocketUrl, options);\n\n  client.subscribe(\"browser\");\n\n  client.on(\"error\", (err) => {\n    console.log(`Connection to ${websocketUrl} failed`, err);\n    client.end();\n  });\n\n  client.on(\"close\", () => {\n    console.log(clientId + \" disconnected\");\n  });\n  return client;\n};\n\nconst getClient = () => {\n  if (!client) {\n    initClient();\n  }\n  return client;\n}\n\nconst onMessage = (client, callBack) => {\n  client.on(\"message\", (topic, message, packet) => {\n    console.log(message.toString(), topic);\n    \n    callBack(client, topic, message);\n  });\n};\n\nconst publishMessage = (client, topic, message) => {\n  client.publish(topic, message);\n}\n\nconst subscribe = (client, topic) => {\n  const callBack = (err, granted) => {\n    if (err) {\n      console.log(\"Subscription request failed\");\n    }\n  };\n  return client.subscribe(topic, callBack);\n};\n\nconst unsubscribe = (client, topic) => {\n  client.unsubscribe(topic);\n};\n\nconst closeConnection = (client) => {\n  client.end();\n  client = undefined;\n};\n\nconst extractMqttTopicInfo = (mqttTopic) => {\n  const splitStr = mqttTopic.split(\"/\");\n\n  const [room, deviceId, type, sensorName] = splitStr;\n\n  return {\n    room,\n    deviceId,\n    type,\n    sensorName,\n  };\n};\n\nconst mqttService = {\n  getClient,\n  publishMessage,\n  subscribe,\n  onMessage,\n  unsubscribe,\n  closeConnection,\n  extractMqttTopicInfo\n};\n\nexport default mqttService;\n","export const SENSOR_TYPE = {\n  RELAY_LIGHTBULB: 'Lightbulb',\n  TEMPERATURE_HUMIDITY: 'Temperature-Humidity',\n  LIGHT_INTENSITY: 'Light-Intensity',\n};\n\nexport const actionsByType = (type, command) => {\n  switch (type) {\n    case SENSOR_TYPE.RELAY_LIGHTBULB:\n      switch (command) {\n        case 'ON':\n          return 'Turning the lights on!';\n\n        case 'OFF':\n          return 'Turning the lights off!';\n        default:\n          break;\n      }\n      break;\n    default:\n      break;\n  }\n};\n\nexport const commandsByType = (type, command) => {\n  switch (type) {\n    case SENSOR_TYPE.RELAY_LIGHTBULB:\n      switch (command) {\n        case 'ON':\n          return {\n            command: 'ON',\n            description: 'Turn the lights on',\n            commandOnFailure: 'OFF',\n          };\n        case 'OFF':\n          return {\n            command: 'OFF',\n            description: 'Turn the lights off',\n            commandOnFailure: 'ON',\n          };\n\n        default:\n          return [\n            {\n              command: 'ON',\n              description: 'Turn the lights on',\n              commandOnFailure: 'OFF',\n            },\n            {\n              command: 'OFF',\n              description: 'Turn the lights off',\n              commandOnFailure: 'ON',\n            },\n          ];\n      }\n    default:\n      break;\n  }\n};\n\nexport const getMeasurementNamesByType = (type) => {\n  switch (type) {\n    case SENSOR_TYPE.TEMPERATURE_HUMIDITY:\n      return ['Temperature (Celcius)', 'Humidity (%)'];\n    case SENSOR_TYPE.LIGHT_INTENSITY:\n      return ['Light Intensity (%)'];\n    default:\n      break;\n  }\n};\n\nexport const getMeasurementUnitsName = (measurementName) => {\n  switch (measurementName) {\n    case 'Temperature (Celcius)':\n      return 'Celcius';\n    case 'Humidity (%)':\n      return '%';\n    case 'Light Intensity (%)':\n      return '%';\n    default:\n      break;\n  }\n};\n","import React, {useEffect, useState} from \"react\";\nimport MuiAlert from \"@material-ui/lab/Alert\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {actionsByType} from '../utils/SensorSpecific';\n\nfunction Alert(props) {\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: \"100%\",\n        \"& > * + *\": {\n            marginTop: theme.spacing(2),\n        },\n    },\n}));\n\nexport default function AlertMessage(props) {\n    const classes = useStyles();\n\n    const [open, setOpen] = useState(props.alertMessage ? true : false);\n\n    const handleClose = (event, reason) => {\n        if (reason === \"clickaway\") {\n            return;\n        }\n        setOpen(false);\n    };\n    // console.log(props.alertMessage);\n\n    useEffect(() => {\n        setOpen(props.alertMessage ? true : false);\n    }, [props]);\n\n    let device;\n    let reason;\n    if (props.alertMessage) {\n        device = props.alertMessage.device;\n        reason = props.alertMessage.reason;\n    }\n\n    let severity;\n    if (reason === \"connected\") {\n        severity = \"success\";\n    } else if (reason === \"disconnected\") {\n        severity = \"error\";\n    } else if (reason === \"action\") {\n        severity = \"info\";\n    }\n\n    let notificationMessage;\n    if (reason === 'action') {\n        const actionMessage = actionsByType(\n            props.alertMessage.sensorType,\n            props.alertMessage.command\n        );\n        notificationMessage = `${props.alertMessage.actionCategory}: ${actionMessage} (${props.alertMessage.sensorType} | ${props.alertMessage.roomName})`;\n    } else {\n        notificationMessage = `${device} was ${reason}`;\n    }\n\n    return (\n        <div className={classes.root}>\n            <Snackbar\n                open={open}\n                onClose={handleClose}\n                autoHideDuration={6000}\n                anchorOrigin={{vertical: \"bottom\", horizontal: \"center\"}}\n            >\n                <Alert severity={severity} onClose={handleClose}>\n                    {notificationMessage}\n                </Alert>\n            </Snackbar>\n        </div>\n    );\n}\n","import React, { useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Switch from \"@material-ui/core/Switch\";\nimport mqttService from \"../../utils/MQTT\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport {FILE_PATH} from \"../../utils/CordovaGlobals\";\nimport RouterIcon from \"@material-ui/icons/Router\";\nimport RoomIcon from \"@material-ui/icons/Room\";\nimport BlurCircularIcon from \"@material-ui/icons/BlurCircular\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    // width: \"100%\",\n    backgroundColor: \"white\",\n    borderRadius: \"10px\",\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    // flexDirection: \"column\",\n  },\n  info: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    flexGrow: 1,\n    flexDirection: \"column\",\n    justifyContent: \"space-around\",\n    borderRadius: \"10px\",\n    // backgroundColor: theme.palette.secondary.main,\n    // border:`2px solid ${theme.palette.secondary.main}`,\n    margin: theme.spacing(1),\n  },\n  deviceInfoIndividual: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    margin: theme.spacing(1),\n    color: theme.palette.secondary.main,\n  },\n  divContent: {\n    display: \"flex\",\n    alignItems: \"center\",\n    flexDirection: \"column\",\n    padding: theme.spacing(2),\n  },\n  imageLightOpen: {\n    margin: theme.spacing(1),\n    padding: theme.spacing(1),\n    backgroundImage: `url(${FILE_PATH}/static/media/lightbulb-open2.d67991f2.svg)`,\n    backgroundPosition: \"center\",\n    backgroundSize: \"contain\",\n    backgroundRepeat: \"no-repeat\",\n    width: 70,\n    height: 70,\n  },\n  imageLightClosed: {\n    margin: theme.spacing(1),\n    padding: theme.spacing(1),\n    backgroundImage: `url(${FILE_PATH}/static/media/lightbulb-closed2.909d2ca0.svg)`,\n    backgroundPosition: \"center\",\n    backgroundSize: \"contain\",\n    backgroundRepeat: \"no-repeat\",\n    width: 70,\n    height: 70,\n  },\n  currentState: {\n    display: \"flex\",\n    alignItems: \"center\",\n    padding: theme.spacing(1),\n  },\n  onOff: {\n    marginLeft: theme.spacing(1),\n    padding: theme.spacing(1),\n    color: theme.palette.secondary.main,\n    borderStyle: \"dashed\",\n    borderColor: theme.palette.secondary.main,\n    borderRadius: \"10px\",\n  },\n  roomInfo: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.primary.main,\n    color: \"white\",\n    // borderStyle: \"solid\",\n    // borderColor: theme.palette.secondar.main,\n    borderRadius: \"10px\",\n  },\n  circularProgress: {\n    display: \"inline\",\n    \"& > * + *\": {\n      marginLeft: theme.spacing(2),\n    },\n  },\n}));\n\nexport default function OutlinedCard(props) {\n  const classes = useStyles();\n  const [relayState, setRelayState] = useState(\"Loading...\");\n  const switchValue = relayState === \"ON\" ? true : false;\n  const [spinnerState, setSpinnerState] = useState({\n    spinner: false,\n    disabled: true,\n  });\n\n  const onChangeHandler = (ev) => {\n    const client = mqttService.getClient();\n    console.log(client, props.command);\n    if (ev.target.checked) {\n      mqttService.publishMessage(client, props.command, \"ON\");\n    } else {\n      mqttService.publishMessage(client, props.command, \"OFF\");\n    }\n\n    setSpinnerState({ spinner: true, disabled: true });\n  };\n\n  useEffect(() => {\n    const client = mqttService.getClient();\n\n    const messageHandler = (topic, payload, packet) => {\n      console.log(payload.toString(), topic);\n      if (topic === props.topic) {\n        setRelayState(payload.toString());\n        setSpinnerState({ spinner: false, disabled: false });\n      }\n    };\n\n    client.on(\"message\", messageHandler);\n\n    return () => {\n      console.log(\"unmounting relay\");\n      client.off(\"message\", messageHandler);\n    };\n  }, [props.topic]);\n  return (\n    <div className={classes.root}>\n      <div className={classes.divContent}>\n        {relayState === \"ON\" ? (\n          <div className={classes.imageLightOpen} />\n        ) : (\n          <div className={classes.imageLightClosed} />\n        )}\n        <div className={classes.currentState}>\n          <Typography variant=\"subtitle1\">{\"Current state \"}</Typography>\n          <Typography className={classes.onOff} variant=\"subtitle2\">\n            {relayState}\n          </Typography>\n        </div>\n\n        {spinnerState.spinner === true ? (\n          <div className={classes.circularProgress}>\n            <CircularProgress />\n          </div>\n        ) : null}\n        <Switch\n          onChange={onChangeHandler}\n          checked={switchValue}\n          disabled={spinnerState.disabled}\n        />\n      </div>\n      <div className={classes.info}>\n        <div className={classes.roomInfo}>\n          <RoomIcon />\n          <Typography variant=\"h5\">{props.roomName}</Typography>\n        </div>\n        <div className={classes.deviceInfoIndividual}>\n          <BlurCircularIcon />\n          <Typography variant=\"subtitle1\">{props.name}</Typography>\n        </div>\n        <div className={classes.deviceInfoIndividual}>\n          <RouterIcon />\n          <Typography variant=\"subtitle1\">{props.device}</Typography>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\n\nimport Box from \"@material-ui/core/Box\";\n\nimport RouterIcon from \"@material-ui/icons/Router\";\nimport RoomIcon from \"@material-ui/icons/Room\";\nimport BlurCircularIcon from \"@material-ui/icons/BlurCircular\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport {FILE_PATH} from \"../../utils/CordovaGlobals\";\nimport mqttService from \"../../utils/MQTT\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    // width: \"100%\",\n    backgroundColor: \"white\",\n    borderRadius: \"10px\",\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    // flexDirection: \"column\",\n  },\n  info: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    flexGrow: 1,\n    flexDirection: \"column\",\n    justifyContent: \"space-around\",\n    borderRadius: \"10px\",\n    // backgroundColor: theme.palette.secondary.main,\n    // border:`2px solid ${theme.palette.secondary.main}`,\n    margin: theme.spacing(1),\n  },\n  deviceInfoIndividual: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    margin: theme.spacing(1),\n    color: theme.palette.secondary.main,\n  },\n  divContent: {\n    display: \"flex\",\n    alignItems: \"center\",\n    flexDirection: \"column\",\n    padding: theme.spacing(2),\n  },\n  roomInfo: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.primary.main,\n    color: \"white\",\n    // borderStyle: \"solid\",\n    // borderColor: theme.palette.secondar.main,\n    borderRadius: \"10px\",\n  },\n  progressBar: {\n    textAlign: \"center\",\n    // padding: theme.spacing(1),\n    width: \"100%\",\n  },\n  brightnessIcon: {\n    margin: theme.spacing(1),\n    padding: theme.spacing(1),\n    backgroundImage: `url(${FILE_PATH}/static/media/brightness.f2162df0.svg)`,\n    backgroundPosition: \"center\",\n    backgroundSize: \"contain\",\n    backgroundRepeat: \"no-repeat\",\n    width: 30,\n    height: 30,\n  },\n  degrees: {\n    textAlign: \"center\",\n    backgroundColor: theme.palette.secondary.main,\n    paddingLeft: theme.spacing(1),\n    paddingRight: theme.spacing(1),\n    color: \"white\",\n    borderRadius: \"20px\",\n    fontWeight: \"bold\",\n  },\n}));\n\nfunction CircularProgressWithLabel(props) {\n  const classes = useStyles();\n\n  let value = props.value;\n  if (props.value > 100) {\n    value = 100;\n  }\n  return (\n    <Box position=\"relative\" display=\"inline-flex\">\n      <CircularProgress variant=\"determinate\" value={value} size={100} />\n      <Box\n        top={0}\n        left={0}\n        bottom={0}\n        right={0}\n        position=\"absolute\"\n        display=\"flex\"\n        alignItems=\"center\"\n        justifyContent=\"center\"\n      >\n        <div className={classes.divContent}>\n          <div className={classes.brightnessIcon} />\n          <Typography\n            variant=\"body2\"\n            component=\"div\"\n            color=\"textSecondary\"\n          >{`${Math.round(value)}%`}</Typography>\n        </div>\n      </Box>\n    </Box>\n  );\n}\n\n\nexport default function OutlinedCard(props) {\n  const classes = useStyles();\n\n  const [currBrightness, setCurrBrightness] = useState({\n    brightness: \"Loading...\",\n    percentage: 0,\n  });\n\n  React.useEffect(() => {\n    const client = mqttService.getClient();\n\n    const messageHandler = (topic, payload, packet) => {\n      console.log(payload.toString(), topic);\n      if (topic === props.topic) {\n        const luxStr = payload.toString();\n        const luxPercentage = parseFloat(luxStr);\n        setCurrBrightness({ brightness: luxStr, percentage: luxPercentage });\n      }\n    };\n\n    client.on(\"message\", messageHandler);\n\n    return () => {\n      console.log(\"unmounting light intensity\");\n      client.off(\"message\", messageHandler);\n    };\n  }, [props.topic]);\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.divContent}>\n        <div className={classes.progressBar}>\n          <CircularProgressWithLabel value={currBrightness.percentage} />\n        </div>\n        <Typography className={classes.degrees}>\n          {`${currBrightness.brightness} lux`}\n        </Typography>\n      </div>\n      <div className={classes.info}>\n        <div className={classes.roomInfo}>\n          <RoomIcon />\n          <Typography variant=\"h5\">{props.roomName}</Typography>\n        </div>\n        <div className={classes.deviceInfoIndividual}>\n          <BlurCircularIcon />\n          <Typography variant=\"subtitle1\">{props.sensorName}</Typography>\n        </div>\n        <div className={classes.deviceInfoIndividual}>\n          <RouterIcon />\n          <Typography variant=\"subtitle1\">{props.device}</Typography>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport RouterIcon from \"@material-ui/icons/Router\";\nimport RoomIcon from \"@material-ui/icons/Room\";\nimport BlurCircularIcon from \"@material-ui/icons/BlurCircular\";\n\nimport {FILE_PATH} from \"../../utils/CordovaGlobals\";\nimport mqttService from \"../../utils/MQTT\";\nimport { backendApiUrl } from \"../../utils/Config\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    // flexGrow: 1,\n    backgroundColor: \"white\",\n    borderRadius: \"10px\",\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    // flexDirection: \"column\",\n  },\n  degrees: {\n    textAlign: \"center\",\n    backgroundColor: theme.palette.secondary.main,\n    paddingLeft: theme.spacing(1),\n    paddingRight: theme.spacing(1),\n    color: \"white\",\n    borderRadius: \"20px\",\n    fontWeight: \"bold\",\n  },\n  imageTemperature: {\n    margin: theme.spacing(1),\n    padding: theme.spacing(1),\n    backgroundImage: `url(${FILE_PATH}/static/media/thermometer.26bec6cd.svg)`,\n    backgroundPosition: \"center\",\n    backgroundSize: \"contain\",\n    backgroundRepeat: \"no-repeat\",\n    width: 50,\n    height: 50,\n  },\n  imageHumidity: {\n    margin: theme.spacing(1),\n    padding: theme.spacing(1),\n    backgroundImage: `url(${FILE_PATH}/static/media/humidity.41d15f93.svg)`,\n    backgroundPosition: \"center\",\n    backgroundSize: \"contain\",\n    backgroundRepeat: \"no-repeat\",\n    width: 50,\n    height: 50,\n  },\n  imageAverage: {\n    margin: theme.spacing(1),\n    padding: theme.spacing(1),\n    backgroundImage: `url(${FILE_PATH}/static/media/average.9152ffbf.svg)`,\n    backgroundPosition: \"center\",\n    backgroundSize: \"contain\",\n    backgroundRepeat: \"no-repeat\",\n    width: 50,\n    height: 50,\n  },\n  divContent: {\n    display: \"flex\",\n    alignItems: \"center\",\n    flexDirection: \"column\",\n    padding: theme.spacing(1),\n  },\n  info: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    flexGrow: 1,\n    flexDirection: \"column\",\n    justifyContent: \"space-around\",\n    // backgroundColor: theme.palette.secondary.main,\n    // border:`2px solid ${theme.palette.primary.main}`,\n    borderRadius: \"10px\",\n    margin: theme.spacing(1),\n  },\n  deviceInfoIndividual: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    margin: theme.spacing(1),\n    // backgroundColor: theme.palette.secondary.main,\n    color: theme.palette.secondary.main,\n    borderRadius: \"10px\",\n  },\n  roomInfo: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.primary.main,\n    color: \"white\",\n\n    borderRadius: \"10px\",\n  },\n  tempHum: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    justifyContent: \"center\",\n  },\n  averageMeasurementsDiv: {\n    // flexGrow: 1,\n    display: \"flex\",\n    alignItems: \"center\",\n    flexDirection: \"column\",\n    // justifyContent: \"space-around\",\n    backgroundColor: theme.palette.secondary.main,\n    padding: theme.spacing(1),\n    borderRadius: \"10px\",\n    margin: theme.spacing(1),\n    color: \"white\",\n    // flexWrap: \"wrap\",\n  },\n}));\n\nexport default function OutlinedCard(props) {\n  const classes = useStyles();\n\n  const [averageData, setAverageData] = useState({\n    avgTemp: null,\n    avgHum: null,\n    isFetching: false,\n  });\n\n  const [currTempHum, setCurrTempHum] = useState({\n    temperature: \"Loading...\",\n    humidity: \"Loading...\",\n  });\n\n  let displayedAvg = \"No Samples yet\";\n\n  if (averageData.avgTemp !== null) {\n    displayedAvg = `${Math.round(averageData.avgTemp)}\\u00B0C /\n    ${Math.round(averageData.avgHum)}%`;\n  }\n\n  useEffect(() => {\n    const fetchDevices = async () => {\n      try {\n        setAverageData({ avgTemp: null, avgHum: null, isFetching: true });\n        const response = await axios.get(\n          `${backendApiUrl.server}api/measurements/${props.sensorName}`\n        );\n\n        let avgTemp = 0;\n        let avgHum = 0;\n        let total = 0;\n        for (const measurementBucket of response.data) {\n          avgTemp += measurementBucket.temperaturesSum;\n          avgHum += measurementBucket.humiditiesSum;\n          total += measurementBucket.measurementsCounter;\n        }\n        console.log(response.data);\n        if (response.data.length !== 0) {\n          avgTemp = avgTemp / total;\n          avgHum = avgHum / total;\n          setAverageData({\n            avgTemp: avgTemp,\n            avgHum: avgHum,\n            isFetching: false,\n          });\n        }\n      } catch (error) {\n        console.log(error);\n        setAverageData({ avgTemp: null, avgHum: null, isFetching: false });\n      }\n    };\n\n    fetchDevices();\n\n    const client = mqttService.getClient();\n\n    const messageHandler = (topic, payload, packet) => {\n      console.log(payload.toString(), topic);\n      if (topic === props.topic) {\n        const splitStr = payload.toString().split(\"-\");\n        setCurrTempHum({ temperature: splitStr[0], humidity: splitStr[1] });\n      }\n    };\n\n    client.on(\"message\", messageHandler);\n\n    return () => {\n      console.log(\"unmounting temp-hum\");\n      client.off(\"message\", messageHandler);\n    };\n  }, [props.topic, props.sensorName]);\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.averageMeasurementsDiv}>\n        <Typography variant=\"subtitle1\">{\"Average\"}</Typography>\n        <div className={classes.imageAverage} />\n        <Typography className={classes.degrees}>{displayedAvg}</Typography>\n      </div>\n      <div className={classes.tempHum}>\n        <div className={classes.divContent}>\n          <Typography variant=\"subtitle1\">Temperature</Typography>\n          <div className={classes.imageTemperature} />\n          <Typography className={classes.degrees}>\n            {`${currTempHum.temperature} \\u00B0C`}\n            <br />\n          </Typography>\n        </div>\n        <div className={classes.divContent}>\n          <Typography variant=\"subtitle1\">Humidity</Typography>\n          <div className={classes.imageHumidity} />\n          <Typography className={classes.degrees}>\n            {currTempHum.humidity} %\n            <br />\n          </Typography>\n        </div>\n      </div>\n\n      <div className={classes.info}>\n        <div className={classes.roomInfo}>\n          <RoomIcon />\n          <Typography variant=\"h5\">{props.roomName}</Typography>\n        </div>\n        <div className={classes.deviceInfoIndividual}>\n          <BlurCircularIcon />\n          <Typography variant=\"subtitle1\">{props.sensorName}</Typography>\n        </div>\n        <div className={classes.deviceInfoIndividual}>\n          <RouterIcon />\n          <Typography variant=\"subtitle1\">{props.device}</Typography>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport Grid from \"@material-ui/core/Grid\";\n\nimport Paper from \"@material-ui/core/Paper\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Typography } from \"@material-ui/core\";\n\nimport RelayCard from \"./RelayCard\";\nimport LightIntensityCard from \"./LightIntensityCard\";\nimport TemperatureHumidityCard from \"./TemperatureHumidityCard\";\nimport { SENSOR_TYPE } from \"../../utils/SensorSpecific\";\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    padding: theme.spacing(1),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n    backgroundColor: theme.palette.secondary.main,\n    borderRadius: \"10px\",\n  },\n  title: {\n    backgroundColor: theme.palette.secondary.main,\n    color: \"white\",\n    borderRadius: \"10px\",\n    paddingLeft: theme.spacing(1),\n    paddingRight: theme.spacing(1),\n    textAlign: \"center\",\n  },\n  roomTitle: {\n    textAlign: \"center\",\n    backgroundColor: theme.palette.primary.main,\n    color: \"white\",\n    borderRadius: \"10px\",\n    paddingLeft: theme.spacing(1),\n    paddingRight: theme.spacing(1),\n    margin: theme.spacing(1),\n  },\n}));\n\nexport default function SensorGridItem(props) {\n  const classes = useStyles();\n  if (props.sensor.type === SENSOR_TYPE.LIGHT_INTENSITY) {\n    return (\n      <Grid item xs={\"auto\"} md={\"auto\"} lg={\"auto\"}>\n        <Paper className={classes.paper} elevation={6}>\n          <Typography variant=\"h6\" className={classes.title}>\n            Room brightness\n          </Typography>\n          <LightIntensityCard\n            topic={props.sensor.pubTopic}\n            roomName={props.sensor.room}\n            device={props.sensor.deviceId}\n            sensorName={props.sensor.name}\n          />\n        </Paper>\n      </Grid>\n    );\n  } else if (props.sensor.type === SENSOR_TYPE.TEMPERATURE_HUMIDITY) {\n    return (\n      <Grid item xs={\"auto\"} md={\"auto\"} lg={\"auto\"}>\n        <Paper className={classes.paper} elevation={6}>\n          <Typography variant=\"h6\" className={classes.title}>\n            Temperature & Humidity\n          </Typography>\n          {/* <Typography className={classes.roomTitle}>\n            {props.sensor.room}\n          </Typography> */}\n          <TemperatureHumidityCard\n            topic={props.sensor.pubTopic}\n            roomName={props.sensor.room}\n            device={props.sensor.deviceId}\n            sensorName={props.sensor.name}\n          />\n        </Paper>\n      </Grid>\n    );\n  } else if (props.sensor.type === SENSOR_TYPE.RELAY_LIGHTBULB) {\n    return (\n      <Grid item xs={\"auto\"} md={\"auto\"} lg={\"auto\"}>\n        <Paper className={classes.paper} elevation={6}>\n          <Typography variant=\"h6\" className={classes.title}>\n            Lights\n          </Typography>\n          {/* <Typography className={classes.roomTitle}>\n            {props.sensor.room}\n          </Typography> */}\n          <RelayCard\n            roomName={props.sensor.room}\n            device={props.sensor.deviceId}\n            name={props.sensor.name}\n            command={props.sensor.commandTopic}\n            topic={props.sensor.pubTopic}\n          />\n        </Paper>\n      </Grid>\n    );\n  } else {\n    return null;\n  }\n}\n","import { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport {FILE_PATH} from '../utils/CordovaGlobals'\n\nconst useStyles = makeStyles((theme) => ({\n  image: {\n    margin: theme.spacing(1),\n    padding: theme.spacing(1),\n    backgroundImage: `url(${FILE_PATH}/static/media/not-found.cd5a9b2a.svg)`,\n    backgroundPosition: \"center\",\n    backgroundSize: \"contain\",\n    backgroundRepeat: \"no-repeat\",\n    width: \"80vh\",\n    height: \"50vh\",\n  },\n  divNoContent: {\n    margin: theme.spacing(1),\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  title: {\n    margin: theme.spacing(1),\n    padding: theme.spacing(1),\n    color: \"white\",\n    textAlign: \"center\"\n  },\n}));\n\nexport default function NoContentPage(props) {\n  const classes = useStyles();\n  return (\n    <div className={classes.divNoContent}>\n      <Typography\n        variant=\"h3\"\n        component=\"h3\"\n        gutterBottom\n        className={classes.title}\n      >\n        {props.displayItem ? `No ${props.displayItem} Found` : `Nothing Found`}\n      </Typography>\n      <div className={classes.image} />\n    </div>\n  );\n}\n","import React from \"react\";\nimport Sensor from \"./Sensor\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport NoContentPage from \"../NoContentPage\";\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n    backgroundColor: theme.palette.secondary.main,\n  },\n}));\n\nexport default function Sensors(props) {\n  const classes = useStyles();\n\n  let sensors = props.sensors;\n  if (props.filtered === \"room\") {\n    sensors = props.sensors.filter((sensor) => sensor.room === props.selected);\n  } else if (props.filtered === \"sensor-type\") {\n    sensors = props.sensors.filter((sensor) => sensor.type === props.selected);\n  }\n\n  if (sensors.length === 0) {\n    return (\n      <Paper className={classes.paper} elevation={10}>\n        <NoContentPage displayItem={\"Devices\"} />\n      </Paper>\n    );\n  }\n\n  return (\n    <Grid container spacing={3} justify=\"center\">\n      {sensors.map((sensor) => {\n        return <Sensor sensor={sensor} key={sensor.name} />;\n      })}\n    </Grid>\n\n  );\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport MeetingRoomIcon from \"@material-ui/icons/MeetingRoom\";\nimport DeviceHubIcon from \"@material-ui/icons/DeviceHub\";\nimport Typography from \"@material-ui/core/Typography\";\nimport RoomIcon from \"@material-ui/icons/Room\";\nimport CategoryIcon from \"@material-ui/icons/Category\";\n// const capitalize = (s) => {\n//   return s && s[0].toUpperCase() + s.slice(1);\n// };\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    \"& > *\": {\n      margin: theme.spacing(1),\n    },\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  dialogPaper: {\n    // minWidth: \"50vh\",\n  },\n  emptyContentLabel: {\n    margin:36,\n  },\n}));\n\nexport function SimpleDialog(props) {\n  const classes = useStyles();\n  const { onClose, open } = props;\n\n  const handleClose = () => {\n    onClose(undefined);\n  };\n\n  const handleListItemClick = (value) => {\n    onClose(value);\n  };\n\n  return (\n    <div className={classes.root}>\n\n    <Dialog\n      classes={{ paper: classes.dialogPaper }}\n      onClose={handleClose}\n      aria-labelledby=\"simple-dialog-title\"\n      open={open}\n    >\n      <DialogTitle id=\"simple-dialog-title\">{props.name}</DialogTitle>\n      {props.contents.length !== 0 ? (\n        <List>\n          {props.contents.map((item) => {\n            return (\n              <ListItem\n                button\n                onClick={() => handleListItemClick(item)}\n                key={item}\n              >\n                <ListItemAvatar>\n                  <Avatar className={classes.avatar}>\n                    {props.type === \"room\" ? (\n                      <MeetingRoomIcon />\n                    ) : (\n                      <DeviceHubIcon />\n                    )}\n                  </Avatar>\n                </ListItemAvatar>\n                <ListItemText primary={item} />\n              </ListItem>\n            );\n          })}\n        </List>\n      ) : (\n        <Typography\n          variant=\"body1\"\n          color=\"secondary\"\n          align=\"center\"\n          className={classes.emptyContentLabel}\n        >\n          {\"No \"}\n          {props.name}\n          {\" found.\"}\n        </Typography>\n      )}\n    </Dialog>\n    </div>\n  );\n}\n\nexport default function SimpleDialogDemo(props) {\n  const [open, setOpen] = React.useState(false);\n  const [selectedValue, setSelectedValue] = React.useState(undefined);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = (value) => {\n    setOpen(false);\n    setSelectedValue(value);\n    if (value) {\n      props.selectItem({ selected: value, type: props.type });\n    }\n  };\n\n  return (\n    <div>\n      <ListItem button onClick={handleClickOpen}>\n        <ListItemIcon>\n          {props.type === \"room\" ? <RoomIcon color=\"primary\"/> : <CategoryIcon color=\"primary\"/>}\n        </ListItemIcon>\n        <ListItemText primary={props.name} />\n      </ListItem>\n      <SimpleDialog\n        name={props.name}\n        type={props.type}\n        contents={props.contents}\n        selectedValue={selectedValue}\n        open={open}\n        onClose={handleClose}\n      />\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport axios from \"axios\";\nimport { backendApiUrl } from \"../../../utils/Config\";\n\nexport default function ResponsiveDialog(props) {\n  const [open, setOpen] = React.useState(false);\n  const [error, setError] = useState(null);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n    setError(null);\n  };\n\n  const deleteAction = () => {\n    setError(null);\n\n    axios\n      .delete(`${backendApiUrl.server}api/actions/${props.action._id}`, {\n        data: props.action._id,\n      })\n      .then((response) => {\n        props.updateActions(\n          props.action._id.toString() + Math.random().toString(16).substr(2, 8)\n        );\n        setOpen(false);\n      })\n      .catch((error) => {\n        console.log(error.response);\n        if (error.response) {\n          if (error.response.status === 404) {\n            setError(error.response.data.message);\n          }\n        } else setError(\"Something went wrong. Please try again later.\");\n      });\n  };\n\n  return (\n    <div>\n      <IconButton onClick={handleClickOpen} color=\"primary\">\n        <DeleteIcon />\n      </IconButton>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"responsive-dialog-title\"\n      >\n        <DialogTitle id=\"responsive-dialog-title\">{\"Warning\"}</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Are you sure you want to delete this action?\n          </DialogContentText>\n          {error && (\n            <>\n              <small style={{ color: \"red\" }}>{error}</small>\n              <br />\n            </>\n          )}\n        </DialogContent>\n        <DialogActions>\n          <Button\n            variant=\"contained\"\n            autoFocus\n            onClick={handleClose}\n            color=\"primary\"\n          >\n            Cancel\n          </Button>\n          <Button\n            variant=\"contained\"\n            autoFocus\n            onClick={deleteAction}\n            color=\"primary\"\n          >\n            Delete\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport ScheduleIcon from \"@material-ui/icons/Schedule\";\nimport LoopIcon from \"@material-ui/icons/Loop\";\nconst useStyles = makeStyles((theme) => ({\n  accordionContent: {\n    backgroundColor: theme.palette.secondary.main,\n    color: \"white\",\n    width: \"100%\",\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    justifyContent: \"space-around\",\n    borderRadius: \"10px\",\n  },\n  timeInfoIndividual: {\n    display: \"flex\",\n    alignItems: \"center\",\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    margin: theme.spacing(1),\n  },\n  dateLabel: {\n    marginLeft: theme.spacing(1),\n\n  }\n}));\n\nexport default function TimerActionContent(props) {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.accordionContent}>\n      <div className={classes.timeInfoIndividual}>\n        <ScheduleIcon />\n        <Typography className={classes.dateLabel} variant=\"subtitle1\">\n          {`Starting time: ${props.date.toLocaleString()}`}\n        </Typography>\n      </div>\n      <div className={classes.timeInfoIndividual}>\n        <LoopIcon />\n        <Typography className={classes.dateLabel} variant=\"subtitle1\">{props.recurrenceMessage}</Typography>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport {getMeasurementUnitsName} from \"../../../utils/SensorSpecific\";\nimport RoomIcon from \"@material-ui/icons/Room\";\nimport RouterIcon from \"@material-ui/icons/Router\";\nimport BlurCircularIcon from \"@material-ui/icons/BlurCircular\";\n\nconst useStyles = makeStyles((theme) => ({\n    accordionContent: {\n        backgroundColor: theme.palette.secondary.main,\n        color: \"white\",\n        width: \"100%\",\n        display: \"flex\",\n        flexWrap: \"wrap\",\n        justifyContent: \"space-around\",\n        borderRadius: \"10px\",\n    },\n    whenDescription: {\n        display: \"flex\",\n\n        alignItems: \"center\",\n        paddingLeft: theme.spacing(2),\n        paddingRight: theme.spacing(2),\n        margin: theme.spacing(1),\n        flexWrap: \"wrap\",\n    },\n    whenSensorDescription: {\n        borderRadius: \"10px\",\n        backgroundColor: \"white\",\n        // color: theme.palette.secondary.main,\n        display: \"flex\",\n        alignItems: \"center\",\n        paddingLeft: theme.spacing(2),\n        paddingRight: theme.spacing(2),\n        margin: theme.spacing(1),\n        flexWrap: \"wrap\",\n    },\n    labelDynamicContent: {\n        marginLeft: theme.spacing(1),\n        marginRight: theme.spacing(1),\n        backgroundColor: theme.palette.primary.main,\n        paddingLeft: theme.spacing(1),\n        paddingRight: theme.spacing(1),\n        borderRadius: \"10px\",\n    },\n    deviceInfoIndividual: {\n        display: \"flex\",\n        alignItems: \"center\",\n        paddingLeft: theme.spacing(2),\n        paddingRight: theme.spacing(2),\n        margin: theme.spacing(1),\n        // backgroundColor: theme.palette.secondary.main,\n        color: theme.palette.secondary.main,\n        // borderStyle: \"solid\",\n        // borderColor: theme.palette.secondar.main,\n        borderRadius: \"10px\",\n    },\n    roomInfo: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        paddingLeft: theme.spacing(2),\n        paddingRight: theme.spacing(2),\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.primary.main,\n        color: \"white\",\n\n        borderRadius: \"10px\",\n    },\n    deviceInfo: {\n        display: \"flex\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n        [theme.breakpoints.down(\"md\")]: {\n            marginTop: theme.spacing(2),\n        },\n    },\n}));\n\nexport default function TimerActionContent(props) {\n    const classes = useStyles();\n\n    return (\n        <div className={classes.accordionContent}>\n            <div className={classes.whenDescription}>\n                <Typography variant=\"subtitle1\">\n                    {`When ${props.measurementType.toLowerCase()} is ${props.comparisonType.toLowerCase()} ${props.quantity} ${getMeasurementUnitsName(props.measurementType)}.`}\n                </Typography>\n            </div>\n            <div className={classes.whenSensorDescription}>\n                <Typography variant=\"subtitle1\" color=\"secondary\">{\"Sensor: \" + props.measurementSensorType}</Typography>\n            </div>\n            <div className={classes.whenSensorDescription}>\n                <div className={classes.roomInfo}>\n                    <RoomIcon/>\n                    <Typography variant=\"subtitle1\">{props.measurementRoomName}</Typography>\n                </div>\n                <div className={classes.deviceInfoIndividual}>\n                    <BlurCircularIcon/>\n                    <Typography variant=\"subtitle1\">\n                        {props.measurementSensorName}\n                    </Typography>\n                </div>\n                <div className={classes.deviceInfoIndividual}>\n                    <RouterIcon/>\n                    <Typography variant=\"subtitle1\">\n                        {props.measurementDeviceId}\n                    </Typography>\n                </div>\n            </div>\n        </div>\n    );\n}\n","import React from \"react\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport {FILE_PATH} from '../../../utils/CordovaGlobals'\n\nconst useStyles = makeStyles((theme) => ({\n    accordionContent: {\n        backgroundColor: theme.palette.secondary.main,\n        color: \"white\",\n        width: \"100%\",\n        display: \"flex\",\n        flexWrap: \"wrap\",\n        justifyContent: \"space-around\",\n        borderRadius: \"10px\",\n    },\n    info: {\n        display: \"flex\",\n        alignItems: \"center\",\n        paddingLeft: theme.spacing(2),\n        paddingRight: theme.spacing(2),\n        margin: theme.spacing(1),\n    },\n    label: {\n        marginLeft: theme.spacing(1),\n    },\n    radiusMeters: {\n        marginLeft: theme.spacing(1),\n        paddingLeft: theme.spacing(1),\n        paddingRight: theme.spacing(1),\n        backgroundColor: theme.palette.primary.main,\n        borderRadius: \"10px\",\n        color: \"white\"\n    }\n}));\n\nexport default function LocationActionContent(props) {\n    const classes = useStyles();\n\n    return (\n        <div className={classes.accordionContent}>\n            <div className={classes.info}>\n                <img src={`${FILE_PATH}/static/media/home-location.cc2515ec.svg`} alt=\"Home Location\" width=\"35\" height=\"35\"/>\n                <Typography className={classes.label} variant=\"subtitle1\">\n                    {\"Radius:\"}\n                </Typography>\n                <Typography className={classes.radiusMeters} variant=\"subtitle1\">\n                    {`${props.radius}`}\n                </Typography>\n                <Typography className={classes.label} variant=\"subtitle1\">\n                    {\"meters\"}\n                </Typography>\n            </div>\n        </div>\n    );\n}\n","import React from \"react\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport RouterIcon from \"@material-ui/icons/Router\";\nimport RoomIcon from \"@material-ui/icons/Room\";\nimport BlurCircularIcon from \"@material-ui/icons/BlurCircular\";\nimport Accordion from \"@material-ui/core/Accordion\";\nimport AccordionDetails from \"@material-ui/core/AccordionDetails\";\nimport AccordionSummary from \"@material-ui/core/AccordionSummary\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport Divider from \"@material-ui/core/Divider\";\nimport DeleteActionDialog from \"./common/DeleteActionDialog\";\nimport TimerActionAccordionDetails from \"./TimerActions/TimerActionAccordionDetails\";\nimport SensorBasedAccordionDetails from \"./SensorBasedActions/SensorBasedAccordionDetails\";\nimport LocationActionAccordionDetails from \"./LocationBasedActions/LocationActionAccordionDetails\";\nimport {commandsByType} from \"../../utils/SensorSpecific\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: \"100%\",\n    },\n    command: {\n        color: theme.palette.primary.main,\n        fontSize: theme.typography.pxToRem(15),\n        padding: theme.spacing(1),\n        margin: theme.spacing(1),\n        flexShrink: 0,\n        borderStyle: \"solid\",\n        borderColor: theme.palette.primary.main,\n        borderRadius: \"10px\",\n        backgroundColor: theme.palette.secondary.main,\n    },\n    headingCommand: {\n        // borderStyle: \"dashed\",\n        borderColor: theme.palette.secondary.main,\n        borderRadius: \"10px\",\n        display: \"flex\",\n        flexWrap: \"wrap\",\n        alignItems: \"center\",\n    },\n    heading: {\n        // fontSize: theme.typography.pxToRem(15),\n        // padding: theme.spacing(1),\n        width: \"100px\",\n        margin: theme.spacing(1),\n        flexShrink: 0,\n    },\n    secondaryHeading: {\n        fontSize: theme.typography.pxToRem(15),\n        color: theme.palette.text.secondary,\n        padding: theme.spacing(1),\n        margin: theme.spacing(1),\n    },\n    summary: {\n        display: \"flex\",\n        alignItems: \"center\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n    },\n\n    deviceInfoIndividual: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        paddingLeft: theme.spacing(2),\n        paddingRight: theme.spacing(2),\n        margin: theme.spacing(1),\n        color: theme.palette.secondary.main,\n    },\n    roomInfo: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        paddingLeft: theme.spacing(2),\n        paddingRight: theme.spacing(2),\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.primary.main,\n        color: \"white\",\n\n        borderRadius: \"10px\",\n    },\n    deviceInfo: {\n        display: \"flex\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n        [theme.breakpoints.down(\"md\")]: {\n            marginTop: theme.spacing(2),\n        },\n    },\n\n    deleteButton: {\n        display: \"flex\",\n        justifyContent: \"center\",\n    },\n}));\n\nexport default function ActionCard(props) {\n    const classes = useStyles();\n\n    const [expanded, setExpanded] = React.useState(false);\n\n    const handleChange = (panel) => (event, isExpanded) => {\n        setExpanded(isExpanded ? panel : false);\n    };\n\n    let details = null;\n    switch (props.action.actionCategory) {\n        case \"Timer Action\":\n            let date;\n            let recurrenceMessage;\n            if (props.action.recurrenceNumber) {\n                recurrenceMessage = `Every ${props.action.recurrenceNumber} ${props.action.recurrenceTimeUnit}`;\n            } else {\n                recurrenceMessage = \"None\";\n            }\n            date = new Date(props.action.startTime);\n            details = (\n                <TimerActionAccordionDetails\n                    recurrenceMessage={recurrenceMessage}\n                    date={date}\n                />\n            );\n            break;\n        case \"Sensor-Based Action\":\n            details = (\n                <SensorBasedAccordionDetails\n                    measurementType={props.action.measurementType}\n                    quantity={props.action.quantity}\n                    comparisonType={props.action.comparisonType}\n                    measurementSensorName={props.action.measurementSensorName}\n                    measurementDeviceId={props.action.measurementDeviceId}\n                    measurementRoomName={props.action.measurementRoomName}\n                    measurementSensorType={props.action.measurementSensorType}\n                />\n            );\n            break;\n        case \"Location-Based Action\":\n            details = (\n                <LocationActionAccordionDetails\n                    radius={props.action.radius}\n                />\n            )\n            break;\n        default:\n            break;\n    }\n\n    const commandDescription = commandsByType(\n        props.action.sensorType,\n        props.action.command\n    );\n    const registrationDate = new Date(props.action.registrationDate);\n    return (\n        <div className={classes.root}>\n            <Accordion\n                expanded={expanded === \"panel1\"}\n                onChange={handleChange(\"panel1\")}\n            >\n                <AccordionSummary\n                    expandIcon={<ExpandMoreIcon/>}\n                    aria-controls=\"panel1bh-content\"\n                    id=\"panel1bh-header\"\n                >\n                    <div className={classes.summary}>\n                        <div className={classes.headingCommand}>\n                            <Typography variant=\"subtitle1\" className={classes.heading}>\n                                {props.action.actionCategory}\n                            </Typography>\n                            <Typography className={classes.command}>\n                                {props.action.sensorType + \" | \"}\n                                {commandDescription.description}\n                            </Typography>\n                        </div>\n\n                        <div className={classes.deviceInfo}>\n                            <div className={classes.roomInfo}>\n                                <RoomIcon/>\n                                <Typography variant=\"subtitle1\">\n                                    {props.action.roomName}\n                                </Typography>\n                            </div>\n                            <div className={classes.deviceInfoIndividual}>\n                                <BlurCircularIcon/>\n                                <Typography variant=\"subtitle1\">\n                                    {props.action.sensorName}\n                                </Typography>\n                            </div>\n                            <div className={classes.deviceInfoIndividual}>\n                                <RouterIcon/>\n                                <Typography variant=\"subtitle1\">\n                                    {props.action.deviceId}\n                                </Typography>\n                            </div>\n                        </div>\n                        <Typography className={classes.secondaryHeading}>\n                            {\"Registered on: \"}\n                            {registrationDate.toLocaleString()}\n                        </Typography>\n                    </div>\n                </AccordionSummary>\n                <AccordionDetails>{details}</AccordionDetails>\n                <Divider/>\n                <div className={classes.deleteButton}>\n                    <DeleteActionDialog\n                        action={props.action}\n                        updateActions={props.updateActions}\n                    />\n                </div>\n            </Accordion>\n        </div>\n    );\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport RouterIcon from \"@material-ui/icons/Router\";\nimport RoomIcon from \"@material-ui/icons/Room\";\nimport BlurCircularIcon from \"@material-ui/icons/BlurCircular\";\n\nconst useStyles = makeStyles((theme) => ({\n  button: {\n    display: \"block\",\n    marginTop: theme.spacing(2),\n  },\n  formControl: {\n    minWidth: 120,\n    maxWidth: 250\n  },\n  menuItem: {\n    padding: theme.spacing(1),\n    display: \"flex\",\n  },\n}));\n\nexport default function ControlledOpenSelect(props) {\n  const classes = useStyles();\n  const [selectedSensor, setSelectedSensor] = React.useState(\"\");\n  const [open, setOpen] = React.useState(false);\n\n  const handleChange = (event) => {\n    setSelectedSensor(event.target.value);\n    props.selectSensor(event.target.value);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  let filteredSensors = null;\n  if (props.sensors) {\n    if (props.isCommandSensor === undefined) {\n      filteredSensors = props.sensors;\n    } else if (props.isCommandSensor) {\n      filteredSensors = props.sensors.filter((sensor) => {\n        return sensor.commandTopic;\n      });\n    } else if (!props.isCommandSensor) {\n      filteredSensors = props.sensors.filter((sensor) => {\n        return !sensor.commandTopic;\n      });\n    }\n  }\n\n  // console.log(selectedSensor);\n  return (\n    <div>\n      <FormControl required className={classes.formControl}>\n        <InputLabel id=\"demo-controlled-open-select-label\">Sensor</InputLabel>\n        <Select\n          labelId=\"demo-controlled-open-select-label\"\n          id=\"demo-controlled-open-select\"\n          open={open}\n          onClose={handleClose}\n          onOpen={handleOpen}\n          value={selectedSensor}\n          onChange={handleChange}\n        >\n          <MenuItem value=\"\">\n            <em>None</em>\n          </MenuItem>\n\n          {filteredSensors\n            ? filteredSensors.map((sensor) => {\n                return (\n                  <MenuItem value={sensor} key={sensor.name}>\n                    <BlurCircularIcon />\n                    {\"  \"}\n                    {sensor.name}\n                    {\"  \"}\n                    <RoomIcon />\n                    {\"  \"}\n                    {sensor.room}\n                    {\"  \"}\n                    <RouterIcon />\n                    {\"  \"}\n                    {sensor.deviceId}\n                  </MenuItem>\n                );\n              })\n            : null}\n        </Select>\n      </FormControl>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport {commandsByType} from \"../../../utils/SensorSpecific\";\n\nconst useStyles = makeStyles((theme) => ({\n  formControl: {\n    // margin: theme.spacing(1),\n    minWidth: 120,\n  },\n  menuItem: {\n    padding: theme.spacing(1),\n  },\n}));\n\n\n\nexport default function CommandMenu(props) {\n  const classes = useStyles();\n  const [selectedCommand, setSelectedCommand] = React.useState(\"\");\n  const [open, setOpen] = React.useState(false);\n\n  const handleChange = (event) => {\n    setSelectedCommand(event.target.value);\n    props.selectCommand(event.target.value);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  const commandsArray = commandsByType(props.type);\n  return (\n    <div>\n      <FormControl required className={classes.formControl}>\n        <InputLabel id=\"demo-controlled-open-select-label\">Command</InputLabel>\n        <Select\n          labelId=\"demo-controlled-open-select-label\"\n          id=\"demo-controlled-open-select\"\n          open={open}\n          onClose={handleClose}\n          onOpen={handleOpen}\n          value={selectedCommand}\n          onChange={handleChange}\n        >\n          {commandsArray\n            ? commandsArray.map((el, index) => {\n                return (\n                  <MenuItem value={el.command} key={index}>\n                    {el.description}\n                  </MenuItem>\n                );\n              })\n            : null}\n        </Select>\n      </FormControl>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { makeStyles, withStyles } from \"@material-ui/core/styles\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport InputBase from \"@material-ui/core/InputBase\";\n\nconst BootstrapInput = withStyles((theme) => ({\n  root: {\n    \"label + &\": {\n      marginTop: theme.spacing(3),\n    },\n  },\n  input: {\n    borderRadius: 4,\n    position: \"relative\",\n    backgroundColor: theme.palette.background.paper,\n    border: \"1px solid #ced4da\",\n    fontSize: 16,\n    padding: \"10px 26px 10px 12px\",\n    transition: theme.transitions.create([\"border-color\", \"box-shadow\"]),\n  },\n}))(InputBase);\n\nconst useStyles = makeStyles((theme) => ({\n  margin: {\n    margin: theme.spacing(1),\n  },\n}));\n\nexport default function CustomizedSelects(props) {\n  const classes = useStyles();\n  const [recurrence, setRecurrence] = React.useState(\"\");\n  const [timeUnits, setTimeUnits] = React.useState(\"\");\n  console.log(recurrence);\n  const handleChange = (event) => {\n    setTimeUnits(event.target.value);\n    props.selectTimeUnits(event.target.value);\n  };\n\n  const handleInput = (event) => {\n    setRecurrence(event.target.value);\n    props.selectRecurrence(event.target.value);\n  };\n  return (\n    <div>\n      <FormControl className={classes.margin} focused>\n        <InputLabel htmlFor=\"demo-customized-textbox\">\n          Recurrence every\n        </InputLabel>\n        <BootstrapInput\n          type=\"number\"\n          id=\"demo-customized-textbox\"\n          value={recurrence}\n          onChange={handleInput}\n        />\n      </FormControl>\n      <FormControl className={classes.margin} focused>\n        <InputLabel id=\"demo-customized-select-label\">Units</InputLabel>\n        <Select\n          labelId=\"demo-customized-select-label\"\n          id=\"demo-customized-select\"\n          value={timeUnits}\n          onChange={handleChange}\n          input={<BootstrapInput />}\n        >\n          <MenuItem value=\"\">\n            <em>None</em>\n          </MenuItem>\n          <MenuItem value={\"Minutes\"}>Minutes</MenuItem>\n          <MenuItem value={\"Hours\"}>Hours</MenuItem>\n          <MenuItem value={\"Days\"}>Days</MenuItem>\n        </Select>\n      </FormControl>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DateFnsUtils from \"@date-io/date-fns\";\nimport {\n  MuiPickersUtilsProvider,\n  KeyboardTimePicker,\n  KeyboardDatePicker,\n} from \"@material-ui/pickers\";\nimport Button from \"@material-ui/core/Button\";\nimport SelectSensorMenu from \"../common/SelectSensorMenu\";\nimport SelectCommandMenu from \"../common/SelectCommandMenu\";\nimport SelectRepeatMenu from \"./SelectRepeatMenu\";\nimport axios from \"axios\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { backendApiUrl } from \"../../../utils/Config\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    \"& > *\": {\n      margin: theme.spacing(1),\n    },\n  },\n  extendedIcon: {\n    marginRight: theme.spacing(1),\n  },\n  fab: {\n    position: \"fixed\",\n    bottom: theme.spacing(2),\n    right: theme.spacing(4),\n  },\n  picker: {\n    padding: theme.spacing(1),\n  },\n  cancelButton: {\n    marginRight: theme.spacing(1),\n  },\n}));\nexport default function TimerActionDialog(props) {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(true);\n  const [selectedDate, setSelectedDate] = React.useState(new Date());\n  const [selectedSensor, setSelectedSensor] = React.useState(\"\");\n  const [selectedCommand, setSelectedCommand] = React.useState(\"\");\n  const [selectedRecurrence, setSelectedRecurrence] = React.useState(\"\");\n  const [selectedTimeUnits, setSelectedTimeUnits] = React.useState(\"\");\n\n  const [status, setStatus] = React.useState({ message: null, color: null });\n  const [loading, setLoading] = React.useState(false);\n  // console.log(selectedDate, selectedSensor, selectedRecurrence);\n\n  const handleDateChange = (date) => {\n    setSelectedDate(date);\n  };\n\n  const handleClose = () => {\n    props.closeDialog();\n    setOpen(false);\n    setStatus({ message: null, color: null });\n    setSelectedSensor(\"\");\n    setSelectedCommand(\"\");\n    setSelectedRecurrence(\"\");\n    setSelectedTimeUnits(\"\");\n    setSelectedDate(new Date());\n  };\n\n  const addAction = () => {\n    setStatus({ message: null, color: null });\n    setLoading(true);\n    axios\n      .post(backendApiUrl.server + \"api/timerActions\", {\n        sensorType: selectedSensor.type,\n        sensorName: selectedSensor.name,\n        deviceId: selectedSensor.deviceId,\n        roomName: selectedSensor.room,\n        command: selectedCommand,\n        commandTopic: selectedSensor.commandTopic,\n        registrationDate: Date.now(),\n        timestamp: selectedDate,\n        recurrenceTimeUnit: selectedTimeUnits,\n        recurrenceNumber: selectedRecurrence,\n      })\n      .then((response) => {\n        // console.log(response.data)\n        props.updateActions(response.data._id);\n        setLoading(false);\n        setStatus({ message: \"Action added successfully\", color: \"green\" });\n      })\n      .catch((error) => {\n        if (error.response) {\n          console.log(error.response.data.message);\n          setStatus({ message: error.response.data.message, color: \"red\" });\n        }\n        setLoading(false);\n      });\n  };\n\n  return (\n    <div className={classes.root}>\n      <Dialog\n        disableBackdropClick\n        disableEscapeKeyDown\n        open={open}\n        onClose={handleClose}\n      >\n        <DialogTitle>Schedule an action</DialogTitle>\n        <DialogContent dividers>\n          <div className={classes.picker}>\n            <SelectSensorMenu\n              sensors={props.sensors}\n              isCommandSensor={true}\n              selectSensor={setSelectedSensor}\n            />\n          </div>\n          {selectedSensor === \"\" ? null : (\n            <div className={classes.picker}>\n              <SelectCommandMenu\n                type={selectedSensor.type}\n                selectCommand={setSelectedCommand}\n              />\n            </div>\n          )}\n          <MuiPickersUtilsProvider utils={DateFnsUtils}>\n            <div className={classes.picker}>\n              <KeyboardDatePicker\n                margin=\"normal\"\n                id=\"date-picker-dialog\"\n                label=\"Starting Date Picker\"\n                format=\"MM/dd/yyyy\"\n                value={selectedDate}\n                onChange={handleDateChange}\n                KeyboardButtonProps={{\n                  \"aria-label\": \"change date\",\n                }}\n              />\n            </div>\n            <div className={classes.picker}>\n              <KeyboardTimePicker\n                margin=\"normal\"\n                id=\"time-picker\"\n                label=\"Starting Time Picker\"\n                value={selectedDate}\n                onChange={handleDateChange}\n                KeyboardButtonProps={{\n                  \"aria-label\": \"change time\",\n                }}\n              />\n            </div>\n            {/* </Grid> */}\n          </MuiPickersUtilsProvider>\n          <SelectRepeatMenu\n            selectRecurrence={setSelectedRecurrence}\n            selectTimeUnits={setSelectedTimeUnits}\n          />\n          {status.message && (\n            <>\n              <small style={{ color: status.color }}>{status.message}</small>\n              <br />\n            </>\n          )}\n        </DialogContent>\n        <DialogActions>\n          {loading === true ? (\n            <CircularProgress />\n          ) : (\n            <div>\n              <Button\n                className={classes.cancelButton}\n                variant=\"contained\"\n                onClick={handleClose}\n                color=\"primary\"\n              >\n                Cancel\n              </Button>\n              <Button variant=\"contained\" onClick={addAction} color=\"primary\">\n                Add Action\n              </Button>\n            </div>\n          )}\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { makeStyles, withStyles } from \"@material-ui/core/styles\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport InputBase from \"@material-ui/core/InputBase\";\n\nconst BootstrapInput = withStyles((theme) => ({\n  root: {\n    \"label + &\": {\n      marginTop: theme.spacing(3),\n    },\n  },\n  input: {\n    borderRadius: 4,\n    position: \"relative\",\n    backgroundColor: theme.palette.background.paper,\n    border: \"1px solid #ced4da\",\n    fontSize: 14,\n    padding: \"10px 26px 10px 12px\",\n    transition: theme.transitions.create([\"border-color\", \"box-shadow\"]),\n  },\n}))(InputBase);\n\nconst useStyles = makeStyles((theme) => ({\n  margin: {\n    margin: theme.spacing(1),\n  },\n}));\n\nexport default function CustomizedSelects(props) {\n  const classes = useStyles();\n  const [quantity, setQuantity] = React.useState(\"\");\n  const [comparison, setComparison] = React.useState(\"\");\n  const handleChange = (event) => {\n    setComparison(event.target.value);\n    props.selectComparison(event.target.value);\n  };\n\n  const handleInput = (event) => {\n    setQuantity(event.target.value);\n    props.selectQuantity(event.target.value);\n  };\n  return (\n    <div>\n      <FormControl className={classes.margin} focused>\n        <InputLabel required id=\"demo-customized-select-label\">\n          Compare\n        </InputLabel>\n        <Select\n          labelId=\"demo-customized-select-label\"\n          id=\"demo-customized-select\"\n          value={comparison}\n          onChange={handleChange}\n          input={<BootstrapInput />}\n        >\n          <MenuItem value=\"\">\n            <em>None</em>\n          </MenuItem>\n          <MenuItem value={\"Below\"}>Below</MenuItem>\n          <MenuItem value={\"Over\"}>Over</MenuItem>\n          <MenuItem value={\"Equal To\"}>Equal To</MenuItem>\n        </Select>\n      </FormControl>\n      <FormControl className={classes.margin} focused>\n        <InputLabel required htmlFor=\"demo-customized-textbox\">Quantity</InputLabel>\n        <BootstrapInput\n          type=\"number\"\n          id=\"demo-customized-textbox\"\n          value={quantity}\n          onChange={handleInput}\n        />\n      </FormControl>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport {getMeasurementNamesByType} from \"../../../utils/SensorSpecific\";\n\nconst useStyles = makeStyles((theme) => ({\n  formControl: {\n    // margin: theme.spacing(1),\n    minWidth: 130,\n  },\n  menuItem: {\n    padding: theme.spacing(1),\n  },\n}));\n\n\n\nexport default function MeasurementTypesMenu(props) {\n  const classes = useStyles();\n  const [selectedType, setSelectedType] = React.useState(\"\");\n  const [open, setOpen] = React.useState(false);\n\n  const handleChange = (event) => {\n    setSelectedType(event.target.value);\n    props.selectMeasurementType(event.target.value);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  const measurementTypes = getMeasurementNamesByType(props.type);\n  return (\n    <div>\n      <FormControl required className={classes.formControl}>\n        <InputLabel id=\"demo-controlled-open-select-label\">Measurement</InputLabel>\n        <Select\n          labelId=\"demo-controlled-open-select-label\"\n          id=\"demo-controlled-open-select\"\n          open={open}\n          onClose={handleClose}\n          onOpen={handleOpen}\n          value={selectedType}\n          onChange={handleChange}\n        >\n          {measurementTypes\n            ? measurementTypes.map((el, index) => {\n                return (\n                  <MenuItem value={el} key={index}>\n                    {el}\n                  </MenuItem>\n                );\n              })\n            : null}\n        </Select>\n      </FormControl>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Button from \"@material-ui/core/Button\";\nimport SelectSensorMenu from \"../common/SelectSensorMenu\";\nimport SelectCommandMenu from \"../common/SelectCommandMenu\";\nimport SelectComparedQuantityMenu from \"./SelectComparedQuantityMenu\";\nimport SelectMeasurementTypeMenu from \"./SelectMeasurementTypeMenu\";\nimport axios from \"axios\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { backendApiUrl } from \"../../../utils/Config\";\nimport { commandsByType } from '../../../utils/SensorSpecific';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n  },\n  wrapDiv: {\n    display: \"flex\",\n    justifyContent: \"flex-start\",\n    // alignItems: \"center\",\n    flexDirection: \"column\",\n  },\n  picker: {\n    padding: theme.spacing(1),\n  },\n  cancelButton: {\n    marginRight: theme.spacing(1),\n  },\n  label: {\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n    paddingLeft: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n    // textAlign: \"center\",\n    color: \"white\",\n    borderRadius: \"10px\",\n  },\n}));\nexport default function SensorBasedActionDialog(props) {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(true);\n  const [selectedWhenSensor, setSelectedWhenSensor] = React.useState(\"\");\n  const [selectedCommandSensor, setSelectedCommandSensor] = React.useState(\"\");\n  const [selectedCommand, setSelectedCommand] = React.useState(\"\");\n  const [selectedMeasurementType, setSelectedMeasurementType] = React.useState(\n    \"\"\n  );\n\n  const [selectedQuantity, setSelectedQuantity] = React.useState(\"\");\n  const [selectedComparisonType, setSelectedComparisonType] = React.useState(\n    \"\"\n  );\n\n  const [status, setStatus] = React.useState({ message: null, color: null });\n  const [loading, setLoading] = React.useState(false);\n  // console.log(selectedDate, selectedSensor, selectedRecurrence);\n\n  const handleClose = () => {\n    props.closeDialog();\n    setOpen(false);\n    setStatus({ message: null, color: null });\n    setSelectedCommandSensor(\"\");\n    setSelectedWhenSensor(\"\");\n    setSelectedCommand(\"\");\n    setSelectedMeasurementType(\"\");\n    setSelectedQuantity(\"\");\n    setSelectedComparisonType(\"\");\n  };\n\n  const addAction = () => {\n    setStatus({ message: null, color: null });\n    setLoading(true);\n\n    const { commandOnFailure } = commandsByType(\n        selectedCommandSensor.type,\n        selectedCommand\n    );\n\n    axios\n      .post(backendApiUrl.server + \"api/sensorBasedActions\", {\n        sensorType: selectedCommandSensor.type,\n        sensorName: selectedCommandSensor.name,\n        deviceId: selectedCommandSensor.deviceId,\n        roomName: selectedCommandSensor.room,\n        command: selectedCommand,\n        commandTopic: selectedCommandSensor.commandTopic,\n        registrationDate: Date.now(),\n        measurementSensorName: selectedWhenSensor.name,\n        measurementDeviceId: selectedWhenSensor.deviceId,\n        measurementRoomName: selectedWhenSensor.room,\n        measurementSensorType: selectedWhenSensor.type,\n        commandOnFailure: commandOnFailure,\n        comparisonType: selectedComparisonType,\n        quantity: selectedQuantity,\n        measurementType: selectedMeasurementType,\n      })\n      .then((response) => {\n        // console.log(response.data)\n        props.updateActions(response.data._id);\n        setLoading(false);\n        setStatus({ message: \"Action added successfully\", color: \"green\" });\n      })\n      .catch((error) => {\n        if (error.response) {\n          console.log(error.response.data.message);\n          setStatus({ message: error.response.data.message, color: \"red\" });\n        }\n        setLoading(false);\n      });\n  };\n\n  return (\n    <div className={classes.root}>\n      <Dialog\n        disableBackdropClick\n        disableEscapeKeyDown\n        open={open}\n        onClose={handleClose}\n      >\n        <DialogTitle>Sensor-Based Action</DialogTitle>\n        <DialogContent dividers>\n          <div className={classes.wrapDiv}>\n            <div className={classes.picker}>\n              <Typography className={classes.label} variant=\"subtitle1\">\n                Trigger\n              </Typography>\n              <SelectSensorMenu\n                sensors={props.sensors}\n                selectSensor={setSelectedCommandSensor}\n                isCommandSensor={true}\n              />\n            </div>\n            {selectedCommandSensor === \"\" ? null : (\n              <div className={classes.picker}>\n                <SelectCommandMenu\n                  type={selectedCommandSensor.type}\n                  selectCommand={setSelectedCommand}\n                />\n              </div>\n            )}\n            <div className={classes.picker}>\n              <Typography className={classes.label} variant=\"subtitle1\">\n                When\n              </Typography>\n              <SelectSensorMenu\n                sensors={props.sensors}\n                selectSensor={setSelectedWhenSensor}\n                isCommandSensor={false}\n              />\n            </div>\n            {selectedWhenSensor === \"\" ? null : (\n              <div className={classes.picker}>\n                <SelectMeasurementTypeMenu\n                  type={selectedWhenSensor.type}\n                  selectMeasurementType={setSelectedMeasurementType}\n                />\n              </div>\n            )}\n\n            <SelectComparedQuantityMenu\n              selectComparison={setSelectedComparisonType}\n              selectQuantity={setSelectedQuantity}\n            />\n            {status.message && (\n              <>\n                <small style={{ color: status.color }}>{status.message}</small>\n                <br />\n              </>\n            )}\n          </div>\n        </DialogContent>\n        <DialogActions>\n          {loading === true ? (\n            <CircularProgress />\n          ) : (\n            <div>\n              <Button\n                className={classes.cancelButton}\n                variant=\"contained\"\n                onClick={handleClose}\n                color=\"primary\"\n              >\n                Cancel\n              </Button>\n              <Button variant=\"contained\" onClick={addAction} color=\"primary\">\n                Add Action\n              </Button>\n            </div>\n          )}\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import {backendApiUrl} from \"./Config\";\n\nexport const onLocationServicesReady = (callback) => {\n    BackgroundGeolocation.configure({\n        // stopOnStillActivity: true,\n        locationProvider: BackgroundGeolocation.ACTIVITY_PROVIDER,\n        desiredAccuracy: BackgroundGeolocation.HIGH_ACCURACY,\n        stationaryRadius: 50,\n        distanceFilter: 500,\n        notificationTitle: 'Background Tracking',\n        notificationText: 'Enabled',\n        debug: true,\n        interval: 10000,\n        fastestInterval: 5000,\n        activitiesInterval: 10000,\n        url: \"http://192.168.1.66:5000/api/location\",\n        httpHeaders: {\n            'X-FOO': 'bar'\n        },\n        // customize post properties\n        postTemplate: {\n            lat: '@latitude',\n            lon: '@longitude',\n        }\n    });\n\n    BackgroundGeolocation.on('location', function (location) {\n        // handle your locations here\n        // to perform long running operation on iOS\n        // you need to create background task\n        console.log(location);\n\n        BackgroundGeolocation.startTask(function (taskKey) {\n            // execute long running task\n            // eg. ajax post location\n            // IMPORTANT: task has to be ended by endTask\n            BackgroundGeolocation.endTask(taskKey);\n        });\n    });\n\n    BackgroundGeolocation.on('stationary', function (stationaryLocation) {\n        // handle stationary locations here\n    });\n\n    BackgroundGeolocation.on('error', function (error) {\n        console.log('[ERROR] BackgroundGeolocation error:', error.code, error.message);\n    });\n\n    BackgroundGeolocation.on('start', function () {\n        console.log('[INFO] BackgroundGeolocation service has been started');\n    });\n\n    BackgroundGeolocation.on('stop', function () {\n        console.log('[INFO] BackgroundGeolocation service has been stopped');\n    });\n\n    BackgroundGeolocation.on('authorization', function (status) {\n        console.log('[INFO] BackgroundGeolocation authorization status: ' + status);\n        if (status !== BackgroundGeolocation.AUTHORIZED) {\n            // we need to set delay or otherwise alert may not be shown\n            setTimeout(function () {\n                const showSettings = confirm('App requires location tracking permission.\\nIf you are willing to give all the required permissions, restart the app for the changes to take effect.\\nWould you like to open app settings? ');\n\n                if (showSettings) {\n                    return BackgroundGeolocation.showAppSettings();\n                }\n            }, 1000);\n        }\n    });\n\n    BackgroundGeolocation.on('background', function () {\n        console.log('[INFO] App is in background');\n        // you can also reconfigure service (changes will be applied immediately)\n        // BackgroundGeolocation.configure({\n        //     debug: true,\n        // });\n    });\n\n    BackgroundGeolocation.on('foreground', function () {\n        console.log('[INFO] App is in foreground');\n        // BackgroundGeolocation.configure({debug: false});\n    });\n\n    BackgroundGeolocation.on('abort_requested', function () {\n        console.log('[INFO] Server responded with 285 Updates Not Required');\n\n        // Here we can decide whether we want stop the updates or not.\n        // If you've configured the server to return 285, then it means the server does not require further update.\n        // So the normal thing to do here would be to `BackgroundGeolocation.stop()`.\n        // But you might be counting on it to receive location updates in the UI, so you could just reconfigure and set `url` to null.\n    });\n\n    BackgroundGeolocation.on('http_authorization', () => {\n        console.log('[INFO] App needs to authorize the http requests');\n    });\n\n    BackgroundGeolocation.checkStatus(function (status) {\n        console.log('[INFO] BackgroundGeolocation service is running', status.isRunning);\n        console.log('[INFO] BackgroundGeolocation services enabled', status.locationServicesEnabled);\n        console.log('[INFO] BackgroundGeolocation auth status: ' + status.authorization);\n\n        console.log(status.isRunning);\n        // you don't need to check status before start (this is just the example)\n        if (!status.isRunning && status.locationServicesEnabled) {\n            BackgroundGeolocation.start(); //triggers start on start event\n            callback(true);\n        }\n        else if (!status.isRunning) {\n            BackgroundGeolocation.removeAllListeners();\n        }\n    });\n\n    // you can also just start without checking for status\n    // BackgroundGeolocation.start();\n\n\n    // Don't forget to remove listeners at some point!\n\n    //     BackgroundGeolocation.removeAllListeners();\n\n}\n\n\nexport const areLocationPermissionsAccepted = (callback) => {\n    BackgroundGeolocation.checkStatus(function (status) {\n        console.log('[INFO] BackgroundGeolocation service is running', status.isRunning);\n        console.log('[INFO] BackgroundGeolocation services enabled', status.locationServicesEnabled);\n        console.log('[INFO] BackgroundGeolocation auth status: ' + status.authorization);\n\n        if (status.authorization === 1) {\n            callback(true);\n            // onLocationServicesReady();\n        }\n        else {\n            callback(false);\n        }\n        console.log(status.authorization)\n    });\n    return null;\n}\nexport const removeGeoLocationListener = () => {\n    BackgroundGeolocation.removeAllListeners();\n}\n\ndocument.addEventListener('deviceready', onLocationServicesReady, false);\n","import React from \"react\";\nimport { makeStyles, withStyles } from \"@material-ui/core/styles\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputBase from \"@material-ui/core/InputBase\";\n\nconst BootstrapInput = withStyles((theme) => ({\n  root: {\n    \"label + &\": {\n      marginTop: theme.spacing(3),\n    },\n  },\n  input: {\n    borderRadius: 4,\n    position: \"relative\",\n    backgroundColor: theme.palette.background.paper,\n    border: \"1px solid #ced4da\",\n    fontSize: 14,\n    padding: \"10px 26px 10px 12px\",\n    transition: theme.transitions.create([\"border-color\", \"box-shadow\"]),\n  },\n}))(InputBase);\n\nconst useStyles = makeStyles((theme) => ({\n  margin: {\n    margin: theme.spacing(1),\n    paddingTop: theme.spacing(1)\n  },\n}));\n\nexport default function CustomizedSelects(props) {\n  const classes = useStyles();\n  const [radius, setRadius] = React.useState(\"\");\n\n  const handleInput = (event) => {\n    setRadius(event.target.value);\n    props.selectRadius(event.target.value);\n  };\n  return (\n    <div>\n      <FormControl className={classes.margin} focused>\n        <InputLabel required htmlFor=\"demo-customized-textbox\">Radius in meters (Minimum: 100)</InputLabel>\n        <BootstrapInput\n          type=\"number\"\n          id=\"demo-customized-textbox\"\n          value={radius}\n          onChange={handleInput}\n        />\n      </FormControl>\n    </div>\n  );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Button from '@material-ui/core/Button';\nimport SelectSensorMenu from '../common/SelectSensorMenu';\nimport SelectCommandMenu from '../common/SelectCommandMenu';\nimport SelectRadiusMenu from './SelectRadiusMenu';\nimport axios from 'axios';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { backendApiUrl } from '../../../utils/Config';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    '& > *': {\n      margin: theme.spacing(1),\n    },\n  },\n  extendedIcon: {\n    marginRight: theme.spacing(1),\n  },\n  fab: {\n    position: 'fixed',\n    bottom: theme.spacing(2),\n    right: theme.spacing(4),\n  },\n  picker: {\n    padding: theme.spacing(1),\n  },\n  cancelButton: {\n    marginRight: theme.spacing(1),\n  },\n  label: {\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n    padding: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n    // textAlign: \"center\",\n    color: \"white\",\n    borderRadius: \"10px\",\n  },\n}));\nexport default function TimerActionDialog(props) {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(true);\n  const [selectedSensor, setSelectedSensor] = React.useState('');\n  const [selectedCommand, setSelectedCommand] = React.useState('');\n  const [selectedRadius, setSelectedRadius] = React.useState('');\n\n  const [status, setStatus] = React.useState({ message: null, color: null });\n  const [loading, setLoading] = React.useState(false);\n  // console.log(selectedDate, selectedSensor, selectedRecurrence);\n\n  const handleClose = () => {\n    props.closeDialog();\n    setOpen(false);\n    setStatus({ message: null, color: null });\n    setSelectedSensor('');\n    setSelectedCommand('');\n    setSelectedRadius('');\n  };\n\n  const addAction = () => {\n    setStatus({ message: null, color: null });\n    setLoading(true);\n    axios\n      .post(backendApiUrl.server + 'api/locationBasedActions', {\n        sensorType: selectedSensor.type,\n        sensorName: selectedSensor.name,\n        deviceId: selectedSensor.deviceId,\n        roomName: selectedSensor.room,\n        command: selectedCommand,\n        commandTopic: selectedSensor.commandTopic,\n        registrationDate: Date.now(),\n        radius: selectedRadius,\n      })\n      .then((response) => {\n        // console.log(response.data)\n        props.updateActions(response.data._id);\n        setLoading(false);\n        setStatus({ message: 'Action added successfully', color: 'green' });\n      })\n      .catch((error) => {\n        if (error.response) {\n          console.log(error.response.data.message);\n          setStatus({ message: error.response.data.message, color: 'red' });\n        }\n        setLoading(false);\n      });\n  };\n\n  return (\n    <div className={classes.root}>\n      <Dialog\n        disableBackdropClick\n        disableEscapeKeyDown\n        open={open}\n        onClose={handleClose}\n      >\n        <DialogTitle>Location-Based Action</DialogTitle>\n        <DialogContent dividers>\n          <div className={classes.picker}>\n            <SelectSensorMenu\n              sensors={props.sensors}\n              isCommandSensor={true}\n              selectSensor={setSelectedSensor}\n            />\n          </div>\n          {selectedSensor === '' ? null : (\n            <div className={classes.picker}>\n              <SelectCommandMenu\n                type={selectedSensor.type}\n                selectCommand={setSelectedCommand}\n              />\n            </div>\n          )}\n          <SelectRadiusMenu selectRadius={setSelectedRadius} />\n          {status.message && (\n            <>\n              <small style={{ color: status.color }}>{status.message}</small>\n              <br />\n            </>\n          )}\n        </DialogContent>\n        <DialogActions>\n          {loading === true ? (\n            <CircularProgress />\n          ) : (\n            <div>\n              <Button\n                className={classes.cancelButton}\n                variant=\"contained\"\n                onClick={handleClose}\n                color=\"primary\"\n              >\n                Cancel\n              </Button>\n              <Button variant=\"contained\" onClick={addAction} color=\"primary\">\n                Add Action\n              </Button>\n            </div>\n          )}\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React, {useEffect} from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport {makeStyles} from '@material-ui/core/styles';\nimport {\n    onLocationServicesReady,\n    areLocationPermissionsAccepted,\n    removeGeoLocationListener\n} from \"../../../utils/Location\"\nimport LocationBasedActionDialog from './LocationBasedActionDialog';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        '& > *': {\n            margin: theme.spacing(1),\n        },\n    },\n}));\n\n\nexport default function EnableLocationServices(props) {\n    const classes = useStyles();\n    const [open, setOpen] = React.useState(true);\n    const [servicesEnabled, setServicesEnabled] = React.useState(null);\n\n    useEffect(() => {\n        areLocationPermissionsAccepted(setServicesEnabled)\n        //\n        // return () => {\n        //     console.log(\"unmounting relay\");\n        //     client.off(\"message\", messageHandler);\n        // };\n    }, []);\n\n    const handleClose = () => {\n        props.closeDialog();\n        setOpen(false);\n    };\n\n\n    const enableServices = () => {\n        onLocationServicesReady(setServicesEnabled)\n        handleClose();\n    };\n    let dialog = null;\n    if (servicesEnabled !== null) {\n        if (servicesEnabled) {\n            // onLocationServicesReady();\n            dialog = (<LocationBasedActionDialog\n                sensors={props.sensors}\n                updateActions={props.updateActions}\n                closeDialog={props.closeDialog}\n            />);\n        } else {\n            removeGeoLocationListener();\n            dialog = (<Dialog\n                open={open}\n                onClose={handleClose}\n            >\n                <DialogTitle>Location-Based Action</DialogTitle>\n                <DialogContent dividers>\n                    When prompted, you must accept all asked permissions in order for the\n                    location services of this app to work. Otherwise this feature will\n                    remain disabled.\n                </DialogContent>\n                <DialogActions>\n                    <Button variant=\"contained\" onClick={enableServices} color=\"primary\">\n                        Enable Location Services\n                    </Button>\n                </DialogActions>\n            </Dialog>);\n        }\n    }\n    return (\n        <div className={classes.root}>\n            {dialog}\n        </div>\n    );\n}\n","import React from 'react';\nimport {makeStyles} from '@material-ui/core/styles';\nimport SpeedDial from '@material-ui/lab/SpeedDial';\nimport SpeedDialIcon from '@material-ui/lab/SpeedDialIcon';\nimport SpeedDialAction from '@material-ui/lab/SpeedDialAction';\nimport TimerIcon from '@material-ui/icons/Timer';\nimport EditLocationIcon from '@material-ui/icons/EditLocation';\nimport BlurCircularIcon from '@material-ui/icons/BlurCircular';\nimport TimerActionDialog from './TimerActions/TimerActionDialog';\nimport SensorBasedActionDialog from './SensorBasedActions/SensorBasedActionDialog';\nimport CloseIcon from '@material-ui/icons/Close';\nimport EnableLocationServices from './LocationBasedActions/EnableLocationServicesDialog';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        position: 'fixed',\n        bottom: theme.spacing(2),\n        right: theme.spacing(2),\n    },\n    speedDial: {\n        position: 'absolute',\n        bottom: theme.spacing(2),\n        right: theme.spacing(2),\n    },\n    action: {\n        margin: theme.spacing(2),\n        backgroundColor: theme.palette.primary.main,\n    },\n}));\n\nexport default function OpenIconSpeedDial(props) {\n    const classes = useStyles();\n    const [open, setOpen] = React.useState(false);\n    const [selectedAction, setSelectedAction] = React.useState(null);\n\n    const handleOpen = () => {\n        setOpen(true);\n    };\n\n    const selectTimerAction = () => {\n        setSelectedAction('timerAction');\n    };\n\n    const selectSensorBasedAction = () => {\n        setSelectedAction('sensorBasedAction');\n    };\n\n    const selectLocationBasedAction = () => {\n        setSelectedAction('locationBasedAction');\n    };\n\n    const closeDialog = () => {\n        setSelectedAction(null);\n    };\n\n    const handleClose = () => {\n        setOpen(false);\n    };\n\n    let dialog = null;\n    switch (selectedAction) {\n        case 'timerAction':\n            dialog = (\n                <TimerActionDialog\n                    sensors={props.sensors}\n                    updateActions={props.updateActions}\n                    closeDialog={closeDialog}\n                />\n            );\n            break;\n        case 'sensorBasedAction':\n            dialog = (\n                <SensorBasedActionDialog\n                    sensors={props.sensors}\n                    updateActions={props.updateActions}\n                    closeDialog={closeDialog}\n                />\n            );\n            break;\n        case 'locationBasedAction':\n            dialog = (\n                <EnableLocationServices\n                    closeDialog={closeDialog}\n                    sensors={props.sensors}\n                    updateActions={props.updateActions}/>)\n            break;\n        default:\n            break;\n    }\n\n    return (\n        <div className={classes.root}>\n            <SpeedDial\n                ariaLabel=\"SpeedDial openIcon\"\n                className={classes.speedDial}\n                icon={<SpeedDialIcon openIcon={<CloseIcon/>}/>}\n                onClose={handleClose}\n                onOpen={handleOpen}\n                open={open}\n            >\n                <SpeedDialAction\n                    className={classes.action}\n                    icon={<BlurCircularIcon/>}\n                    tooltipTitle={'Sensor Based'}\n                    onClick={selectSensorBasedAction}\n                />\n                <SpeedDialAction\n                    className={classes.action}\n                    icon={<EditLocationIcon/>}\n                    tooltipTitle={'Location Based'}\n                    onClick={selectLocationBasedAction}\n                />\n                <SpeedDialAction\n                    className={classes.action}\n                    icon={<TimerIcon/>}\n                    tooltipTitle={'Time Based'}\n                    onClick={selectTimerAction}\n                />\n                {dialog}\n            </SpeedDial>\n        </div>\n    );\n}\n","import React, {useEffect, useState} from \"react\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport ActionCard from \"./ActionCard\";\nimport axios from \"axios\";\nimport NoContentPage from \"../NoContentPage\";\nimport ActionsSpeedDial from \"./ActionsSpeedDial\";\nimport {backendApiUrl} from \"../../utils/Config\";\n\nconst URL = backendApiUrl.server + \"api/actions\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        margin: theme.spacing(1),\n        // padding: theme.spacing(1),\n    },\n}));\n\nexport default function MaterialUIPickers(props) {\n    const classes = useStyles();\n    const [actionData, setActions] = useState({\n        actions: [],\n        isFetching: false,\n    });\n    const [effectUpdate, setEffectUpdate] = useState(null);\n\n    const rerenderOnActionChange = (id) => {\n        setEffectUpdate(id);\n    };\n\n    useEffect(() => {\n        const fetchDevices = async () => {\n            try {\n                setActions({actions: [], isFetching: true});\n                const response = await axios.get(URL);\n                setActions({actions: response.data, isFetching: false});\n            } catch (error) {\n                console.log(error);\n                setActions({actions: [], isFetching: false});\n            }\n        };\n\n        fetchDevices();\n\n        return () => {\n            console.log(\"unmounting actions\");\n        };\n    }, [effectUpdate]);\n\n    return (\n        <div className={classes.root}>\n            {actionData.actions.length !== 0 ? (\n                actionData.actions.map((action) => {\n                    return (\n                        <div className={classes.root} key={action._id}>\n                            <ActionCard\n                                action={action}\n                                updateActions={rerenderOnActionChange}\n                            />\n                        </div>\n                    );\n                })\n            ) : (\n                <NoContentPage displayItem=\"Actions\"/>\n            )}\n            <ActionsSpeedDial\n                sensors={props.sensors}\n                updateActions={rerenderOnActionChange}\n            />\n            {/* <TimerActionDialog\n        sensors={props.sensors}\n        updateActions={rerenderOnActionChange}\n      /> */}\n        </div>\n    );\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Button from \"@material-ui/core/Button\";\nimport { SimpleDialog } from \"./DialogFilterBy\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(1),\n  },\n  title: {\n    flexGrow: 1,\n  },\n}));\n\nexport default function ButtonAppBar(props) {\n  const classes = useStyles();\n  const [openDialog, setOpenDialog] = React.useState({\n    open: false,\n    dialogItems: null,\n  });\n  const [selectedValue, setSelectedValue] = React.useState(undefined);\n\n  const handleClickOpenRooms = () => {\n    setOpenDialog({\n      open: true,\n      dialogItems: {\n        contents: props.rooms,\n        name: \"Rooms\",\n        type: \"room\",\n      },\n    });\n  };\n\n  const handleClickOpenTypes = () => {\n    setOpenDialog({\n      open: true,\n      dialogItems: {\n        contents: props.categories,\n        name: \"Sensor Types\",\n        type: \"sensor-type\",\n      },\n    });\n  };\n\n  const handleClose = (value) => {\n    setOpenDialog({ open: false, dialogItems: null });\n    setSelectedValue(value);\n    if (value) {\n      props.selectItem({ selected: value, type: openDialog.dialogItems.type });\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <AppBar position=\"static\">\n        <Toolbar variant=\"dense\">\n          <Button size=\"small\" onClick={props.showAllSensors} color=\"inherit\">\n            All\n          </Button>\n          <Button size=\"small\" onClick={handleClickOpenRooms} color=\"inherit\">\n            Rooms\n          </Button>\n          <Button size=\"small\" onClick={handleClickOpenTypes} color=\"inherit\">\n            Types\n          </Button>\n        </Toolbar>\n      </AppBar>\n      {openDialog.dialogItems !== null ? (\n        <SimpleDialog\n          name={openDialog.dialogItems.name}\n          type={openDialog.dialogItems.type}\n          contents={openDialog.dialogItems.contents}\n          selectedValue={selectedValue}\n          open={openDialog.open}\n          onClose={handleClose}\n        />\n      ) : null}\n    </div>\n  );\n}\n","import React from \"react\";\nimport clsx from \"clsx\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport Box from \"@material-ui/core/Box\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport List from \"@material-ui/core/List\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Divider from \"@material-ui/core/Divider\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Container from \"@material-ui/core/Container\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\";\nimport Button from \"@material-ui/core/Button\";\nimport { getUser, removeUserSession } from \"../utils/Common\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport Sensors from \"./Sensors/Sensors\";\nimport DashboardIcon from \"@material-ui/icons/Dashboard\";\nimport AssignmentIcon from \"@material-ui/icons/Assignment\";\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\nimport Dialog from \"./DialogFilterBy\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { withRouter } from \"react-router-dom\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport Link from \"@material-ui/core/Link\";\nimport Actions from \"./Actions/Actions\";\nimport MenuBar from \"./MenuBar\";\nimport {FILE_PATH} from \"../utils/CordovaGlobals\";\n\nfunction Copyright() {\n  return (\n    <Typography variant=\"body2\" color=\"textPrimary\" align=\"center\">\n      {\"Copyright Â© \"}\n      {\"Home Automation \"}\n      {new Date().getFullYear()}\n      {\".\"}\n    </Typography>\n  );\n}\n\nconst drawerWidth = 200;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n  },\n  toolbar: {\n    paddingRight: 24, // keep right padding when drawer closed\n  },\n  toolbarIcon: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"flex-end\",\n    padding: \"0 8px\",\n    ...theme.mixins.toolbar,\n  },\n  appBar: {\n    backgroundColor: theme.palette.secondary.main,\n    zIndex: theme.zIndex.drawer + 1,\n    transition: theme.transitions.create([\"width\", \"margin\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  appBarShift: {\n    marginLeft: drawerWidth,\n    width: `calc(100% - ${drawerWidth}px)`,\n    transition: theme.transitions.create([\"width\", \"margin\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  menuButton: {\n    marginRight: 36,\n  },\n  menuButtonHidden: {\n    display: \"none\",\n  },\n  title: {\n    flexGrow: 1,\n    paddingTop: 5,\n  },\n  drawerPaper: {\n    position: \"relative\",\n    whiteSpace: \"nowrap\",\n    width: drawerWidth,\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  drawerPaperClose: {\n    overflowX: \"hidden\",\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    width: theme.spacing(7),\n    [theme.breakpoints.down(\"sm\")]: {\n      width: theme.spacing(0),\n    },\n  },\n  appBarSpacer: theme.mixins.toolbar,\n  content: {\n    // backgroundColor: \"#fcf4e3\",\n    flexGrow: 1,\n    height: \"100vh\",\n    overflow: \"auto\",\n  },\n  container: {\n    paddingTop: theme.spacing(4),\n    paddingBottom: theme.spacing(4),\n  },\n  paper: {\n    padding: theme.spacing(1),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n    borderRadius: \"10px\",\n    backgroundColor: theme.palette.secondary.main,\n  },\n  primaryAction: {\n    borderRadius: \"10px\",\n    [theme.breakpoints.down(\"sm\")]: {\n      display: \"none\",\n    },\n  },\n  dashBoardLabel: {\n    // display: \"inline\",\n    // paddingTop: 3,\n    // paddingBottom: 3,\n    // padding: theme.spacing(1),\n    // paddingRight: theme.spacing(1),\n    // color: \"white\",\n    // backgroundColor: theme.palette.primary.main,\n    // borderRadius: \"10px\",\n  },\n\n  currentTab: {\n    textAlign: \"center\",\n    // borderBottom: `5pxsolid ${theme.palette.secondary.main}`,\n    // width: \"60vh\",\n    // margin: \"0 auto\",\n    marginTop: theme.spacing(2),\n  },\n  hiMessage: {\n    marginRight: theme.spacing(2),\n  },\n  behindBackground: {\n    backgroundImage: `url(${FILE_PATH}/static/media/home-automation4.cc5ee920.svg)`,\n    backgroundPosition: \"center\",\n    backgroundSize: \"cover\",\n    backgroundRepeat: \"no-repeat\",\n    width: \"100vw\",\n    height: \"100vh\",\n  },\n}));\n\nfunction Dashboard(props) {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n  const [selectedItem, selectItem] = React.useState({\n    selected: \"All\",\n    type: \"all\",\n  });\n\n  // handle click event of logout button\n  const handleLogout = () => {\n    // const mqttClient = mqttService.getClient();\n    // mqttService.closeConnection(mqttClient);\n    removeUserSession();\n    props.history.push(\"/login\");\n  };\n\n  const handleDrawerOpen = () => {\n    setOpen(true);\n  };\n  const handleDrawerClose = () => {\n    setOpen(false);\n  };\n\n  const handleAllButton = () => {\n    selectItem({\n      selected: \"All\",\n      type: \"all\",\n    });\n  };\n\n  const showActions = () => {\n    selectItem({\n      selected: \"Actions\",\n      type: \"actions\",\n    });\n  };\n\n  let currentlyDisplayedItem = {\n    tab: \"All\",\n    content: null,\n  };\n  switch (selectedItem.type) {\n    case \"room\":\n      currentlyDisplayedItem.tab = \"Room\";\n      currentlyDisplayedItem.content = selectedItem.selected;\n      break;\n    case \"sensor-type\":\n      currentlyDisplayedItem.tab = \"Sensor Type\";\n      currentlyDisplayedItem.content = selectedItem.selected;\n      break;\n    case \"actions\":\n      currentlyDisplayedItem.tab = \"Actions\";\n      currentlyDisplayedItem.content = null;\n      break;\n    default:\n      currentlyDisplayedItem.tab = \"All\";\n      currentlyDisplayedItem.content = null;\n      break;\n  }\n  const rooms = [...new Set(props.sensors.map((sensor) => sensor.room))];\n  const categories = [...new Set(props.sensors.map((sensor) => sensor.type))];\n  const user = getUser();\n  return (\n    <div className={classes.root}>\n      <CssBaseline />\n      <AppBar\n        position=\"absolute\"\n        className={clsx(classes.appBar, open && classes.appBarShift)}\n      >\n        <Toolbar className={classes.toolbar}>\n          <IconButton\n            edge=\"start\"\n            color=\"inherit\"\n            aria-label=\"open drawer\"\n            onClick={handleDrawerOpen}\n            className={clsx(\n              classes.menuButton,\n              open && classes.menuButtonHidden\n            )}\n          >\n            <MenuIcon />\n          </IconButton>\n          <div className={classes.title}>\n            <Link\n              href=\"/\"\n              component={RouterLink}\n              to=\"/\"\n              color=\"primary\"\n              underline=\"none\"\n              variant=\"h5\"\n            >\n              {<img src={`${FILE_PATH}/static/media/home-automation.1ec2cf5b.svg`} alt=\"\" height={50} />}\n            </Link>\n          </div>\n\n          <Typography variant=\"body2\" className={classes.hiMessage}>\n            {\"Hi, \"}\n            {user.name}\n          </Typography>\n          <Button\n            variant=\"contained\"\n            className={classes.primaryAction}\n            onClick={handleLogout}\n            color=\"primary\"\n          >\n            Log Out\n          </Button>\n        </Toolbar>\n      </AppBar>\n\n      <Drawer\n        variant=\"temporary\"\n        classes={{\n          paper: clsx(classes.drawerPaper, !open && classes.drawerPaperClose),\n        }}\n        open={open}\n        onClose={handleDrawerClose}\n      >\n        <div className={classes.toolbarIcon}>\n          <IconButton onClick={handleDrawerClose}>\n            <ChevronLeftIcon />\n          </IconButton>\n        </div>\n        <Divider />\n        <List>\n          <ListItem button onClick={handleAllButton}>\n            <ListItemIcon>\n              <DashboardIcon color=\"primary\" />\n            </ListItemIcon>\n            <ListItemText primary=\"All\" />\n          </ListItem>\n          <Dialog\n            contents={rooms}\n            selectItem={selectItem}\n            name=\"Rooms\"\n            type=\"room\"\n          />\n          <Dialog\n            contents={categories}\n            selectItem={selectItem}\n            name=\"Sensor Types\"\n            type=\"sensor-type\"\n          />\n        </List>\n        <Divider />\n        <List>\n          <ListItem button onClick={showActions}>\n            <ListItemIcon>\n              <AssignmentIcon color=\"primary\" />\n            </ListItemIcon>\n            <ListItemText primary=\"Actions\" />\n          </ListItem>\n\n          <ListItem button onClick={handleLogout}>\n            <ListItemIcon>\n              <ExitToAppIcon color=\"primary\" />\n            </ListItemIcon>\n            <ListItemText primary=\"Log Out\" />\n          </ListItem>\n        </List>\n      </Drawer>\n      <div className={classes.behindBackground}>\n        <main className={classes.content}>\n          <div className={classes.appBarSpacer} />\n          <MenuBar\n            selectItem={selectItem}\n            rooms={rooms}\n            categories={categories}\n            showAllSensors={handleAllButton}\n          />\n          <div className={classes.currentTab}>\n            <Typography\n              variant=\"h5\"\n              gutterBottom\n              className={classes.dashBoardLabel}\n            >\n              Dashboard\n            </Typography>\n            <Typography variant=\"h6\">\n              {currentlyDisplayedItem.tab}\n              {currentlyDisplayedItem.tab === \"All\" ||\n              currentlyDisplayedItem.tab === \"Actions\"\n                ? null\n                : \" | \"}\n              {currentlyDisplayedItem.content}\n            </Typography>\n          </div>\n          <Container maxWidth=\"lg\" className={classes.container}>\n            {selectedItem.selected === \"Actions\" ? (\n              <div>\n                <Paper className={classes.paper} elevation={10}>\n                  <Actions sensors={props.sensors} />\n                </Paper>\n              </div>\n            ) : (\n              <Sensors\n                sensors={props.sensors}\n                filtered={selectedItem.type}\n                selected={selectedItem.selected}\n              />\n            )}\n            <Box pt={4}>\n              <Copyright />\n            </Box>\n          </Container>\n        </main>\n      </div>\n    </div>\n  );\n}\n\nexport default withRouter(Dashboard);\n","import axios from \"axios\";\nimport mqttService from \"../utils/MQTT\";\nimport React, {useEffect, useState, useRef} from \"react\";\nimport AlertMessage from \"./AlertMessage\";\nimport Dashboard from \"./Dashboard\";\nimport {backendApiUrl} from \"../utils/Config\";\n\nconst URL = backendApiUrl.server + \"api/activeSensors\";\n\nconst FetcherÎœQTT = () => {\n    const [data, setData] = useState({sensors: []});\n    const dataRef = useRef(data);\n\n    useEffect(() => {\n        const fetchDevices = async () => {\n            try {\n                // setData({ sensors: data.sensors, isFetching: true });\n                const response = await axios.get(URL);\n                setData({sensors: response.data});\n\n                dataRef.current = {sensors: response.data};\n\n                for (const sensor of response.data) {\n                    mqttService.subscribe(client, sensor.pubTopic);\n                }\n            } catch (error) {\n                console.log(error);\n                setData({sensors: []});\n            }\n        };\n\n        fetchDevices();\n\n        const client = mqttService.getClient();\n        console.log(client);\n\n        const messageHandler = (topic, payload, packet) => {\n            console.log(payload.toString(), topic);\n\n            if (topic === \"browser\") {\n                const infoObj = JSON.parse(payload.toString());\n                if (infoObj.action === \"disconnected\") {\n                    const newData = {\n                        sensors: dataRef.current.sensors.filter((sensor) => {\n                            if (sensor.deviceId === infoObj.deviceId) {\n                                mqttService.unsubscribe(client, sensor.pubTopic);\n                            }\n                            return sensor.deviceId !== infoObj.deviceId;\n                        }),\n                        alertMessage: {\n                            device: infoObj.deviceId,\n                            reason: infoObj.action,\n                        },\n                    };\n                    dataRef.current = newData;\n                    setData(newData);\n                } else if (infoObj.action === \"connected\") {\n                    const existingSensor = dataRef.current.sensors.find(\n                        (el) => el.deviceId === infoObj.newSensors[0].deviceId\n                    );\n                    if (existingSensor) {\n                        console.log(\"Exists!!! No action taken!\");\n                        return;\n                    } else {\n                        const newData = {\n                            sensors: dataRef.current.sensors.concat(infoObj.newSensors),\n                            alertMessage: {\n                                // show: true,\n                                device: infoObj.newSensors[0].deviceId,\n                                reason: infoObj.action,\n                            },\n                        };\n                        for (const sensor of infoObj.newSensors) {\n                            mqttService.subscribe(client, sensor.pubTopic);\n                        }\n                        dataRef.current = newData;\n                        setData(newData);\n                    }\n                } else if (infoObj.action === \"action\") {\n                    console.log(infoObj);\n                    const newData = {\n                        sensors: dataRef.current.sensors,\n                        alertMessage: {\n                            reason: infoObj.action,\n                            actionCategory: infoObj.actionInfo.actionCategory,\n                            command: infoObj.actionInfo.command,\n                            roomName: infoObj.actionInfo.roomName,\n                            sensorType: infoObj.actionInfo.sensorType,\n                        },\n                    };\n                    dataRef.current = newData;\n                    setData(newData);\n                }\n                return;\n            }\n        };\n\n        client.on(\"message\", messageHandler);\n\n        return () => {\n            console.log(\"Dashboard was unmounted!\");\n            client.off(\"message\", messageHandler);\n        };\n    }, []);\n\n    return (\n        <div>\n            <AlertMessage alertMessage={data.alertMessage}/>\n            <Dashboard sensors={data.sensors} alertMessage={data.alertMessage}/>\n        </div>\n    );\n};\n\nexport default FetcherÎœQTT;\n","export default __webpack_public_path__ + \"static/media/brightness.f2162df0.svg\";","export default __webpack_public_path__ + \"static/media/lightbulb-open2.d67991f2.svg\";","export default __webpack_public_path__ + \"static/media/lightbulb-closed2.909d2ca0.svg\";","export default __webpack_public_path__ + \"static/media/thermometer.26bec6cd.svg\";","export default __webpack_public_path__ + \"static/media/humidity.41d15f93.svg\";","export default __webpack_public_path__ + \"static/media/average.9152ffbf.svg\";","export default __webpack_public_path__ + \"static/media/not-found.cd5a9b2a.svg\";","export default __webpack_public_path__ + \"static/media/home-automation4.cc5ee920.svg\";","export default __webpack_public_path__ + \"static/media/home-automation.1ec2cf5b.svg\";","export default __webpack_public_path__ + \"static/media/home-automation3.2481b425.svg\";","export default __webpack_public_path__ + \"static/media/home-location.cc2515ec.svg\";","import \"./App.css\";\nimport React, { useEffect, useState } from \"react\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\n\nimport { Switch } from \"react-router-dom\";\nimport Login from \"./components/Login\";\nimport PrivateRoute from \"./utils/PrivateRoute\";\nimport PublicRoute from \"./utils/PublicRoute\";\nimport { getToken, removeUserSession, setUserSession } from \"./utils/Common\";\nimport axios from 'axios';\nimport FetcherMQTT from \"./components/FetcherMQTT\";\nimport AssetImages from \"./utils/AssetImages\"\nfunction App() {\n  const [authLoading, setAuthLoading] = useState(true);\n\n  useEffect(() => {\n    const token = getToken();\n    if (!token) {\n      return;\n    }\n\n    axios\n      .get(`http://localhost:5000/api/verifyToken?token=${token}`)\n      .then((response) => {\n        setUserSession(response.data.token, response.data.user);\n        setAuthLoading(false);\n      })\n      .catch((error) => {\n        alert(error);\n        removeUserSession();\n        setAuthLoading(false);\n      });\n  }, []);\n\n  if (authLoading && getToken()) {\n    return <div className=\"content\">Checking Authentication...</div>;\n  }\n  return (\n    <Router>\n      <Switch>\n        {/* <Route exact path=\"/\" component={Home} /> */}\n\n        <PrivateRoute path=\"/dashboard\" component={FetcherMQTT} />\n        <PublicRoute path=\"/\" component={Login} />\n      </Switch>\n    </Router>\n  );\n}\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { createMuiTheme } from '@material-ui/core/styles';\n\nconst theme = createMuiTheme({\n    \"palette\": {\n        \"background\": {\n            \"default\": \"#FFF\",\n            \"emphasis\": \"#E8EAF6\",\n            \"secondary\": \"#C5CAE9\",\n            \"header\": \"#121037\"\n        },\n        \"text\": {\n            \"primary\": \"#615f5d\",\n            \"secondary\": \"#999693\",\n            \"hint\": \"#ccc8c4\",\n            \"whiteText\": \"white\"\n        },\n        \"primary\": {\n            // \"main\": \"#2ca6d7\",\n            \"main\": \"#000000\",\n            \"light\": \"#333333\",\n            \"dark\": \"#545454\"\n        },\n        \"secondary\": {\n            \"main\": \"#b09058\",\n            // \"main\": \"#737373\",\n            \"light\": \"#deb66f\",\n            \"dark\": \"#9c7f4e\"\n        },\n        \"contrastThreshold\": 1.8\n    },\n    // \"shadows\": [\n    //     \"none\",\n    //     \"none\",\n    //     \"none\",\n    //     \"none\",\n    //     \"none\",\n    //     \"none\",\n    //     \"none\",\n    //     \"none\",\n    //     \"none\",\n    //     \"none\",\n    //     \"none\",\n    //     \"none\",\n    //     \"none\",\n    //     \"none\",\n    //     \"none\",\n    //     \"none\",\n    //     \"none\",\n    //     \"none\",\n    //     \"none\",\n    //     \"none\",\n    //     \"none\",\n    //     \"none\",\n    //     \"none\",\n    //     \"none\",\n    //     \"none\"\n    // ]\n});\n\nexport default theme;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport { ThemeProvider } from '@material-ui/core/styles';\nimport theme from './theme/theme';\n// import Location from \"./utils/Location\"\n\nconst renderReactDom = () => {\n  ReactDOM.render(\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <App />\n    </ThemeProvider>,\n    document.getElementById('root')\n  );\n};\n\nif (window.cordova) {\n  document.addEventListener('deviceready', () => {\n      renderReactDom();\n  }, false);\n} else {\n  renderReactDom();\n}\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}